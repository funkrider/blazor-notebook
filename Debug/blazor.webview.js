/*! For license information please see blazor.webview.js.LICENSE.txt */
(()=>{"use strict";var e,t,n,r={d:(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};r.d({},{dispatcher:()=>It}),function(e){const t=[],n="__jsObjectId",r="__dotNetObject",o="__byte[]",a="__dotNetStream",s="__jsStreamReferenceLength";let i,c;class l{constructor(e){this._jsObject=e,this._cachedFunctions=new Map}findFunction(e){const t=this._cachedFunctions.get(e);if(t)return t;let n,r=this._jsObject;if(e.split(".").forEach((t=>{if(!(t in r))throw new Error(`Could not find '${e}' ('${t}' was undefined).`);n=r,r=r[t]})),r instanceof Function)return r=r.bind(n),this._cachedFunctions.set(e,r),r;throw new Error(`The value '${e}' is not a function.`)}getWrappedObject(){return this._jsObject}}const u={0:new l(window)};u[0]._cachedFunctions.set("import",(e=>("string"==typeof e&&e.startsWith("./")&&(e=new URL(e.substr(2),document.baseURI).toString()),import(e))));let d,h=1;function f(e){t.push(e)}function p(e){if(e&&"object"==typeof e){u[h]=new l(e);const t={[n]:h};return h++,t}throw new Error(`Cannot create a JSObjectReference from the value '${e}'.`)}function m(e){let t=-1;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Blob)t=e.size;else{if(!(e.buffer instanceof ArrayBuffer))throw new Error("Supplied value is not a typed array or blob.");if(void 0===e.byteLength)throw new Error(`Cannot create a JSStreamReference from the value '${e}' as it doesn't have a byteLength.`);t=e.byteLength}const r={[s]:t};try{const t=p(e);r[n]=t[n]}catch(t){throw new Error(`Cannot create a JSStreamReference from the value '${e}'.`)}return r}function v(e,n){c=e;const r=n?JSON.parse(n,((e,n)=>t.reduce(((t,n)=>n(e,t)),n))):null;return c=void 0,r}function g(){if(void 0===i)throw new Error("No call dispatcher has been set.");if(null===i)throw new Error("There are multiple .NET runtimes present, so a default dispatcher could not be resolved. Use DotNetObject to invoke .NET instance methods.");return i}e.attachDispatcher=function(e){const t=new y(e);return void 0===i?i=t:i&&(i=null),t},e.attachReviver=f,e.invokeMethod=function(e,t,...n){return g().invokeDotNetStaticMethod(e,t,...n)},e.invokeMethodAsync=function(e,t,...n){return g().invokeDotNetStaticMethodAsync(e,t,...n)},e.createJSObjectReference=p,e.createJSStreamReference=m,e.disposeJSObjectReference=function(e){const t=e&&e[n];"number"==typeof t&&E(t)},function(e){e[e.Default=0]="Default",e[e.JSObjectReference=1]="JSObjectReference",e[e.JSStreamReference=2]="JSStreamReference",e[e.JSVoidResult=3]="JSVoidResult"}(d=e.JSCallResultType||(e.JSCallResultType={}));class y{constructor(e){this._dotNetCallDispatcher=e,this._byteArraysToBeRevived=new Map,this._pendingDotNetToJSStreams=new Map,this._pendingAsyncCalls={},this._nextAsyncCallId=1}getDotNetCallDispatcher(){return this._dotNetCallDispatcher}invokeJSFromDotNet(e,t,n,r){const o=v(this,t),a=C(w(e,r)(...o||[]),n);return null==a?null:N(this,a)}beginInvokeJSFromDotNet(e,t,n,r,o){const a=new Promise((e=>{const r=v(this,n);e(w(t,o)(...r||[]))}));e&&a.then((t=>N(this,[e,!0,C(t,r)]))).then((t=>this._dotNetCallDispatcher.endInvokeJSFromDotNet(e,!0,t)),(t=>this._dotNetCallDispatcher.endInvokeJSFromDotNet(e,!1,JSON.stringify([e,!1,b(t)]))))}endInvokeDotNetFromJS(e,t,n){const r=t?v(this,n):new Error(n);this.completePendingCall(parseInt(e,10),t,r)}invokeDotNetStaticMethod(e,t,...n){return this.invokeDotNetMethod(e,t,null,n)}invokeDotNetStaticMethodAsync(e,t,...n){return this.invokeDotNetMethodAsync(e,t,null,n)}invokeDotNetMethod(e,t,n,r){if(this._dotNetCallDispatcher.invokeDotNetFromJS){const o=N(this,r),a=this._dotNetCallDispatcher.invokeDotNetFromJS(e,t,n,o);return a?v(this,a):null}throw new Error("The current dispatcher does not support synchronous calls from JS to .NET. Use invokeDotNetMethodAsync instead.")}invokeDotNetMethodAsync(e,t,n,r){if(e&&n)throw new Error(`For instance method calls, assemblyName should be null. Received '${e}'.`);const o=this._nextAsyncCallId++,a=new Promise(((e,t)=>{this._pendingAsyncCalls[o]={resolve:e,reject:t}}));try{const a=N(this,r);this._dotNetCallDispatcher.beginInvokeDotNetFromJS(o,e,t,n,a)}catch(e){this.completePendingCall(o,!1,e)}return a}receiveByteArray(e,t){this._byteArraysToBeRevived.set(e,t)}processByteArray(e){const t=this._byteArraysToBeRevived.get(e);return t?(this._byteArraysToBeRevived.delete(e),t):null}supplyDotNetStream(e,t){if(this._pendingDotNetToJSStreams.has(e)){const n=this._pendingDotNetToJSStreams.get(e);this._pendingDotNetToJSStreams.delete(e),n.resolve(t)}else{const n=new D;n.resolve(t),this._pendingDotNetToJSStreams.set(e,n)}}getDotNetStreamPromise(e){let t;if(this._pendingDotNetToJSStreams.has(e))t=this._pendingDotNetToJSStreams.get(e).streamPromise,this._pendingDotNetToJSStreams.delete(e);else{const n=new D;this._pendingDotNetToJSStreams.set(e,n),t=n.streamPromise}return t}completePendingCall(e,t,n){if(!this._pendingAsyncCalls.hasOwnProperty(e))throw new Error(`There is no pending async call with ID ${e}.`);const r=this._pendingAsyncCalls[e];delete this._pendingAsyncCalls[e],t?r.resolve(n):r.reject(n)}}function b(e){return e instanceof Error?`${e.message}\n${e.stack}`:e?e.toString():"null"}function w(e,t){const n=u[t];if(n)return n.findFunction(e);throw new Error(`JS object instance with ID ${t} does not exist (has it been disposed?).`)}function E(e){delete u[e]}e.findJSFunction=w,e.disposeJSObjectReferenceById=E;class S{constructor(e,t){this._id=e,this._callDispatcher=t}invokeMethod(e,...t){return this._callDispatcher.invokeDotNetMethod(null,e,this._id,t)}invokeMethodAsync(e,...t){return this._callDispatcher.invokeDotNetMethodAsync(null,e,this._id,t)}dispose(){this._callDispatcher.invokeDotNetMethodAsync(null,"__Dispose",this._id,null).catch((e=>console.error(e)))}serializeAsArg(){return{[r]:this._id}}}e.DotNetObject=S,f((function(e,t){if(t&&"object"==typeof t){if(t.hasOwnProperty(r))return new S(t[r],c);if(t.hasOwnProperty(n)){const e=t[n],r=u[e];if(r)return r.getWrappedObject();throw new Error(`JS object instance with Id '${e}' does not exist. It may have been disposed.`)}if(t.hasOwnProperty(o)){const e=t[o],n=c.processByteArray(e);if(void 0===n)throw new Error(`Byte array index '${e}' does not exist.`);return n}if(t.hasOwnProperty(a)){const e=t[a],n=c.getDotNetStreamPromise(e);return new I(n)}}return t}));class I{constructor(e){this._streamPromise=e}stream(){return this._streamPromise}async arrayBuffer(){return new Response(await this.stream()).arrayBuffer()}}class D{constructor(){this.streamPromise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}function C(e,t){switch(t){case d.Default:return e;case d.JSObjectReference:return p(e);case d.JSStreamReference:return m(e);case d.JSVoidResult:return null;default:throw new Error(`Invalid JS call result type '${t}'.`)}}let A=0;function N(e,t){A=0,c=e;const n=JSON.stringify(t,k);return c=void 0,n}function k(e,t){if(t instanceof S)return t.serializeAsArg();if(t instanceof Uint8Array){c.getDotNetCallDispatcher().sendByteArray(A,t);const e={[o]:A};return A++,e}return t}}(e||(e={})),function(e){e[e.prependFrame=1]="prependFrame",e[e.removeFrame=2]="removeFrame",e[e.setAttribute=3]="setAttribute",e[e.removeAttribute=4]="removeAttribute",e[e.updateText=5]="updateText",e[e.stepIn=6]="stepIn",e[e.stepOut=7]="stepOut",e[e.updateMarkup=8]="updateMarkup",e[e.permutationListEntry=9]="permutationListEntry",e[e.permutationListEnd=10]="permutationListEnd"}(t||(t={})),function(e){e[e.element=1]="element",e[e.text=2]="text",e[e.attribute=3]="attribute",e[e.component=4]="component",e[e.region=5]="region",e[e.elementReferenceCapture=6]="elementReferenceCapture",e[e.markup=8]="markup"}(n||(n={}));class o{constructor(e,t){this.componentId=e,this.fieldValue=t}static fromEvent(e,t){const n=t.target;if(n instanceof Element){const t=function(e){return e instanceof HTMLInputElement?e.type&&"checkbox"===e.type.toLowerCase()?{value:e.checked}:{value:e.value}:e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?{value:e.value}:null}(n);if(t)return new o(e,t.value)}return null}}const a=new Map,s=new Map,i=[];function c(e){return a.get(e)}function l(e){const t=a.get(e);return(null==t?void 0:t.browserEventName)||e}function u(e,t){e.forEach((e=>a.set(e,t)))}function d(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push({identifier:r.identifier,clientX:r.clientX,clientY:r.clientY,screenX:r.screenX,screenY:r.screenY,pageX:r.pageX,pageY:r.pageY})}return t}function h(e){return{detail:e.detail,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,pageX:e.pageX,pageY:e.pageY,movementX:e.movementX,movementY:e.movementY,button:e.button,buttons:e.buttons,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,type:e.type}}u(["input","change"],{createEventArgs:function(e){const t=e.target;if(function(e){return-1!==f.indexOf(e.getAttribute("type"))}(t)){const e=function(e){const t=e.value,n=e.type;switch(n){case"date":case"month":case"week":return t;case"datetime-local":return 16===t.length?t+":00":t;case"time":return 5===t.length?t+":00":t}throw new Error(`Invalid element type '${n}'.`)}(t);return{value:e}}if(function(e){return e instanceof HTMLSelectElement&&"select-multiple"===e.type}(t)){const e=t;return{value:Array.from(e.options).filter((e=>e.selected)).map((e=>e.value))}}{const e=function(e){return!!e&&"INPUT"===e.tagName&&"checkbox"===e.getAttribute("type")}(t);return{value:e?!!t.checked:t.value}}}}),u(["copy","cut","paste"],{createEventArgs:e=>({type:e.type})}),u(["drag","dragend","dragenter","dragleave","dragover","dragstart","drop"],{createEventArgs:e=>{return{...h(t=e),dataTransfer:t.dataTransfer?{dropEffect:t.dataTransfer.dropEffect,effectAllowed:t.dataTransfer.effectAllowed,files:Array.from(t.dataTransfer.files).map((e=>e.name)),items:Array.from(t.dataTransfer.items).map((e=>({kind:e.kind,type:e.type}))),types:t.dataTransfer.types}:null};var t}}),u(["focus","blur","focusin","focusout"],{createEventArgs:e=>({type:e.type})}),u(["keydown","keyup","keypress"],{createEventArgs:e=>{return{key:(t=e).key,code:t.code,location:t.location,repeat:t.repeat,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,type:t.type};var t}}),u(["contextmenu","click","mouseover","mouseout","mousemove","mousedown","mouseup","mouseleave","mouseenter","dblclick"],{createEventArgs:e=>h(e)}),u(["error"],{createEventArgs:e=>{return{message:(t=e).message,filename:t.filename,lineno:t.lineno,colno:t.colno,type:t.type};var t}}),u(["loadstart","timeout","abort","load","loadend","progress"],{createEventArgs:e=>{return{lengthComputable:(t=e).lengthComputable,loaded:t.loaded,total:t.total,type:t.type};var t}}),u(["touchcancel","touchend","touchmove","touchenter","touchleave","touchstart"],{createEventArgs:e=>{return{detail:(t=e).detail,touches:d(t.touches),targetTouches:d(t.targetTouches),changedTouches:d(t.changedTouches),ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,type:t.type};var t}}),u(["gotpointercapture","lostpointercapture","pointercancel","pointerdown","pointerenter","pointerleave","pointermove","pointerout","pointerover","pointerup"],{createEventArgs:e=>{return{...h(t=e),pointerId:t.pointerId,width:t.width,height:t.height,pressure:t.pressure,tiltX:t.tiltX,tiltY:t.tiltY,pointerType:t.pointerType,isPrimary:t.isPrimary};var t}}),u(["wheel","mousewheel"],{createEventArgs:e=>{return{...h(t=e),deltaX:t.deltaX,deltaY:t.deltaY,deltaZ:t.deltaZ,deltaMode:t.deltaMode};var t}}),u(["toggle"],{createEventArgs:()=>({})});const f=["date","datetime-local","month","time","week"],p=new Map;let m,v,g=0;const y={async add(e,t,n){if(!n)throw new Error("initialParameters must be an object, even if empty.");const r="__bl-dynamic-root:"+(++g).toString();p.set(r,e);const o=await E().invokeMethodAsync("AddRootComponent",t,r),a=new w(o,v[t]);return await a.setParameters(n),a}};class b{invoke(e){return this._callback(e)}setCallback(t){this._selfJSObjectReference||(this._selfJSObjectReference=e.createJSObjectReference(this)),this._callback=t}getJSObjectReference(){return this._selfJSObjectReference}dispose(){this._selfJSObjectReference&&e.disposeJSObjectReference(this._selfJSObjectReference)}}class w{constructor(e,t){this._jsEventCallbackWrappers=new Map,this._componentId=e;for(const e of t)"eventcallback"===e.type&&this._jsEventCallbackWrappers.set(e.name.toLowerCase(),new b)}setParameters(e){const t={},n=Object.entries(e||{}),r=n.length;for(const[e,r]of n){const n=this._jsEventCallbackWrappers.get(e.toLowerCase());n&&r?(n.setCallback(r),t[e]=n.getJSObjectReference()):t[e]=r}return E().invokeMethodAsync("SetRootComponentParameters",this._componentId,r,t)}async dispose(){if(null!==this._componentId){await E().invokeMethodAsync("RemoveRootComponent",this._componentId),this._componentId=null;for(const e of this._jsEventCallbackWrappers.values())e.dispose()}}}function E(){if(!m)throw new Error("Dynamic root components have not been enabled in this application.");return m}const S=[];let I;const D=new Promise((e=>{I=e}));function C(e,t,n){return N(e,t.eventHandlerId,(()=>A(e).invokeMethodAsync("DispatchEventAsync",t,n)))}function A(e){const t=S[e];if(!t)throw new Error(`No interop methods are registered for renderer ${e}`);return t}let N=(e,t,n)=>n();const k=x(["abort","blur","canplay","canplaythrough","change","cuechange","durationchange","emptied","ended","error","focus","load","loadeddata","loadedmetadata","loadend","loadstart","mouseenter","mouseleave","pointerenter","pointerleave","pause","play","playing","progress","ratechange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeupdate","toggle","unload","volumechange","waiting","DOMNodeInsertedIntoDocument","DOMNodeRemovedFromDocument"]),T={submit:!0},R=x(["click","dblclick","mousedown","mousemove","mouseup"]);class _{constructor(e){this.browserRendererId=e,this.afterClickCallbacks=[];const t=++_.nextEventDelegatorId;this.eventsCollectionKey=`_blazorEvents_${t}`,this.eventInfoStore=new O(this.onGlobalEvent.bind(this))}setListener(e,t,n,r){const o=this.getEventHandlerInfosForElement(e,!0),a=o.getHandler(t);if(a)this.eventInfoStore.update(a.eventHandlerId,n);else{const a={element:e,eventName:t,eventHandlerId:n,renderingComponentId:r};this.eventInfoStore.add(a),o.setHandler(t,a)}}getHandler(e){return this.eventInfoStore.get(e)}removeListener(e){const t=this.eventInfoStore.remove(e);if(t){const e=t.element,n=this.getEventHandlerInfosForElement(e,!1);n&&n.removeHandler(t.eventName)}}notifyAfterClick(e){this.afterClickCallbacks.push(e),this.eventInfoStore.addGlobalListener("click")}setStopPropagation(e,t,n){this.getEventHandlerInfosForElement(e,!0).stopPropagation(t,n)}setPreventDefault(e,t,n){this.getEventHandlerInfosForElement(e,!0).preventDefault(t,n)}onGlobalEvent(e){if(!(e.target instanceof Element))return;this.dispatchGlobalEventToAllElements(e.type,e);const t=(n=e.type,s.get(n));var n;t&&t.forEach((t=>this.dispatchGlobalEventToAllElements(t,e))),"click"===e.type&&this.afterClickCallbacks.forEach((t=>t(e)))}dispatchGlobalEventToAllElements(e,t){const n=t.composedPath();let r=n.shift(),a=null,s=!1;const i=Object.prototype.hasOwnProperty.call(k,e);let l=!1;for(;r;){const h=r,f=this.getEventHandlerInfosForElement(h,!1);if(f){const n=f.getHandler(e);if(n&&(u=h,d=t.type,!((u instanceof HTMLButtonElement||u instanceof HTMLInputElement||u instanceof HTMLTextAreaElement||u instanceof HTMLSelectElement)&&Object.prototype.hasOwnProperty.call(R,d)&&u.disabled))){if(!s){const n=c(e);a=(null==n?void 0:n.createEventArgs)?n.createEventArgs(t):{},s=!0}Object.prototype.hasOwnProperty.call(T,t.type)&&t.preventDefault(),C(this.browserRendererId,{eventHandlerId:n.eventHandlerId,eventName:e,eventFieldInfo:o.fromEvent(n.renderingComponentId,t)},a)}f.stopPropagation(e)&&(l=!0),f.preventDefault(e)&&t.preventDefault()}r=i||l?void 0:n.shift()}var u,d}getEventHandlerInfosForElement(e,t){return Object.prototype.hasOwnProperty.call(e,this.eventsCollectionKey)?e[this.eventsCollectionKey]:t?e[this.eventsCollectionKey]=new L:null}}_.nextEventDelegatorId=0;class O{constructor(e){this.globalListener=e,this.infosByEventHandlerId={},this.countByEventName={},i.push(this.handleEventNameAliasAdded.bind(this))}add(e){if(this.infosByEventHandlerId[e.eventHandlerId])throw new Error(`Event ${e.eventHandlerId} is already tracked`);this.infosByEventHandlerId[e.eventHandlerId]=e,this.addGlobalListener(e.eventName)}get(e){return this.infosByEventHandlerId[e]}addGlobalListener(e){if(e=l(e),Object.prototype.hasOwnProperty.call(this.countByEventName,e))this.countByEventName[e]++;else{this.countByEventName[e]=1;const t=Object.prototype.hasOwnProperty.call(k,e);document.addEventListener(e,this.globalListener,t)}}update(e,t){if(Object.prototype.hasOwnProperty.call(this.infosByEventHandlerId,t))throw new Error(`Event ${t} is already tracked`);const n=this.infosByEventHandlerId[e];delete this.infosByEventHandlerId[e],n.eventHandlerId=t,this.infosByEventHandlerId[t]=n}remove(e){const t=this.infosByEventHandlerId[e];if(t){delete this.infosByEventHandlerId[e];const n=l(t.eventName);0==--this.countByEventName[n]&&(delete this.countByEventName[n],document.removeEventListener(n,this.globalListener))}return t}handleEventNameAliasAdded(e,t){if(Object.prototype.hasOwnProperty.call(this.countByEventName,e)){const n=this.countByEventName[e];delete this.countByEventName[e],document.removeEventListener(e,this.globalListener),this.addGlobalListener(t),this.countByEventName[t]+=n-1}}}class L{constructor(){this.handlers={},this.preventDefaultFlags=null,this.stopPropagationFlags=null}getHandler(e){return Object.prototype.hasOwnProperty.call(this.handlers,e)?this.handlers[e]:null}setHandler(e,t){this.handlers[e]=t}removeHandler(e){delete this.handlers[e]}preventDefault(e,t){return void 0!==t&&(this.preventDefaultFlags=this.preventDefaultFlags||{},this.preventDefaultFlags[e]=t),!!this.preventDefaultFlags&&this.preventDefaultFlags[e]}stopPropagation(e,t){return void 0!==t&&(this.stopPropagationFlags=this.stopPropagationFlags||{},this.stopPropagationFlags[e]=t),!!this.stopPropagationFlags&&this.stopPropagationFlags[e]}}function x(e){const t={};return e.forEach((e=>{t[e]=!0})),t}const F=q("_blazorLogicalChildren"),P=q("_blazorLogicalParent"),M=q("_blazorLogicalEnd");function B(e,t){if(e.childNodes.length>0&&!t)throw new Error("New logical elements must start empty, or allowExistingContents must be true");return F in e||(e[F]=[]),e}function j(e,t){const n=document.createComment("!");return H(n,e,t),n}function H(e,t,n){const r=e;if(e instanceof Comment&&K(r)&&K(r).length>0)throw new Error("Not implemented: inserting non-empty logical container");if(U(r))throw new Error("Not implemented: moving existing logical children");const o=K(t);if(n<o.length){const t=o[n];t.parentNode.insertBefore(e,t),o.splice(n,0,r)}else Y(e,t),o.push(r);r[P]=t,F in r||(r[F]=[])}function J(e,t){const n=K(e).splice(t,1)[0];if(n instanceof Comment){const e=K(n);if(e)for(;e.length>0;)J(n,0)}const r=n;r.parentNode.removeChild(r)}function U(e){return e[P]||null}function $(e,t){return K(e)[t]}function z(e){const t=X(e);return"http://www.w3.org/2000/svg"===t.namespaceURI&&"foreignObject"!==t.tagName}function K(e){return e[F]}function V(e,t){const n=K(e);t.forEach((e=>{e.moveRangeStart=n[e.fromSiblingIndex],e.moveRangeEnd=G(e.moveRangeStart)})),t.forEach((t=>{const r=document.createComment("marker");t.moveToBeforeMarker=r;const o=n[t.toSiblingIndex+1];o?o.parentNode.insertBefore(r,o):Y(r,e)})),t.forEach((e=>{const t=e.moveToBeforeMarker,n=t.parentNode,r=e.moveRangeStart,o=e.moveRangeEnd;let a=r;for(;a;){const e=a.nextSibling;if(n.insertBefore(a,t),a===o)break;a=e}n.removeChild(t)})),t.forEach((e=>{n[e.toSiblingIndex]=e.moveRangeStart}))}function X(e){if(e instanceof Element||e instanceof DocumentFragment)return e;if(e instanceof Comment)return e.parentNode;throw new Error("Not a valid logical element")}function W(e){const t=K(U(e));return t[Array.prototype.indexOf.call(t,e)+1]||null}function Y(e,t){if(t instanceof Element||t instanceof DocumentFragment)t.appendChild(e);else{if(!(t instanceof Comment))throw new Error(`Cannot append node because the parent is not a valid logical element. Parent: ${t}`);{const n=W(t);n?n.parentNode.insertBefore(e,n):Y(e,U(t))}}}function G(e){if(e instanceof Element||e instanceof DocumentFragment)return e;const t=W(e);if(t)return t.previousSibling;{const t=U(e);return t instanceof Element||t instanceof DocumentFragment?t.lastChild:G(t)}}function q(e){return"function"==typeof Symbol?Symbol():e}function Z(e){return`_bl_${e}`}const Q="__internalId";e.attachReviver(((e,t)=>t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,Q)&&"string"==typeof t[Q]?function(e){const t=`[${Z(e)}]`;return document.querySelector(t)}(t[Q]):t));const ee="_blazorDeferredValue",te=document.createElement("template"),ne=document.createElementNS("http://www.w3.org/2000/svg","g"),re={},oe="__internal_",ae="preventDefault_",se="stopPropagation_";class ie{constructor(e){this.rootComponentIds=new Set,this.childComponentLocations={},this.eventDelegator=new _(e),this.eventDelegator.notifyAfterClick((e=>{if(!me)return;if(0!==e.button||function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey}(e))return;if(e.defaultPrevented)return;const t=function(e){const t=!window._blazorDisableComposedPath&&e.composedPath&&e.composedPath();if(t){for(let e=0;e<t.length;e++){const n=t[e];if(n instanceof Element&&"A"===n.tagName)return n}return null}return Pe(e.target,"A")}(e);if(t&&function(e){const t=e.getAttribute("target");return(!t||"_self"===t)&&e.hasAttribute("href")&&!e.hasAttribute("download")}(t)){const n=Fe(t.getAttribute("href"));Me(n)&&(e.preventDefault(),Ne(n,!0,!1))}}))}attachRootComponentToLogicalElement(e,t,n){this.attachComponentToElement(e,t),this.rootComponentIds.add(e),n||(re[e]=t)}updateComponent(e,t,n,r){var o;const a=this.childComponentLocations[t];if(!a)throw new Error(`No element is currently associated with component ${t}`);const s=re[t];if(s){const e=function(e){return e[M]||null}(s);delete re[t],e?function(e,t){const n=U(e);if(!n)throw new Error("Can't clear between nodes. The start node does not have a logical parent.");const r=K(n),o=r.indexOf(e)+1,a=r.indexOf(t);for(let e=o;e<=a;e++)J(n,o);e.textContent="!"}(s,e):function(e){let t;for(;t=e.firstChild;)e.removeChild(t)}(s)}const i=null===(o=X(a))||void 0===o?void 0:o.getRootNode(),c=i&&i.activeElement;this.applyEdits(e,t,a,0,n,r),c instanceof HTMLElement&&i&&i.activeElement!==c&&c.focus()}disposeComponent(e){this.rootComponentIds.delete(e)&&function(e){const t=K(e);for(;t.length;)J(e,0)}(this.childComponentLocations[e]),delete this.childComponentLocations[e]}disposeEventHandler(e){this.eventDelegator.removeListener(e)}attachComponentToElement(e,t){this.childComponentLocations[e]=t}applyEdits(e,n,r,o,a,s){let i,c=0,l=o;const u=e.arrayBuilderSegmentReader,d=e.editReader,h=e.frameReader,f=u.values(a),p=u.offset(a),m=p+u.count(a);for(let a=p;a<m;a++){const u=e.diffReader.editsEntry(f,a),p=d.editType(u);switch(p){case t.prependFrame:{const t=d.newTreeIndex(u),o=e.referenceFramesEntry(s,t),a=d.siblingIndex(u);this.insertFrame(e,n,r,l+a,s,o,t);break}case t.removeFrame:J(r,l+d.siblingIndex(u));break;case t.setAttribute:{const t=d.newTreeIndex(u),o=e.referenceFramesEntry(s,t),a=$(r,l+d.siblingIndex(u));if(!(a instanceof Element))throw new Error("Cannot set attribute on non-element child");this.applyAttribute(e,n,a,o);break}case t.removeAttribute:{const t=$(r,l+d.siblingIndex(u));if(!(t instanceof Element))throw new Error("Cannot remove attribute from non-element child");{const n=d.removedAttributeName(u);this.tryApplySpecialProperty(e,t,n,null)||t.removeAttribute(n)}break}case t.updateText:{const t=d.newTreeIndex(u),n=e.referenceFramesEntry(s,t),o=$(r,l+d.siblingIndex(u));if(!(o instanceof Text))throw new Error("Cannot set text content on non-text child");o.textContent=h.textContent(n);break}case t.updateMarkup:{const t=d.newTreeIndex(u),n=e.referenceFramesEntry(s,t),o=d.siblingIndex(u);J(r,l+o),this.insertMarkup(e,r,l+o,n);break}case t.stepIn:r=$(r,l+d.siblingIndex(u)),c++,l=0;break;case t.stepOut:r=U(r),c--,l=0===c?o:0;break;case t.permutationListEntry:i=i||[],i.push({fromSiblingIndex:l+d.siblingIndex(u),toSiblingIndex:l+d.moveToSiblingIndex(u)});break;case t.permutationListEnd:V(r,i),i=void 0;break;default:throw new Error(`Unknown edit type: ${p}`)}}}insertFrame(e,t,r,o,a,s,i){const c=e.frameReader,l=c.frameType(s);switch(l){case n.element:return this.insertElement(e,t,r,o,a,s,i),1;case n.text:return this.insertText(e,r,o,s),1;case n.attribute:throw new Error("Attribute frames should only be present as leading children of element frames.");case n.component:return this.insertComponent(e,r,o,s),1;case n.region:return this.insertFrameRange(e,t,r,o,a,i+1,i+c.subtreeLength(s));case n.elementReferenceCapture:if(r instanceof Element)return u=r,d=c.elementReferenceCaptureId(s),u.setAttribute(Z(d),""),0;throw new Error("Reference capture frames can only be children of element frames.");case n.markup:return this.insertMarkup(e,r,o,s),1;default:throw new Error(`Unknown frame type: ${l}`)}var u,d}insertElement(e,t,r,o,a,s,i){const c=e.frameReader,l=c.elementName(s),u="svg"===l||z(r)?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l),d=B(u);let h=!1;const f=i+c.subtreeLength(s);for(let s=i+1;s<f;s++){const i=e.referenceFramesEntry(a,s);if(c.frameType(i)!==n.attribute){H(u,r,o),h=!0,this.insertFrameRange(e,t,d,0,a,s,f);break}this.applyAttribute(e,t,u,i)}h||H(u,r,o),u instanceof HTMLOptionElement?this.trySetSelectValueFromOptionElement(u):ee in u&&he(u,u[ee])}trySetSelectValueFromOptionElement(e){const t=this.findClosestAncestorSelectElement(e);if(!function(e){return!!e&&ee in e}(t))return!1;if(ue(t))e.selected=-1!==t._blazorDeferredValue.indexOf(e.value);else{if(t._blazorDeferredValue!==e.value)return!1;de(t,e.value),delete t._blazorDeferredValue}return!0}insertComponent(e,t,n,r){const o=j(t,n),a=e.frameReader.componentId(r);this.attachComponentToElement(a,o)}insertText(e,t,n,r){const o=e.frameReader.textContent(r);H(document.createTextNode(o),t,n)}insertMarkup(e,t,n,r){const o=j(t,n),a=(s=e.frameReader.markupContent(r),z(t)?(ne.innerHTML=s||" ",ne):(te.innerHTML=s||" ",te.content));var s;let i=0;for(;a.firstChild;)H(a.firstChild,o,i++)}applyAttribute(e,t,n,r){const o=e.frameReader,a=o.attributeName(r),s=o.attributeEventHandlerId(r);if(s){const e=le(a);this.eventDelegator.setListener(n,e,s,t)}else this.tryApplySpecialProperty(e,n,a,r)||n.setAttribute(a,o.attributeValue(r))}tryApplySpecialProperty(e,t,n,r){switch(n){case"value":return this.tryApplyValueProperty(e,t,r);case"checked":return this.tryApplyCheckedProperty(e,t,r);default:return!!n.startsWith(oe)&&(this.applyInternalAttribute(e,t,n.substring(oe.length),r),!0)}}applyInternalAttribute(e,t,n,r){const o=r?e.frameReader.attributeValue(r):null;if(n.startsWith(se)){const e=le(n.substring(se.length));this.eventDelegator.setStopPropagation(t,e,null!==o)}else{if(!n.startsWith(ae))throw new Error(`Unsupported internal attribute '${n}'`);{const e=le(n.substring(ae.length));this.eventDelegator.setPreventDefault(t,e,null!==o)}}}tryApplyValueProperty(e,t,n){const r=e.frameReader;let o=n?r.attributeValue(n):null;switch(o&&"INPUT"===t.tagName&&(o=function(e,t){switch(t.getAttribute("type")){case"time":return 8!==e.length||!e.endsWith("00")&&t.hasAttribute("step")?e:e.substring(0,5);case"datetime-local":return 19!==e.length||!e.endsWith("00")&&t.hasAttribute("step")?e:e.substring(0,16);default:return e}}(o,t)),t.tagName){case"INPUT":case"SELECT":case"TEXTAREA":return o&&t instanceof HTMLSelectElement&&ue(t)&&(o=JSON.parse(o)),he(t,o),t[ee]=o,!0;case"OPTION":return o||""===o?t.setAttribute("value",o):t.removeAttribute("value"),this.trySetSelectValueFromOptionElement(t),!0;default:return!1}}tryApplyCheckedProperty(e,t,n){if("INPUT"===t.tagName){const r=n?e.frameReader.attributeValue(n):null;return t.checked=null!==r,!0}return!1}findClosestAncestorSelectElement(e){for(;e;){if(e instanceof HTMLSelectElement)return e;e=e.parentElement}return null}insertFrameRange(e,t,n,r,o,a,s){const i=r;for(let i=a;i<s;i++){const a=e.referenceFramesEntry(o,i);r+=this.insertFrame(e,t,n,r,o,a,i),i+=ce(e,a)}return r-i}}function ce(e,t){const r=e.frameReader;switch(r.frameType(t)){case n.component:case n.element:case n.region:return r.subtreeLength(t)-1;default:return 0}}function le(e){if(e.startsWith("on"))return e.substring(2);throw new Error(`Attribute should be an event name, but doesn't start with 'on'. Value: '${e}'`)}function ue(e){return"select-multiple"===e.type}function de(e,t){e.value=t||""}function he(e,t){e instanceof HTMLSelectElement?ue(e)?function(e,t){t||(t=[]);for(let n=0;n<e.options.length;n++)e.options[n].selected=-1!==t.indexOf(e.options[n].value)}(e,t):de(e,t):e.value=t}const fe={};let pe=!1,me=!1,ve=!1,ge=!1,ye=0,be=0,we=null,Ee=null,Se=async function(e){var t,n,r;if(Re(),ge){const o=null!==(n=null===(t=e.state)||void 0===t?void 0:t._index)&&void 0!==n?n:0,a=null===(r=e.state)||void 0===r?void 0:r.userState,s=o-ye,i=location.href;if(await Te(-s),!await _e(i,a,!1))return;await Te(s)}await Oe(!1)},Ie=null;const De={listenForNavigationEvents:function(e,t){var n,r;we=e,Ee=t,ve||(ve=!0,window.addEventListener("popstate",Le),ye=null!==(r=null===(n=history.state)||void 0===n?void 0:n._index)&&void 0!==r?r:0)},enableNavigationInterception:function(){me=!0},setHasLocationChangingListeners:function(e){ge=e},endLocationChanging:function(e,t){Ie&&e===be&&(Ie(t),Ie=null)},navigateTo:function(e,t){Ae(e,t,!0)},getBaseURI:()=>document.baseURI,getLocationHref:()=>location.href,scrollToElement:Ce};function Ce(e){const t=document.getElementById(e);return!!t&&(t.scrollIntoView(),!0)}function Ae(e,t,n=!1){const r=Fe(e);!t.forceLoad&&Me(r)?Ne(r,!1,t.replaceHistoryEntry,t.historyEntryState,n):function(e,t){if(location.href===e){const t=e+"?";history.replaceState(null,"",t),location.replace(e)}else t?location.replace(e):location.href=e}(e,t.replaceHistoryEntry)}async function Ne(e,t,n,r,o=!1){if(Re(),function(e){const t=e.indexOf("#");return t>-1&&location.href.replace(location.hash,"")===e.substring(0,t)}(e))!function(e,t,n){ke(e,t,n);const r=e.indexOf("#");r!==e.length-1&&Ce(e.substring(r+1))}(e,n,r);else{if(!o&&ge&&!await _e(e,r,t))return;pe=!0,ke(e,n,r),await Oe(t)}}function ke(e,t,n){t?history.replaceState({userState:n,_index:ye},"",e):(ye++,history.pushState({userState:n,_index:ye},"",e))}function Te(e){return new Promise((t=>{const n=Se;Se=()=>{Se=n,t()},history.go(e)}))}function Re(){Ie&&(Ie(!1),Ie=null)}function _e(e,t,n){return new Promise((r=>{Re(),Ee?(be++,Ie=r,Ee(be,e,t,n)):r(!1)}))}async function Oe(e){var t;we&&await we(location.href,null===(t=history.state)||void 0===t?void 0:t.userState,e)}async function Le(e){var t,n;Se&&await Se(e),ye=null!==(n=null===(t=history.state)||void 0===t?void 0:t._index)&&void 0!==n?n:0}let xe;function Fe(e){return xe=xe||document.createElement("a"),xe.href=e,xe.href}function Pe(e,t){return e?e.tagName===t?e:Pe(e.parentElement,t):null}function Me(e){const t=(n=document.baseURI).substring(0,n.lastIndexOf("/"));var n;const r=e.charAt(t.length);return e.startsWith(t)&&(""===r||"/"===r||"?"===r||"#"===r)}const Be={focus:function(e,t){if(e instanceof HTMLElement)e.focus({preventScroll:t});else{if(!(e instanceof SVGElement))throw new Error("Unable to focus an invalid element.");if(!e.hasAttribute("tabindex"))throw new Error("Unable to focus an SVG element that does not have a tabindex.");e.focus({preventScroll:t})}},focusBySelector:function(e,t){const n=document.querySelector(e);n&&(n.hasAttribute("tabindex")||(n.tabIndex=-1),n.focus({preventScroll:!0}))}},je={init:function(e,t,n,r=50){const o=Je(t);(o||document.documentElement).style.overflowAnchor="none";const a=document.createRange();u(n.parentElement)&&(t.style.display="table-row",n.style.display="table-row");const s=new IntersectionObserver((function(r){r.forEach((r=>{var o;if(!r.isIntersecting)return;a.setStartAfter(t),a.setEndBefore(n);const s=a.getBoundingClientRect().height,i=null===(o=r.rootBounds)||void 0===o?void 0:o.height;r.target===t?e.invokeMethodAsync("OnSpacerBeforeVisible",r.intersectionRect.top-r.boundingClientRect.top,s,i):r.target===n&&n.offsetHeight>0&&e.invokeMethodAsync("OnSpacerAfterVisible",r.boundingClientRect.bottom-r.intersectionRect.bottom,s,i)}))}),{root:o,rootMargin:`${r}px`});s.observe(t),s.observe(n);const i=l(t),c=l(n);function l(e){const t={attributes:!0},n=new MutationObserver(((n,r)=>{u(e.parentElement)&&(r.disconnect(),e.style.display="table-row",r.observe(e,t)),s.unobserve(e),s.observe(e)}));return n.observe(e,t),n}function u(e){return null!==e&&(e instanceof HTMLTableElement&&""===e.style.display||"table"===e.style.display||e instanceof HTMLTableSectionElement&&""===e.style.display||"table-row-group"===e.style.display)}He[e._id]={intersectionObserver:s,mutationObserverBefore:i,mutationObserverAfter:c}},dispose:function(e){const t=He[e._id];t&&(t.intersectionObserver.disconnect(),t.mutationObserverBefore.disconnect(),t.mutationObserverAfter.disconnect(),e.dispose(),delete He[e._id])}},He={};function Je(e){return e&&e!==document.body&&e!==document.documentElement?"visible"!==getComputedStyle(e).overflowY?e:Je(e.parentElement):null}const Ue={getAndRemoveExistingTitle:function(){var e;const t=document.head?document.head.getElementsByTagName("title"):[];if(0===t.length)return null;let n=null;for(let r=t.length-1;r>=0;r--){const o=t[r],a=o.previousSibling;a instanceof Comment&&null!==U(a)||(null===n&&(n=o.textContent),null===(e=o.parentNode)||void 0===e||e.removeChild(o))}return n}},$e={init:function(e,t){t._blazorInputFileNextFileId=0,t.addEventListener("click",(function(){t.value=""})),t.addEventListener("change",(function(){t._blazorFilesById={};const n=Array.prototype.map.call(t.files,(function(e){const n={id:++t._blazorInputFileNextFileId,lastModified:new Date(e.lastModified).toISOString(),name:e.name,size:e.size,contentType:e.type,readPromise:void 0,arrayBuffer:void 0,blob:e};return t._blazorFilesById[n.id]=n,n}));e.invokeMethodAsync("NotifyChange",n)}))},toImageFile:async function(e,t,n,r,o){const a=ze(e,t),s=await new Promise((function(e){const t=new Image;t.onload=function(){URL.revokeObjectURL(t.src),e(t)},t.onerror=function(){t.onerror=null,URL.revokeObjectURL(t.src)},t.src=URL.createObjectURL(a.blob)})),i=await new Promise((function(e){var t;const a=Math.min(1,r/s.width),i=Math.min(1,o/s.height),c=Math.min(a,i),l=document.createElement("canvas");l.width=Math.round(s.width*c),l.height=Math.round(s.height*c),null===(t=l.getContext("2d"))||void 0===t||t.drawImage(s,0,0,l.width,l.height),l.toBlob(e,n)})),c={id:++e._blazorInputFileNextFileId,lastModified:a.lastModified,name:a.name,size:(null==i?void 0:i.size)||0,contentType:n,blob:i||a.blob};return e._blazorFilesById[c.id]=c,c},readFileData:async function(e,t){return ze(e,t).blob}};function ze(e,t){const n=e._blazorFilesById[t];if(!n)throw new Error(`There is no file with ID ${t}. The file list may have changed. See https://aka.ms/aspnet/blazor-input-file-multiple-selections.`);return n}const Ke=new Set,Ve={enableNavigationPrompt:function(e){0===Ke.size&&window.addEventListener("beforeunload",Xe),Ke.add(e)},disableNavigationPrompt:function(e){Ke.delete(e),0===Ke.size&&window.removeEventListener("beforeunload",Xe)}};function Xe(e){e.preventDefault(),e.returnValue=!0}const We=new Map,Ye={navigateTo:function(e,t,n=!1){Ae(e,t instanceof Object?t:{forceLoad:t,replaceHistoryEntry:n})},registerCustomEventType:function(e,t){if(!t)throw new Error("The options parameter is required.");if(a.has(e))throw new Error(`The event '${e}' is already registered.`);if(t.browserEventName){const n=s.get(t.browserEventName);n?n.push(e):s.set(t.browserEventName,[e]),i.forEach((n=>n(e,t.browserEventName)))}a.set(e,t)},rootComponents:y,_internal:{navigationManager:De,domWrapper:Be,Virtualize:je,PageTitle:Ue,InputFile:$e,NavigationLock:Ve,getJSDataStreamChunk:async function(e,t,n){return e instanceof Blob?await async function(e,t,n){const r=e.slice(t,t+n),o=await r.arrayBuffer();return new Uint8Array(o)}(e,t,n):function(e,t,n){return new Uint8Array(e.buffer,e.byteOffset+t,n)}(e,t,n)},attachWebRendererInterop:function(t,n,r){const o=S.length;return S.push(t),Object.keys(n).length>0&&function(t,n,r){if(m)throw new Error("Dynamic root components have already been enabled.");m=t,v=n;for(const[t,o]of Object.entries(r)){const r=e.findJSFunction(t,0);for(const e of o)r(e,n[e])}}(A(o),n,r),I(),o}}};window.Blazor=Ye;let Ge=!1;const qe="function"==typeof TextDecoder?new TextDecoder("utf-8"):null,Ze=qe?qe.decode.bind(qe):function(e){let t=0;const n=e.length,r=[],o=[];for(;t<n;){const n=e[t++];if(0===n)break;if(0==(128&n))r.push(n);else if(192==(224&n)){const o=63&e[t++];r.push((31&n)<<6|o)}else if(224==(240&n)){const o=63&e[t++],a=63&e[t++];r.push((31&n)<<12|o<<6|a)}else if(240==(248&n)){let o=(7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++];o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o)}r.length>1024&&(o.push(String.fromCharCode.apply(null,r)),r.length=0)}return o.push(String.fromCharCode.apply(null,r)),o.join("")},Qe=Math.pow(2,32),et=Math.pow(2,21)-1;function tt(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function nt(e,t){return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24>>>0)}function rt(e,t){const n=nt(e,t+4);if(n>et)throw new Error(`Cannot read uint64 with high order part ${n}, because the result would exceed Number.MAX_SAFE_INTEGER.`);return n*Qe+nt(e,t)}class ot{constructor(e){this.batchData=e;const t=new ct(e);this.arrayRangeReader=new lt(e),this.arrayBuilderSegmentReader=new ut(e),this.diffReader=new at(e),this.editReader=new st(e,t),this.frameReader=new it(e,t)}updatedComponents(){return tt(this.batchData,this.batchData.length-20)}referenceFrames(){return tt(this.batchData,this.batchData.length-16)}disposedComponentIds(){return tt(this.batchData,this.batchData.length-12)}disposedEventHandlerIds(){return tt(this.batchData,this.batchData.length-8)}updatedComponentsEntry(e,t){const n=e+4*t;return tt(this.batchData,n)}referenceFramesEntry(e,t){return e+20*t}disposedComponentIdsEntry(e,t){const n=e+4*t;return tt(this.batchData,n)}disposedEventHandlerIdsEntry(e,t){const n=e+8*t;return rt(this.batchData,n)}}class at{constructor(e){this.batchDataUint8=e}componentId(e){return tt(this.batchDataUint8,e)}edits(e){return e+4}editsEntry(e,t){return e+16*t}}class st{constructor(e,t){this.batchDataUint8=e,this.stringReader=t}editType(e){return tt(this.batchDataUint8,e)}siblingIndex(e){return tt(this.batchDataUint8,e+4)}newTreeIndex(e){return tt(this.batchDataUint8,e+8)}moveToSiblingIndex(e){return tt(this.batchDataUint8,e+8)}removedAttributeName(e){const t=tt(this.batchDataUint8,e+12);return this.stringReader.readString(t)}}class it{constructor(e,t){this.batchDataUint8=e,this.stringReader=t}frameType(e){return tt(this.batchDataUint8,e)}subtreeLength(e){return tt(this.batchDataUint8,e+4)}elementReferenceCaptureId(e){const t=tt(this.batchDataUint8,e+4);return this.stringReader.readString(t)}componentId(e){return tt(this.batchDataUint8,e+8)}elementName(e){const t=tt(this.batchDataUint8,e+8);return this.stringReader.readString(t)}textContent(e){const t=tt(this.batchDataUint8,e+4);return this.stringReader.readString(t)}markupContent(e){const t=tt(this.batchDataUint8,e+4);return this.stringReader.readString(t)}attributeName(e){const t=tt(this.batchDataUint8,e+4);return this.stringReader.readString(t)}attributeValue(e){const t=tt(this.batchDataUint8,e+8);return this.stringReader.readString(t)}attributeEventHandlerId(e){return rt(this.batchDataUint8,e+12)}}class ct{constructor(e){this.batchDataUint8=e,this.stringTableStartIndex=tt(e,e.length-4)}readString(e){if(-1===e)return null;{const n=tt(this.batchDataUint8,this.stringTableStartIndex+4*e),r=function(e,t){let n=0,r=0;for(let o=0;o<4;o++){const a=e[t+o];if(n|=(127&a)<<r,a<128)break;r+=7}return n}(this.batchDataUint8,n),o=n+((t=r)<128?1:t<16384?2:t<2097152?3:4),a=new Uint8Array(this.batchDataUint8.buffer,this.batchDataUint8.byteOffset+o,r);return Ze(a)}var t}}class lt{constructor(e){this.batchDataUint8=e}count(e){return tt(this.batchDataUint8,e)}values(e){return e+4}}class ut{constructor(e){this.batchDataUint8=e}offset(e){return 0}count(e){return tt(this.batchDataUint8,e)}values(e){return e+4}}const dt="__bwv:";let ht=!1;function ft(e,t){bt("OnRenderCompleted",e,t)}function pt(e,t,n,r,o){bt("BeginInvokeDotNet",e?e.toString():null,t,n,r||0,o)}function mt(e,t,n){bt("EndInvokeJS",e,t,n)}function vt(e,t){const n=function(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=String.fromCharCode(e[n]);return btoa(t.join(""))}(t);bt("ReceiveByteArrayFromJS",e,n)}function gt(e,t,n){return bt("OnLocationChanged",e,t,n),Promise.resolve()}function yt(e,t,n,r){return bt("OnLocationChanging",e,t,n,r),Promise.resolve()}function bt(e,...t){const n=function(e,t){return ht?null:`${dt}${JSON.stringify([e,...t])}`}(e,t);n&&window.external.sendMessage(n)}function wt(e,t){const n=Et(t);It.receiveByteArray(e,n)}function Et(e){const t=atob(e),n=t.length,r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t.charCodeAt(e);return r}class St{constructor(){this.afterStartedCallbacks=[]}async importInitializersAsync(e,t){await Promise.all(e.map((e=>async function(e,n){const r=function(e){const t=document.baseURI;return t.endsWith("/")?`${t}${e}`:`${t}/${e}`}(n),o=await import(r);if(void 0===o)return;const{beforeStart:a,afterStarted:s}=o;return s&&e.afterStartedCallbacks.push(s),a?a(...t):void 0}(this,e))))}async invokeAfterStartedCallbacks(e){await D,await Promise.all(this.afterStartedCallbacks.map((t=>t(e))))}}let It,Dt=!1;async function Ct(){if(Dt)throw new Error("Blazor has already started.");Dt=!0,It=e.attachDispatcher({beginInvokeDotNetFromJS:pt,endInvokeJSFromDotNet:mt,sendByteArray:vt});const t=await async function(){const e=await fetch("_framework/blazor.modules.json",{method:"GET",credentials:"include",cache:"no-cache"}),t=await e.json(),n=new St;return await n.importInitializersAsync(t,[]),n}();(function(){const e={AttachToDocument:(e,t)=>{!function(e,t,n){const r="::after",o="::before";let a=!1;if(e.endsWith(r))e=e.slice(0,-r.length),a=!0;else if(e.endsWith(o))throw new Error(`The '${o}' selector is not supported.`);const s=function(e){const t=p.get(e);if(t)return p.delete(e),t}(e)||document.querySelector(e);if(!s)throw new Error(`Could not find any element matching selector '${e}'.`);!function(e,t,n,r){let o=fe[0];o||(o=new ie(0),fe[0]=o),o.attachRootComponentToLogicalElement(n,t,r)}(0,B(s,!0),t,a)}(t,e)},RenderBatch:(e,t)=>{try{const n=Et(t);(function(e,t){const n=fe[0];if(!n)throw new Error("There is no browser renderer with ID 0.");const r=t.arrayRangeReader,o=t.updatedComponents(),a=r.values(o),s=r.count(o),i=t.referenceFrames(),c=r.values(i),l=t.diffReader;for(let e=0;e<s;e++){const r=t.updatedComponentsEntry(a,e),o=l.componentId(r),s=l.edits(r);n.updateComponent(t,o,s,c)}const u=t.disposedComponentIds(),d=r.values(u),h=r.count(u);for(let e=0;e<h;e++){const r=t.disposedComponentIdsEntry(d,e);n.disposeComponent(r)}const f=t.disposedEventHandlerIds(),p=r.values(f),m=r.count(f);for(let e=0;e<m;e++){const r=t.disposedEventHandlerIdsEntry(p,e);n.disposeEventHandler(r)}pe&&(pe=!1,window.scrollTo&&window.scrollTo(0,0))})(0,new ot(n)),ft(e,null)}catch(t){ft(e,t.toString())}},NotifyUnhandledException:(e,t)=>{ht=!0,console.error(`${e}\n${t}`),function(){const e=document.querySelector("#blazor-error-ui");e&&(e.style.display="block"),Ge||(Ge=!0,document.querySelectorAll("#blazor-error-ui .reload").forEach((e=>{e.onclick=function(e){location.reload(),e.preventDefault()}})),document.querySelectorAll("#blazor-error-ui .dismiss").forEach((e=>{e.onclick=function(e){const t=document.querySelector("#blazor-error-ui");t&&(t.style.display="none"),e.preventDefault()}})))}()},BeginInvokeJS:It.beginInvokeJSFromDotNet.bind(It),EndInvokeDotNet:It.endInvokeDotNetFromJS.bind(It),SendByteArrayToJS:wt,Navigate:De.navigateTo,SetHasLocationChangingListeners:De.setHasLocationChangingListeners,EndLocationChanging:De.endLocationChanging};window.external.receiveMessage((t=>{const n=function(e){if(ht||!e||!e.startsWith(dt))return null;const t=e.substring(dt.length),[n,...r]=JSON.parse(t);return{messageType:n,args:r}}(t);if(n){if(!Object.prototype.hasOwnProperty.call(e,n.messageType))throw new Error(`Unsupported IPC message type '${n.messageType}'`);e[n.messageType].apply(null,n.args)}}))})(),Ye._internal.receiveWebViewDotNetDataStream=At,De.enableNavigationInterception(),De.listenForNavigationEvents(gt,yt),bt("AttachPage",De.getBaseURI(),De.getLocationHref()),await t.invokeAfterStartedCallbacks(Ye)}function At(e,t,n,r){!function(e,t,n,r,o){let a=We.get(t);if(!a){const n=new ReadableStream({start(e){We.set(t,e),a=e}});e.supplyDotNetStream(t,n)}o?(a.error(o),We.delete(t)):0===r?(a.close(),We.delete(t)):a.enqueue(n.length===r?n:n.subarray(0,r))}(It,e,t,n,r)}Ye.start=Ct,window.DotNet=e,document&&document.currentScript&&"false"!==document.currentScript.getAttribute("autostart")&&Ct()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmxhem9yLndlYnZpZXcuanMiLCJtYXBwaW5ncyI6IjttQkFDQSxJQ0VXQSxFQ2dFQ0MsRUFjQUMsRUZoRlJDLEVBQXNCLENHQTFCQSxFQUF3QixDQUFDQyxFQUFTQyxLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hGLEVBQW9CSSxFQUFFRixFQUFZQyxLQUFTSCxFQUFvQkksRUFBRUgsRUFBU0UsSUFDNUVFLE9BQU9DLGVBQWVMLEVBQVNFLEVBQUssQ0FBRUksWUFBWSxFQUFNQyxJQUFLTixFQUFXQyxJQUUxRSxFQ05ESCxFQUF3QixDQUFDUyxFQUFLQyxJQUFVTCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLSixFQUFLQyxnQ0hJbEYsU0FBV2IsR0FDUCxNQUFNaUIsRUFBZSxHQUNmQyxFQUFnQixlQUNoQkMsRUFBcUIsaUJBQ3JCQyxFQUFrQixXQUNsQkMsRUFBcUIsaUJBQ3JCQyxFQUE2Qiw0QkFJbkMsSUFBSUMsRUFFQUMsRUFDSixNQUFNQyxFQUVGQyxZQUFZQyxHQUNSQyxLQUFLRCxVQUFZQSxFQUNqQkMsS0FBS0MsaUJBQW1CLElBQUlDLEdBQ2hDLENBQ0FDLGFBQWFDLEdBQ1QsTUFBTUMsRUFBaUJMLEtBQUtDLGlCQUFpQmxCLElBQUlxQixHQUNqRCxHQUFJQyxFQUNBLE9BQU9BLEVBRVgsSUFDSUMsRUFEQUMsRUFBU1AsS0FBS0QsVUFXbEIsR0FUQUssRUFBV0ksTUFBTSxLQUFLQyxTQUFRQyxJQUMxQixLQUFJQSxLQUFXSCxHQUtYLE1BQU0sSUFBSUksTUFBTSxtQkFBbUJQLFFBQWlCTSxzQkFKcERKLEVBQW1CQyxFQUNuQkEsRUFBU0EsRUFBT0csRUFJcEIsSUFFQUgsYUFBa0JLLFNBR2xCLE9BRkFMLEVBQVNBLEVBQU9NLEtBQUtQLEdBQ3JCTixLQUFLQyxpQkFBaUJhLElBQUlWLEVBQVlHLEdBQy9CQSxFQUVYLE1BQU0sSUFBSUksTUFBTSxjQUFjUCx3QkFDbEMsQ0FDQVcsbUJBQ0ksT0FBT2YsS0FBS0QsU0FDaEIsRUFFSixNQUNNaUIsRUFBc0IsQ0FDeEIsRUFBb0IsSUFBSW5CLEVBQVNvQixTQUVyQ0QsRUFKeUIsR0FJYWYsaUJBQWlCYSxJQUFJLFVBQVdJLElBSS9DLGlCQUFSQSxHQUFvQkEsRUFBSUMsV0FBVyxRQUMxQ0QsRUFBTSxJQUFJRSxJQUFJRixFQUFJRyxPQUFPLEdBQUlDLFNBQVNDLFNBQVNDLFlBRTVDQyxPQUFpQ1AsTUFFNUMsSUF5SklRLEVBekpBQyxFQUFpQixFQXlCckIsU0FBU0MsRUFBY0MsR0FDbkJ4QyxFQUFheUMsS0FBS0QsRUFDdEIsQ0FzQ0EsU0FBU0UsRUFBd0JDLEdBQzdCLEdBQUlBLEdBQWdDLGlCQUFiQSxFQUF1QixDQUMxQ2hCLEVBQW9CVyxHQUFrQixJQUFJOUIsRUFBU21DLEdBQ25ELE1BQU16QixFQUFTLENBQ1gsQ0FBQ2pCLEdBQWdCcUMsR0FHckIsT0FEQUEsSUFDT3BCLENBQ1gsQ0FDQSxNQUFNLElBQUlJLE1BQU0scURBQXFEcUIsTUFDekUsQ0FTQSxTQUFTQyxFQUF3QkMsR0FDN0IsSUFBSUMsR0FBVSxFQU1kLEdBSElELGFBQTJCRSxjQUMzQkYsRUFBa0IsSUFBSUcsV0FBV0gsSUFFakNBLGFBQTJCSSxLQUMzQkgsRUFBU0QsRUFBZ0JLLFNBRXhCLE1BQUlMLEVBQWdCTSxrQkFBa0JKLGFBT3ZDLE1BQU0sSUFBSXpCLE1BQU0sZ0RBTmhCLFFBQW1DOEIsSUFBL0JQLEVBQWdCUSxXQUNoQixNQUFNLElBQUkvQixNQUFNLHFEQUFxRHVCLHVDQUV6RUMsRUFBU0QsRUFBZ0JRLFVBSTdCLENBQ0EsTUFBTW5DLEVBQVMsQ0FDWCxDQUFDYixHQUE2QnlDLEdBRWxDLElBQ0ksTUFBTVEsRUFBb0JaLEVBQXdCRyxHQUNsRDNCLEVBQU9qQixHQUFpQnFELEVBQWtCckQsRUFJOUMsQ0FGQSxNQUFPc0QsR0FDSCxNQUFNLElBQUlqQyxNQUFNLHFEQUFxRHVCLE1BQ3pFLENBQ0EsT0FBTzNCLENBQ1gsQ0FjQSxTQUFTc0MsRUFBc0JDLEVBQWdCQyxHQUMzQ25ELEVBQXdCa0QsRUFDeEIsTUFBTXZDLEVBQVN3QyxFQUFPQyxLQUFLQyxNQUFNRixHQUFNLENBQUNyRSxFQUFLd0UsSUFHbEM3RCxFQUFhOEQsUUFBTyxDQUFDQyxFQUFhdkIsSUFBWUEsRUFBUW5ELEVBQUswRSxJQUFjRixLQUMvRSxLQUVMLE9BREF0RCxPQUF3QjZDLEVBQ2pCbEMsQ0FDWCxDQUNBLFNBQVM4QyxJQUNMLFFBQThCWixJQUExQjlDLEVBQ0EsTUFBTSxJQUFJZ0IsTUFBTSxvQ0FFZixHQUE4QixPQUExQmhCLEVBQ0wsTUFBTSxJQUFJZ0IsTUFBTSw4SUFHaEIsT0FBT2hCLENBRWYsQ0FoSUF2QixFQUFPa0YsaUJBZFAsU0FBMEJDLEdBQ3RCLE1BQU1oRCxFQUFTLElBQUlpRCxFQUFlRCxHQVdsQyxZQVY4QmQsSUFBMUI5QyxFQUdBQSxFQUF3QlksRUFFbkJaLElBR0xBLEVBQXdCLE1BRXJCWSxDQUNYLEVBU0FuQyxFQUFPd0QsY0FBZ0JBLEVBZXZCeEQsRUFBT3FGLGFBSlAsU0FBc0JDLEVBQWNDLEtBQXFCQyxHQUVyRCxPQURtQlAsSUFDRFEseUJBQXlCSCxFQUFjQyxLQUFxQkMsRUFDbEYsRUFlQXhGLEVBQU8wRixrQkFKUCxTQUEyQkosRUFBY0MsS0FBcUJDLEdBRTFELE9BRG1CUCxJQUNEVSw4QkFBOEJMLEVBQWNDLEtBQXFCQyxFQUN2RixFQW9CQXhGLEVBQU8yRCx3QkFBMEJBLEVBdUNqQzNELEVBQU82RCx3QkFBMEJBLEVBWWpDN0QsRUFBTzRGLHlCQU5QLFNBQWtDckIsR0FDOUIsTUFBTXNCLEVBQUt0QixHQUFxQkEsRUFBa0JyRCxHQUNoQyxpQkFBUDJFLEdBQ1BDLEVBQTZCRCxFQUVyQyxFQTRCQSxTQUFXdkMsR0FDUEEsRUFBaUJBLEVBQTBCLFFBQUksR0FBSyxVQUNwREEsRUFBaUJBLEVBQW9DLGtCQUFJLEdBQUssb0JBQzlEQSxFQUFpQkEsRUFBb0Msa0JBQUksR0FBSyxvQkFDOURBLEVBQWlCQSxFQUErQixhQUFJLEdBQUssY0FDNUQsQ0FMRCxDQUtHQSxFQUFtQnRELEVBQU9zRCxtQkFBcUJ0RCxFQUFPc0QsaUJBQW1CLENBQUMsSUFDN0UsTUFBTThCLEVBRUYxRCxZQUFZcUUsR0FDUm5FLEtBQUttRSxzQkFBd0JBLEVBQzdCbkUsS0FBS29FLHVCQUF5QixJQUFJbEUsSUFDbENGLEtBQUtxRSwwQkFBNEIsSUFBSW5FLElBQ3JDRixLQUFLc0UsbUJBQXFCLENBQUMsRUFDM0J0RSxLQUFLdUUsaUJBQW1CLENBQzVCLENBQ0FDLDBCQUNJLE9BQU94RSxLQUFLbUUscUJBQ2hCLENBQ0FNLG1CQUFtQnJFLEVBQVlzRSxFQUFVQyxFQUFZQyxHQUNqRCxNQUFNaEIsRUFBT2YsRUFBc0I3QyxLQUFNMEUsR0FHbkNuRSxFQUFTc0UsRUFGSUMsRUFBZTFFLEVBQVl3RSxFQUMxQkcsSUFBZW5CLEdBQVEsSUFDSWUsR0FDL0MsT0FBT3BFLFFBQ0QsS0FDQXlFLEVBQWNoRixLQUFNTyxFQUM5QixDQUNBMEUsd0JBQXdCQyxFQUFhOUUsRUFBWXNFLEVBQVVDLEVBQVlDLEdBR25FLE1BQU1PLEVBQVUsSUFBSUMsU0FBUUMsSUFDeEIsTUFBTXpCLEVBQU9mLEVBQXNCN0MsS0FBTTBFLEdBR3pDVyxFQUZtQlAsRUFBZTFFLEVBQVl3RSxFQUNYRyxJQUFlbkIsR0FBUSxJQUN2QixJQUduQ3NCLEdBR0FDLEVBQ0lHLE1BQUsvRSxHQUFVeUUsRUFBY2hGLEtBQU0sQ0FDbkNrRixHQUNBLEVBQ0FMLEVBQW1CdEUsRUFBUW9FLE9BRTNCVyxNQUFLL0UsR0FBVVAsS0FBS21FLHNCQUFzQm9CLHNCQUFzQkwsR0FBYSxFQUFNM0UsS0FBU3FDLEdBQVM1QyxLQUFLbUUsc0JBQXNCb0Isc0JBQXNCTCxHQUFhLEVBQU9sQyxLQUFLd0MsVUFBVSxDQUN6TE4sR0FDQSxFQUNBTyxFQUFZN0MsT0FHeEIsQ0FDQThDLHNCQUFzQkMsRUFBYUMsRUFBU0MsR0FDeEMsTUFBTUMsRUFBZ0JGLEVBQ2hCL0MsRUFBc0I3QyxLQUFNNkYsR0FDNUIsSUFBSWxGLE1BQU1rRixHQUNoQjdGLEtBQUsrRixvQkFBb0JDLFNBQVNMLEVBQWEsSUFBS0MsRUFBU0UsRUFDakUsQ0FDQWpDLHlCQUF5QkgsRUFBY0MsS0FBcUJDLEdBQ3hELE9BQU81RCxLQUFLaUcsbUJBQW1CdkMsRUFBY0MsRUFBa0IsS0FBTUMsRUFDekUsQ0FDQUcsOEJBQThCTCxFQUFjQyxLQUFxQkMsR0FDN0QsT0FBTzVELEtBQUtrRyx3QkFBd0J4QyxFQUFjQyxFQUFrQixLQUFNQyxFQUM5RSxDQUNBcUMsbUJBQW1CdkMsRUFBY0MsRUFBa0J3QyxFQUFnQnZDLEdBQy9ELEdBQUk1RCxLQUFLbUUsc0JBQXNCaUMsbUJBQW9CLENBQy9DLE1BQU0xQixFQUFXTSxFQUFjaEYsS0FBTTRELEdBQy9CeUMsRUFBYXJHLEtBQUttRSxzQkFBc0JpQyxtQkFBbUIxQyxFQUFjQyxFQUFrQndDLEVBQWdCekIsR0FDakgsT0FBTzJCLEVBQWF4RCxFQUFzQjdDLEtBQU1xRyxHQUFjLElBQ2xFLENBQ0EsTUFBTSxJQUFJMUYsTUFBTSxrSEFDcEIsQ0FDQXVGLHdCQUF3QnhDLEVBQWNDLEVBQWtCd0MsRUFBZ0J2QyxHQUNwRSxHQUFJRixHQUFnQnlDLEVBQ2hCLE1BQU0sSUFBSXhGLE1BQU0scUVBQXFFK0MsT0FFekYsTUFBTWlDLEVBQWMzRixLQUFLdUUsbUJBQ25CK0IsRUFBZ0IsSUFBSWxCLFNBQVEsQ0FBQ0MsRUFBU2tCLEtBQ3hDdkcsS0FBS3NFLG1CQUFtQnFCLEdBQWUsQ0FBRU4sVUFBU2tCLFNBQVEsSUFFOUQsSUFDSSxNQUFNN0IsRUFBV00sRUFBY2hGLEtBQU00RCxHQUNyQzVELEtBQUttRSxzQkFBc0JxQyx3QkFBd0JiLEVBQWFqQyxFQUFjQyxFQUFrQndDLEVBQWdCekIsRUFLcEgsQ0FIQSxNQUFPK0IsR0FFSHpHLEtBQUsrRixvQkFBb0JKLEdBQWEsRUFBT2MsRUFDakQsQ0FDQSxPQUFPSCxDQUNYLENBQ0FJLGlCQUFpQnpDLEVBQUkwQyxHQUNqQjNHLEtBQUtvRSx1QkFBdUJ0RCxJQUFJbUQsRUFBSTBDLEVBQ3hDLENBQ0FDLGlCQUFpQjNDLEdBQ2IsTUFBTTFELEVBQVNQLEtBQUtvRSx1QkFBdUJyRixJQUFJa0YsR0FDL0MsT0FBSzFELEdBR0xQLEtBQUtvRSx1QkFBdUJ5QyxPQUFPNUMsR0FDNUIxRCxHQUhJLElBSWYsQ0FDQXVHLG1CQUFtQkMsRUFBVUMsR0FDekIsR0FBSWhILEtBQUtxRSwwQkFBMEI0QyxJQUFJRixHQUFXLENBRTlDLE1BQU1HLEVBQWdCbEgsS0FBS3FFLDBCQUEwQnRGLElBQUlnSSxHQUN6RC9HLEtBQUtxRSwwQkFBMEJ3QyxPQUFPRSxHQUN0Q0csRUFBYzdCLFFBQVEyQixFQUMxQixLQUNLLENBRUQsTUFBTUUsRUFBZ0IsSUFBSUMsRUFDMUJELEVBQWM3QixRQUFRMkIsR0FDdEJoSCxLQUFLcUUsMEJBQTBCdkQsSUFBSWlHLEVBQVVHLEVBQ2pELENBQ0osQ0FDQUUsdUJBQXVCTCxHQUluQixJQUFJeEcsRUFDSixHQUFJUCxLQUFLcUUsMEJBQTBCNEMsSUFBSUYsR0FFbkN4RyxFQUFTUCxLQUFLcUUsMEJBQTBCdEYsSUFBSWdJLEdBQVVNLGNBQ3REckgsS0FBS3FFLDBCQUEwQndDLE9BQU9FLE9BRXJDLENBRUQsTUFBTUcsRUFBZ0IsSUFBSUMsRUFDMUJuSCxLQUFLcUUsMEJBQTBCdkQsSUFBSWlHLEVBQVVHLEdBQzdDM0csRUFBUzJHLEVBQWNHLGFBQzNCLENBQ0EsT0FBTzlHLENBQ1gsQ0FDQXdGLG9CQUFvQkosRUFBYUMsRUFBU0UsR0FDdEMsSUFBSzlGLEtBQUtzRSxtQkFBbUJuRixlQUFld0csR0FDeEMsTUFBTSxJQUFJaEYsTUFBTSwwQ0FBMENnRixNQUU5RCxNQUFNMkIsRUFBWXRILEtBQUtzRSxtQkFBbUJxQixVQUNuQzNGLEtBQUtzRSxtQkFBbUJxQixHQUMzQkMsRUFDQTBCLEVBQVVqQyxRQUFRUyxHQUdsQndCLEVBQVVmLE9BQU9ULEVBRXpCLEVBRUosU0FBU0wsRUFBWTdDLEdBQ2pCLE9BQUlBLGFBQWlCakMsTUFDVixHQUFHaUMsRUFBTTJFLFlBQVkzRSxFQUFNNEUsUUFFL0I1RSxFQUFRQSxFQUFNcEIsV0FBYSxNQUN0QyxDQUNBLFNBQVNzRCxFQUFlMUUsRUFBWXdFLEdBQ2hDLE1BQU02QyxFQUFpQnpHLEVBQW9CNEQsR0FDM0MsR0FBSTZDLEVBQ0EsT0FBT0EsRUFBZXRILGFBQWFDLEdBRXZDLE1BQU0sSUFBSU8sTUFBTSw4QkFBOEJpRSw0Q0FDbEQsQ0FFQSxTQUFTVixFQUE2QkQsVUFDM0JqRCxFQUFvQmlELEVBQy9CLENBSEE3RixFQUFPMEcsZUFBaUJBLEVBSXhCMUcsRUFBTzhGLDZCQUErQkEsRUFDdEMsTUFBTXdELEVBRUY1SCxZQUFZNkgsRUFBS0MsR0FDYjVILEtBQUsySCxJQUFNQSxFQUNYM0gsS0FBSzRILGdCQUFrQkEsQ0FDM0IsQ0FDQW5FLGFBQWFFLEtBQXFCQyxHQUM5QixPQUFPNUQsS0FBSzRILGdCQUFnQjNCLG1CQUFtQixLQUFNdEMsRUFBa0IzRCxLQUFLMkgsSUFBSy9ELEVBQ3JGLENBQ0FFLGtCQUFrQkgsS0FBcUJDLEdBQ25DLE9BQU81RCxLQUFLNEgsZ0JBQWdCMUIsd0JBQXdCLEtBQU12QyxFQUFrQjNELEtBQUsySCxJQUFLL0QsRUFDMUYsQ0FDQWlFLFVBQ29CN0gsS0FBSzRILGdCQUFnQjFCLHdCQUF3QixLQUFNLFlBQWFsRyxLQUFLMkgsSUFBSyxNQUNsRkcsT0FBTWxGLEdBQVNtRixRQUFRbkYsTUFBTUEsSUFDekMsQ0FDQW9GLGlCQUNJLE1BQU8sQ0FBRSxDQUFDekksR0FBcUJTLEtBQUsySCxJQUN4QyxFQUVKdkosRUFBT3NKLGFBQWVBLEVBQ3RCOUYsR0FBYyxTQUF5QmxELEVBQUt1SixHQUN4QyxHQUFJQSxHQUEwQixpQkFBVkEsRUFBb0IsQ0FDcEMsR0FBSUEsRUFBTTlJLGVBQWVJLEdBQ3JCLE9BQU8sSUFBSW1JLEVBQWFPLEVBQU0xSSxHQUFxQkssR0FFbEQsR0FBSXFJLEVBQU05SSxlQUFlRyxHQUFnQixDQUMxQyxNQUFNMkUsRUFBS2dFLEVBQU0zSSxHQUNYMEMsRUFBV2hCLEVBQW9CaUQsR0FDckMsR0FBSWpDLEVBQ0EsT0FBT0EsRUFBU2pCLG1CQUVwQixNQUFNLElBQUlKLE1BQU0sK0JBQStCc0QsZ0RBQ25ELENBQ0ssR0FBSWdFLEVBQU05SSxlQUFlSyxHQUFrQixDQUM1QyxNQUFNMEksRUFBUUQsRUFBTXpJLEdBQ2QySSxFQUFZdkksRUFBc0JnSCxpQkFBaUJzQixHQUN6RCxRQUFrQnpGLElBQWQwRixFQUNBLE1BQU0sSUFBSXhILE1BQU0scUJBQXFCdUgsc0JBRXpDLE9BQU9DLENBQ1gsQ0FDSyxHQUFJRixFQUFNOUksZUFBZU0sR0FBcUIsQ0FDL0MsTUFBTXNILEVBQVdrQixFQUFNeEksR0FDakI0SCxFQUFnQnpILEVBQXNCd0gsdUJBQXVCTCxHQUNuRSxPQUFPLElBQUlxQixFQUFhZixFQUM1QixDQUNKLENBRUEsT0FBT1ksQ0FDWCxJQUNBLE1BQU1HLEVBRUZ0SSxZQUFZdUksR0FDUnJJLEtBQUtxSSxlQUFpQkEsQ0FDMUIsQ0FJQXJCLFNBQ0ksT0FBT2hILEtBQUtxSSxjQUNoQixDQUtBQyxvQkFDSSxPQUFPLElBQUlDLGVBQWV2SSxLQUFLZ0gsVUFBVXdCLGFBQzdDLEVBRUosTUFBTXJCLEVBQ0ZySCxjQUNJRSxLQUFLcUgsY0FBZ0IsSUFBSWpDLFNBQVEsQ0FBQ0MsRUFBU2tCLEtBQ3ZDdkcsS0FBS3FGLFFBQVVBLEVBQ2ZyRixLQUFLdUcsT0FBU0EsQ0FBTSxHQUU1QixFQUVKLFNBQVMxQixFQUFtQjRELEVBQWE5RCxHQUNyQyxPQUFRQSxHQUNKLEtBQUtqRCxFQUFpQmdILFFBQ2xCLE9BQU9ELEVBQ1gsS0FBSy9HLEVBQWlCaUgsa0JBQ2xCLE9BQU81RyxFQUF3QjBHLEdBQ25DLEtBQUsvRyxFQUFpQmtILGtCQUNsQixPQUFPM0csRUFBd0J3RyxHQUNuQyxLQUFLL0csRUFBaUJtSCxhQUNsQixPQUFPLEtBQ1gsUUFDSSxNQUFNLElBQUlsSSxNQUFNLGdDQUFnQ2dFLE9BRTVELENBQ0EsSUFBSW1FLEVBQXFCLEVBQ3pCLFNBQVM5RCxFQUFjbEMsRUFBZ0JjLEdBQ25Da0YsRUFBcUIsRUFDckJsSixFQUF3QmtELEVBQ3hCLE1BQU12QyxFQUFTeUMsS0FBS3dDLFVBQVU1QixFQUFNbUYsR0FFcEMsT0FEQW5KLE9BQXdCNkMsRUFDakJsQyxDQUNYLENBQ0EsU0FBU3dJLEVBQVlySyxFQUFLdUosR0FDdEIsR0FBSUEsYUFBaUJQLEVBQ2pCLE9BQU9PLEVBQU1ELGlCQUVaLEdBQUlDLGFBQWlCNUYsV0FBWSxDQUNMekMsRUFBc0I0RSwwQkFDOUJ3RSxjQUFjRixFQUFvQmIsR0FDdkQsTUFBTWdCLEVBQVksQ0FBRSxDQUFDekosR0FBa0JzSixHQUV2QyxPQURBQSxJQUNPRyxDQUNYLENBQ0EsT0FBT2hCLENBQ1gsQ0FDSCxDQTVlRCxDQTRlRzdKLElBQVdBLEVBQVMsQ0FBQyxJQzdheEIsU0FBWUMsR0FFVixtQ0FDQSxpQ0FDQSxtQ0FDQSx5Q0FDQSwrQkFDQSx1QkFDQSx5QkFDQSxtQ0FDQSxtREFDQSwrQ0FDRCxDQVpELENBQVlBLElBQUFBLEVBQVEsS0FjcEIsU0FBWUMsR0FFVix5QkFDQSxtQkFDQSw2QkFDQSw2QkFDQSx1QkFDQSx5REFDQSxzQkFDRCxDQVRELENBQVlBLElBQUFBLEVBQVMsS0c5RWQsTUFBTTRLLEVBQ1hwSixZQUFtQnFKLEVBQTRCQyxHQUE1QixLQUFBRCxZQUFBQSxFQUE0QixLQUFBQyxXQUFBQSxDQUMvQyxDQUVPQyxpQkFBaUJGLEVBQXFCRyxHQUMzQyxNQUFNQyxFQUFPRCxFQUFNRSxPQUNuQixHQUFJRCxhQUFnQkUsUUFBUyxDQUMzQixNQUFNQyxFQVdaLFNBQTBCSCxHQUl4QixPQUFJQSxhQUFnQkksaUJBQ1ZKLEVBQUtLLE1BQW9DLGFBQTVCTCxFQUFLSyxLQUFLQyxjQUMzQixDQUFFNUIsTUFBT3NCLEVBQUtPLFNBQ2QsQ0FBRTdCLE1BQU9zQixFQUFLdEIsT0FHaEJzQixhQUFnQlEsbUJBQXFCUixhQUFnQlMsb0JBQ2hELENBQUUvQixNQUFPc0IsRUFBS3RCLE9BR2hCLElBQ1QsQ0ExQndCZ0MsQ0FBaUJWLEdBQ25DLEdBQUlHLEVBQ0YsT0FBTyxJQUFJUixFQUFlQyxFQUFhTyxFQUFVekIsT0FLckQsT0FBTyxJQUNULEVDVkYsTUFBTWlDLEVBQW1ELElBQUloSyxJQUN2RGlLLEVBQW9ELElBQUlqSyxJQUdqRGtLLEVBQTRGLEdBZ0NsRyxTQUFTQyxFQUFvQkMsR0FDbEMsT0FBT0osRUFBa0JuTCxJQUFJdUwsRUFDL0IsQ0FNTyxTQUFTQyxFQUFvQkMsR0FDbEMsTUFBTUMsRUFBZVAsRUFBa0JuTCxJQUFJeUwsR0FDM0MsT0FBT0MsYUFBWSxFQUFaQSxFQUFjQyxtQkFBb0JGLENBQzNDLENBRUEsU0FBU0csRUFBeUJDLEVBQXNCQyxHQUN0REQsRUFBV25LLFNBQVE2SixHQUFhSixFQUFrQnBKLElBQUl3SixFQUFXTyxJQUNuRSxDQTJOQSxTQUFTQyxFQUFXQyxHQUNsQixNQUFNQyxFQUF3QixHQUU5QixJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSUYsRUFBVTVJLE9BQVE4SSxJQUFLLENBQ3pDLE1BQU1DLEVBQVFILEVBQVVFLEdBQ3hCRCxFQUFRbEosS0FBSyxDQUNYMUIsV0FBWThLLEVBQU05SyxXQUNsQitLLFFBQVNELEVBQU1DLFFBQ2ZDLFFBQVNGLEVBQU1FLFFBQ2ZDLFFBQVNILEVBQU1HLFFBQ2ZDLFFBQVNKLEVBQU1JLFFBQ2ZDLE1BQU9MLEVBQU1LLE1BQ2JDLE1BQU9OLEVBQU1NLFFBR2pCLE9BQU9SLENBQ1QsQ0FFQSxTQUFTUyxFQUFnQm5DLEdBQ3ZCLE1BQU8sQ0FDTG9DLE9BQVFwQyxFQUFNb0MsT0FDZEwsUUFBUy9CLEVBQU0rQixRQUNmQyxRQUFTaEMsRUFBTWdDLFFBQ2ZILFFBQVM3QixFQUFNNkIsUUFDZkMsUUFBUzlCLEVBQU04QixRQUNmTyxRQUFTckMsRUFBTXFDLFFBQ2ZDLFFBQVN0QyxFQUFNc0MsUUFDZkwsTUFBT2pDLEVBQU1pQyxNQUNiQyxNQUFPbEMsRUFBTWtDLE1BQ2JLLFVBQVd2QyxFQUFNdUMsVUFDakJDLFVBQVd4QyxFQUFNd0MsVUFDakJDLE9BQVF6QyxFQUFNeUMsT0FDZEMsUUFBUzFDLEVBQU0wQyxRQUNmQyxRQUFTM0MsRUFBTTJDLFFBQ2ZDLFNBQVU1QyxFQUFNNEMsU0FDaEJDLE9BQVE3QyxFQUFNNkMsT0FDZEMsUUFBUzlDLEVBQU04QyxRQUNmeEMsS0FBTU4sRUFBTU0sS0FFaEIsQ0FoUUFlLEVBQXlCLENBQUMsUUFBUyxVQUFXLENBQzVDMEIsZ0JBc0dGLFNBQTBCL0MsR0FDeEIsTUFBTWdELEVBQVVoRCxFQUFNRSxPQUN0QixHQXFLRixTQUEwQjhDLEdBQ3hCLE9BQW1FLElBQTVEQyxFQUFnQkMsUUFBUUYsRUFBUUcsYUFBYSxRQUN0RCxDQXZLTUMsQ0FBaUJKLEdBQVUsQ0FDN0IsTUFBTUssRUE0S1YsU0FBaUNMLEdBQy9CLE1BQU1yRSxFQUFRcUUsRUFBUXJFLE1BQ2hCMkIsRUFBTzBDLEVBQVExQyxLQUNyQixPQUFRQSxHQUNOLElBQUssT0FDTCxJQUFLLFFBTUwsSUFBSyxPQUVILE9BQU8zQixFQU5ULElBQUssaUJBQ0gsT0FBd0IsS0FBakJBLEVBQU05RixPQUFnQjhGLEVBQVEsTUFBUUEsRUFDL0MsSUFBSyxPQUNILE9BQXdCLElBQWpCQSxFQUFNOUYsT0FBZThGLEVBQVEsTUFBUUEsRUFNaEQsTUFBTSxJQUFJdEgsTUFBTSx5QkFBeUJpSixNQUMzQyxDQTdMNEJnRCxDQUF3Qk4sR0FDaEQsTUFBTyxDQUFFckUsTUFBTzBFLEdBQ1gsR0FzS1QsU0FBK0JMLEdBQzdCLE9BQU9BLGFBQW1CdkMsbUJBQXNDLG9CQUFqQnVDLEVBQVExQyxJQUN6RCxDQXhLYWlELENBQXNCUCxHQUFVLENBQ3pDLE1BQU1RLEVBQWdCUixFQUl0QixNQUFPLENBQUVyRSxNQUhjOEUsTUFBTUMsS0FBS0YsRUFBY2pDLFNBQzdDb0MsUUFBT0MsR0FBVUEsRUFBT0MsV0FDeEJDLEtBQUlGLEdBQVVBLEVBQU9qRixTQUVuQixDQUNMLE1BQU1vRixFQStJVixTQUFvQmYsR0FDbEIsUUFBU0EsR0FBK0IsVUFBcEJBLEVBQVFnQixTQUF3RCxhQUFqQ2hCLEVBQVFHLGFBQWEsT0FDMUUsQ0FqSjZCYyxDQUFXakIsR0FFcEMsTUFBTyxDQUFFckUsTUFEUW9GLElBQXFCZixFQUFpQixRQUFJQSxFQUFlLE9BRzlFLElBbkhBM0IsRUFBeUIsQ0FDdkIsT0FDQSxNQUNBLFNBQ0MsQ0FDRDBCLGdCQUFpQm1CLElBNkpWLENBQ0w1RCxLQTlKd0M0RCxFQThKNUI1RCxTQTNKaEJlLEVBQXlCLENBQ3ZCLE9BQ0EsVUFDQSxZQUNBLFlBQ0EsV0FDQSxZQUNBLFFBQ0MsQ0FDRDBCLGdCQUFpQm1CLElBQUtDLE1Bd0xmLElBQ0ZoQyxFQUZpQm5DLEVBdkxla0UsR0EwTG5DRSxhQUFjcEUsRUFBTW9FLGFBQWUsQ0FDakNDLFdBQVlyRSxFQUFNb0UsYUFBYUMsV0FDL0JDLGNBQWV0RSxFQUFNb0UsYUFBYUUsY0FDbENDLE1BQU9kLE1BQU1DLEtBQUsxRCxFQUFNb0UsYUFBYUcsT0FBT1QsS0FBSVUsR0FBS0EsRUFBRUMsT0FDdkRDLE1BQU9qQixNQUFNQyxLQUFLMUQsRUFBTW9FLGFBQWFNLE9BQU9aLEtBQUluQyxJQUFLLENBQUdnRCxLQUFNaEQsRUFBRWdELEtBQU1yRSxLQUFNcUIsRUFBRXJCLFNBQzlFc0UsTUFBTzVFLEVBQU1vRSxhQUFhUSxPQUN4QixNQVRSLElBQXdCNUUsQ0F2TDhCLElBR3REcUIsRUFBeUIsQ0FDdkIsUUFDQSxPQUNBLFVBQ0EsWUFDQyxDQUNEMEIsZ0JBQWlCbUIsSUFrSVYsQ0FDTDVELEtBbklvQzRELEVBbUl4QjVELFNBaEloQmUsRUFBeUIsQ0FDdkIsVUFDQSxRQUNBLFlBQ0MsQ0FDRDBCLGdCQUFpQm1CLElBQUtXLE1BeUpmLENBQ0x6UCxLQUZ3QjRLLEVBeEpla0UsR0EwSjVCOU8sSUFDWDBQLEtBQU05RSxFQUFNOEUsS0FDWkMsU0FBVS9FLEVBQU0rRSxTQUNoQkMsT0FBUWhGLEVBQU1nRixPQUNkckMsUUFBUzNDLEVBQU0yQyxRQUNmQyxTQUFVNUMsRUFBTTRDLFNBQ2hCQyxPQUFRN0MsRUFBTTZDLE9BQ2RDLFFBQVM5QyxFQUFNOEMsUUFDZnhDLEtBQU1OLEVBQU1NLE1BVmhCLElBQTRCTixDQXhKa0MsSUFHOURxQixFQUF5QixDQUN2QixjQUNBLFFBQ0EsWUFDQSxXQUNBLFlBQ0EsWUFDQSxVQUNBLGFBQ0EsYUFDQSxZQUNDLENBQ0QwQixnQkFBaUJtQixHQUFLL0IsRUFBZ0IrQixLQUd4QzdDLEVBQXlCLENBQUMsU0FBVSxDQUNsQzBCLGdCQUFpQm1CLElBQUtlLE1BNEhmLENBQ0xoSCxTQUZxQitCLEVBM0hla0UsR0E2SHJCakcsUUFDZmlILFNBQVVsRixFQUFNa0YsU0FDaEJDLE9BQVFuRixFQUFNbUYsT0FDZEMsTUFBT3BGLEVBQU1vRixNQUNiOUUsS0FBTU4sRUFBTU0sTUFOaEIsSUFBeUJOLENBM0grQixJQUd4RHFCLEVBQXlCLENBQ3ZCLFlBQ0EsVUFDQSxRQUNBLE9BQ0EsVUFDQSxZQUNDLENBQ0QwQixnQkFBaUJtQixJQUFLbUIsTUF3R2YsQ0FDTEMsa0JBRndCdEYsRUF2R2VrRSxHQXlHZm9CLGlCQUN4QkMsT0FBUXZGLEVBQU11RixPQUNkQyxNQUFPeEYsRUFBTXdGLE1BQ2JsRixLQUFNTixFQUFNTSxNQUxoQixJQUE0Qk4sQ0F2R2tDLElBRzlEcUIsRUFBeUIsQ0FDdkIsY0FDQSxXQUNBLFlBQ0EsYUFDQSxhQUNBLGNBQ0MsQ0FDRDBCLGdCQUFpQm1CLElBQUt1QixNQW1FZixDQUNMckQsUUFGcUJwQyxFQWxFZWtFLEdBb0V0QjlCLE9BQ2RWLFFBQVNGLEVBQVd4QixFQUFNMEIsU0FDMUJnRSxjQUFlbEUsRUFBV3hCLEVBQU0wRixlQUNoQ0MsZUFBZ0JuRSxFQUFXeEIsRUFBTTJGLGdCQUNqQ2hELFFBQVMzQyxFQUFNMkMsUUFDZkMsU0FBVTVDLEVBQU00QyxTQUNoQkMsT0FBUTdDLEVBQU02QyxPQUNkQyxRQUFTOUMsRUFBTThDLFFBQ2Z4QyxLQUFNTixFQUFNTSxNQVZoQixJQUF5Qk4sQ0FsRStCLElBR3hEcUIsRUFBeUIsQ0FDdkIsb0JBQ0EscUJBQ0EsZ0JBQ0EsY0FDQSxlQUNBLGVBQ0EsY0FDQSxhQUNBLGNBQ0EsYUFDQyxDQUNEMEIsZ0JBQWlCbUIsSUFBSzBCLE1Bc0NmLElBQ0Z6RCxFQUZvQm5DLEVBckNla0UsR0F3Q3RDMkIsVUFBVzdGLEVBQU02RixVQUNqQkMsTUFBTzlGLEVBQU04RixNQUNiQyxPQUFRL0YsRUFBTStGLE9BQ2RDLFNBQVVoRyxFQUFNZ0csU0FDaEJDLE1BQU9qRyxFQUFNaUcsTUFDYkMsTUFBT2xHLEVBQU1rRyxNQUNiQyxZQUFhbkcsRUFBTW1HLFlBQ25CQyxVQUFXcEcsRUFBTW9HLFdBVnJCLElBQTJCcEcsQ0FyQ2lDLElBRzVEcUIsRUFBeUIsQ0FBQyxRQUFTLGNBQWUsQ0FDaEQwQixnQkFBaUJtQixJQUFLbUMsTUF3QmYsSUFDRmxFLEVBRmtCbkMsRUF2QmVrRSxHQTBCcENvQyxPQUFRdEcsRUFBTXNHLE9BQ2RDLE9BQVF2RyxFQUFNdUcsT0FDZEMsT0FBUXhHLEVBQU13RyxPQUNkQyxVQUFXekcsRUFBTXlHLFdBTnJCLElBQXlCekcsQ0F2QitCLElBR3hEcUIsRUFBeUIsQ0FBQyxVQXhKNEIsQ0FBRTBCLGdCQUFpQixLQUFNLENBQUcsS0F5VGxGLE1BQU1FLEVBQWtCLENBQ3RCLE9BQ0EsaUJBQ0EsUUFDQSxPQUNBLFFDbFVJeUQsRUFBaUMsSUFBSTlQLElBQzNDLElBSUkrUCxFQUNBQyxFQUxBQyxFQUE0QyxFQVF6QyxNQUFNQyxFQUEwQixDQUNyQzlILFVBQVUrSCxFQUFvQkMsRUFBNkJDLEdBQ3pELElBQUtBLEVBQ0gsTUFBTSxJQUFJNVAsTUFBTSx1REFJbEIsTUFBTTZQLEVBakJzQyx3QkFpQjZCTCxHQUEyQzNPLFdBQ3BId08sRUFBK0JsUCxJQUFJMFAsRUFBcUJILEdBR3hELE1BQU1sSCxRQUFvQnNILElBQXFCM00sa0JBQTBCLG1CQUFvQndNLEVBQXFCRSxHQUM1R0UsRUFBWSxJQUFJQyxFQUFxQnhILEVBQWErRyxFQUFrQ0ksSUFFMUYsYUFETUksRUFBVUUsY0FBY0wsR0FDdkJHLENBQ1QsR0FXRixNQUFNRyxFQUtKQyxPQUFPQyxHQUNMLE9BQU8vUSxLQUFLZ1IsVUFBVUQsRUFDeEIsQ0FFQUUsWUFBWUMsR0FDTGxSLEtBQUttUix5QkFDUm5SLEtBQUttUix1QkFBeUIvUyxFQUFPMkQsd0JBQXdCL0IsT0FHL0RBLEtBQUtnUixVQUFZRSxDQUNuQixDQUVBRSx1QkFDRSxPQUFPcFIsS0FBS21SLHNCQUNkLENBRUF0SixVQUNNN0gsS0FBS21SLHdCQUNQL1MsRUFBTzRGLHlCQUF5QmhFLEtBQUttUix1QkFFekMsRUFHRixNQUFNUixFQUtKN1EsWUFBWXFKLEVBQXFCa0ksR0FGaEIsS0FBQUMseUJBQTJCLElBQUlwUixJQUc5Q0YsS0FBS3VSLGFBQWVwSSxFQUVwQixJQUFLLE1BQU1xSSxLQUFhSCxFQUNDLGtCQUFuQkcsRUFBVTVILE1BQ1o1SixLQUFLc1IseUJBQXlCeFEsSUFBSTBRLEVBQVV6RCxLQUFLbEUsY0FBZSxJQUFJZ0gsRUFHMUUsQ0FFQUQsY0FBY1MsR0FDWixNQUFNSSxFQUFtQixDQUFDLEVBQ3BCQyxFQUFVOVMsT0FBTzhTLFFBQVFMLEdBQWMsQ0FBQyxHQUN4Q00sRUFBaUJELEVBQVF2UCxPQUUvQixJQUFLLE1BQU96RCxFQUFLdUosS0FBVXlKLEVBQVMsQ0FDbEMsTUFBTUUsRUFBa0I1UixLQUFLc1IseUJBQXlCdlMsSUFBSUwsRUFBSW1MLGVBRXpEK0gsR0FBb0IzSixHQUt6QjJKLEVBQWdCWCxZQUFZaEosR0FDNUJ3SixFQUFpQi9TLEdBQU9rVCxFQUFnQlIsd0JBTHRDSyxFQUFpQi9TLEdBQU91SixFQVE1QixPQUFPd0ksSUFBcUIzTSxrQkFBa0IsNkJBQThCOUQsS0FBS3VSLGFBQWNJLEVBQWdCRixFQUNqSCxDQUVBbkosZ0JBQ0UsR0FBMEIsT0FBdEJ0SSxLQUFLdVIsYUFBdUIsT0FDeEJkLElBQXFCM00sa0JBQWtCLHNCQUF1QjlELEtBQUt1UixjQUN6RXZSLEtBQUt1UixhQUFlLEtBRXBCLElBQUssTUFBTU0sS0FBMEI3UixLQUFLc1IseUJBQXlCUSxTQUNqRUQsRUFBdUJoSyxVQUc3QixFQThCRixTQUFTNEksSUFDUCxJQUFLUixFQUNILE1BQU0sSUFBSXRQLE1BQU0sc0VBR2xCLE9BQU9zUCxDQUNULENDOUlBLE1BQU04QixFQUFvRCxHQUUxRCxJQUFJQyxFQUVHLE1BQU1DLEVBQW1CLElBQUk3TSxTQUFlQyxJQUNqRDJNLEVBQTBCM00sQ0FBTyxJQW9CNUIsU0FBUzZNLEVBQWNDLEVBQTJCQyxFQUFrQ0MsR0FDekYsT0FBT0MsRUFBd0JILEVBQW1CQyxFQUFnQkcsZ0JBQWdCLElBQ3pEQyxFQUFrQkwsR0FDbkJyTyxrQkFBa0IscUJBQXNCc08sRUFBaUJDLElBRW5GLENBRUEsU0FBU0csRUFBa0JDLEdBQ3pCLE1BQU1DLEVBQWlCWCxFQUEyQlUsR0FDbEQsSUFBS0MsRUFDSCxNQUFNLElBQUkvUixNQUFNLGtEQUFrRDhSLEtBR3BFLE9BQU9DLENBQ1QsQ0FLQSxJQUFJSixFQUFrRCxDQUFDSCxFQUFtQkksRUFBZ0JJLElBQWlCQSxJQzVDM0csTUFBTUMsRUFBb0JDLEVBQVMsQ0FDakMsUUFDQSxPQUNBLFVBQ0EsaUJBQ0EsU0FDQSxZQUNBLGlCQUNBLFVBQ0EsUUFDQSxRQUNBLFFBQ0EsT0FDQSxhQUNBLGlCQUNBLFVBQ0EsWUFDQSxhQUNBLGFBQ0EsZUFDQSxlQUNBLFFBQ0EsT0FDQSxVQUNBLFdBQ0EsYUFDQSxRQUNBLFNBQ0EsU0FDQSxVQUNBLFVBQ0EsU0FDQSxVQUNBLGFBQ0EsU0FDQSxTQUNBLGVBQ0EsVUFDQSw4QkFDQSwrQkFHSUMsRUFBK0QsQ0FBRUMsUUFBUSxHQUV6RUMsRUFBd0JILEVBQVMsQ0FDckMsUUFDQSxXQUNBLFlBQ0EsWUFDQSxZQU1LLE1BQU1JLEVBU1huVCxZQUFvQnFTLEdBQUEsS0FBQUEsa0JBQUFBLEVBSkgsS0FBQWUsb0JBQXVELEdBS3RFLE1BQU1DLElBQXFCRixFQUFlRyxxQkFDMUNwVCxLQUFLcVQsb0JBQXNCLGlCQUFpQkYsSUFDNUNuVCxLQUFLc1QsZUFBaUIsSUFBSUMsRUFBZXZULEtBQUt3VCxjQUFjM1MsS0FBS2IsTUFDbkUsQ0FFT3lULFlBQVluSCxFQUFrQmhDLEVBQW1CaUksRUFBd0JtQixHQUM5RSxNQUFNQyxFQUFpQjNULEtBQUs0VCwrQkFBK0J0SCxHQUFTLEdBQzlEdUgsRUFBa0JGLEVBQWVHLFdBQVd4SixHQUVsRCxHQUFJdUosRUFHRjdULEtBQUtzVCxlQUFlUyxPQUFPRixFQUFnQnRCLGVBQWdCQSxPQUN0RCxDQUVMLE1BQU15QixFQUFVLENBQUUxSCxVQUFTaEMsWUFBV2lJLGlCQUFnQm1CLHdCQUN0RDFULEtBQUtzVCxlQUFlVyxJQUFJRCxHQUN4QkwsRUFBZU8sV0FBVzVKLEVBQVcwSixHQUV6QyxDQUVPRixXQUFXdkIsR0FDaEIsT0FBT3ZTLEtBQUtzVCxlQUFldlUsSUFBSXdULEVBQ2pDLENBRU80QixlQUFlNUIsR0FJcEIsTUFBTTZCLEVBQU9wVSxLQUFLc1QsZUFBZWUsT0FBTzlCLEdBQ3hDLEdBQUk2QixFQUFNLENBR1IsTUFBTTlILEVBQVU4SCxFQUFLOUgsUUFDZmdJLEVBQW9CdFUsS0FBSzRULCtCQUErQnRILEdBQVMsR0FDbkVnSSxHQUNGQSxFQUFrQkMsY0FBY0gsRUFBSzlKLFdBRzNDLENBRU9rSyxpQkFBaUJ0RCxHQUl0QmxSLEtBQUtrVCxvQkFBb0JwUixLQUFLb1AsR0FDOUJsUixLQUFLc1QsZUFBZW1CLGtCQUFrQixRQUN4QyxDQUVPQyxtQkFBbUJwSSxFQUFrQmhDLEVBQW1CckMsR0FDdENqSSxLQUFLNFQsK0JBQStCdEgsR0FBUyxHQUNyRHFJLGdCQUFnQnJLLEVBQVdyQyxFQUM1QyxDQUVPMk0sa0JBQWtCdEksRUFBa0JoQyxFQUFtQnJDLEdBQ3JDakksS0FBSzRULCtCQUErQnRILEdBQVMsR0FDckR1SSxlQUFldkssRUFBV3JDLEVBQzNDLENBRVF1TCxjQUFjc0IsR0FDcEIsS0FBTUEsRUFBSXRMLGtCQUFrQkMsU0FDMUIsT0FJRnpKLEtBQUsrVSxpQ0FBaUNELEVBQUlsTCxLQUFNa0wsR0FHaEQsTUFBTUUsR0g1RjBCMUssRUc0RmF3SyxFQUFJbEwsS0gzRjVDTyxFQUEyQnBMLElBQUl1TCxJQURqQyxJQUE2QkEsRUc2RmhDMEssR0FBb0JBLEVBQWlCdlUsU0FBUXdVLEdBQzNDalYsS0FBSytVLGlDQUFpQ0UsRUFBT0gsS0FHOUIsVUFBYkEsRUFBSWxMLE1BQ041SixLQUFLa1Qsb0JBQW9CelMsU0FBUXlRLEdBQVlBLEVBQVM0RCxJQUUxRCxDQUVRQyxpQ0FBaUN6SyxFQUFtQjRLLEdBTTFELE1BQU1DLEVBQU9ELEVBQWFFLGVBRzFCLElBQUlDLEVBQXVCRixFQUFLRyxRQUM1QmpELEVBQXFCLEtBQ3JCa0QsR0FBdUIsRUFDM0IsTUFBTUMsRUFBcUI1VyxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLd1QsRUFBbUJ0SSxHQUNuRixJQUFJbUwsR0FBOEIsRUFDbEMsS0FBT0osR0FBc0IsQ0FDM0IsTUFBTUssRUFBbUJMLEVBQ25CTSxFQUFlM1YsS0FBSzRULCtCQUErQjhCLEdBQWtCLEdBQzNFLEdBQUlDLEVBQWMsQ0FDaEIsTUFBTUMsRUFBY0QsRUFBYTdCLFdBQVd4SixHQUM1QyxHQUFJc0wsSUFnTnNCdEosRUFoTm1Cb0osRUFnTkRHLEVBaE5tQlgsRUFBYXRMLFFBbU4xRTBDLGFBQW1Cd0osbUJBQXFCeEosYUFBbUIzQyxrQkFBb0IyQyxhQUFtQnRDLHFCQUF1QnNDLGFBQW1CdkMsb0JBQy9JbkwsT0FBT00sVUFBVUMsZUFBZUMsS0FBSzRULEVBQXVCNkMsSUFDNUR2SixFQUFReUosV0FyTjRFLENBRWpGLElBQUtSLEVBQXNCLENBQ3pCLE1BQU1TLEVBQTJCM0wsRUFBb0JDLEdBR3JEK0gsR0FBWTJELGFBQXdCLEVBQXhCQSxFQUEwQjNKLGlCQUNsQzJKLEVBQXlCM0osZ0JBQWdCNkksR0FDekMsQ0FBQyxFQUNMSyxHQUF1QixFQU1yQjNXLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUswVCxFQUE0Qm9DLEVBQWF0TCxPQUNoRnNMLEVBQWFMLGlCQUdmM0MsRUFBY2xTLEtBQUttUyxrQkFBbUIsQ0FDcENJLGVBQWdCcUQsRUFBWXJELGVBQzVCakksVUFBV0EsRUFDWDJMLGVBQWdCL00sRUFBZWdOLFVBQVVOLEVBQVlsQyxxQkFBc0J3QixJQUMxRTdDLEdBR0RzRCxFQUFhaEIsZ0JBQWdCckssS0FDL0JtTCxHQUE4QixHQUc1QkUsRUFBYWQsZUFBZXZLLElBQzlCNEssRUFBYUwsaUJBSWpCUSxFQUF3QkcsR0FBc0JDLE9BQStCaFQsRUFBWTBTLEVBQUtHLFFBNktwRyxJQUFrQ2hKLEVBQWtCdUosQ0EzS2xELENBRVFqQywrQkFBK0J0SCxFQUFrQjZKLEdBQ3ZELE9BQUl2WCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLa04sRUFBU3RNLEtBQUtxVCxxQkFDOUMvRyxFQUFRdE0sS0FBS3FULHFCQUNYOEMsRUFDRDdKLEVBQVF0TSxLQUFLcVQscUJBQXVCLElBQUkrQyxFQUV6QyxJQUVYLEVBekplLEVBQUFoRCxxQkFBdUIsRUE4SnhDLE1BQU1HLEVBS0p6VCxZQUFvQnVXLEdBQUEsS0FBQUEsZUFBQUEsRUFKWixLQUFBQyxzQkFBd0UsQ0FBQyxFQUV6RSxLQUFBQyxpQkFBb0QsQ0FBQyxFQUczRG5NLEVBQWtDdEksS0FBSzlCLEtBQUt3VywwQkFBMEIzVixLQUFLYixNQUM3RSxDQUVPaVUsSUFBSUcsR0FDVCxHQUFJcFUsS0FBS3NXLHNCQUFzQmxDLEVBQUs3QixnQkFFbEMsTUFBTSxJQUFJNVIsTUFBTSxTQUFTeVQsRUFBSzdCLHFDQUdoQ3ZTLEtBQUtzVyxzQkFBc0JsQyxFQUFLN0IsZ0JBQWtCNkIsRUFFbERwVSxLQUFLeVUsa0JBQWtCTCxFQUFLOUosVUFDOUIsQ0FFT3ZMLElBQUl3VCxHQUNULE9BQU92UyxLQUFLc1csc0JBQXNCL0QsRUFDcEMsQ0FFT2tDLGtCQUFrQm5LLEdBSXZCLEdBRkFBLEVBQVlDLEVBQW9CRCxHQUU1QjFMLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUtZLEtBQUt1VyxpQkFBa0JqTSxHQUM5RHRLLEtBQUt1VyxpQkFBaUJqTSxTQUNqQixDQUNMdEssS0FBS3VXLGlCQUFpQmpNLEdBQWEsRUFJbkMsTUFBTW1NLEVBQWE3WCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLd1QsRUFBbUJ0SSxHQUMzRWhKLFNBQVNvVixpQkFBaUJwTSxFQUFXdEssS0FBS3FXLGVBQWdCSSxHQUU5RCxDQUVPMUMsT0FBTzRDLEVBQTJCQyxHQUN2QyxHQUFJaFksT0FBT00sVUFBVUMsZUFBZUMsS0FBS1ksS0FBS3NXLHNCQUF1Qk0sR0FFbkUsTUFBTSxJQUFJalcsTUFBTSxTQUFTaVcsd0JBSTNCLE1BQU14QyxFQUFPcFUsS0FBS3NXLHNCQUFzQkssVUFDakMzVyxLQUFLc1csc0JBQXNCSyxHQUNsQ3ZDLEVBQUs3QixlQUFpQnFFLEVBQ3RCNVcsS0FBS3NXLHNCQUFzQk0sR0FBcUJ4QyxDQUNsRCxDQUVPQyxPQUFPOUIsR0FDWixNQUFNNkIsRUFBT3BVLEtBQUtzVyxzQkFBc0IvRCxHQUN4QyxHQUFJNkIsRUFBTSxRQUNEcFUsS0FBS3NXLHNCQUFzQi9ELEdBR2xDLE1BQU1qSSxFQUFZQyxFQUFvQjZKLEVBQUs5SixXQUVBLEtBQXJDdEssS0FBS3VXLGlCQUFpQmpNLFlBQ25CdEssS0FBS3VXLGlCQUFpQmpNLEdBQzdCaEosU0FBU3VWLG9CQUFvQnZNLEVBQVd0SyxLQUFLcVcsaUJBSWpELE9BQU9qQyxDQUNULENBRVFvQywwQkFBMEJNLEVBQWdCcE0sR0FJaEQsR0FBSTlMLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUtZLEtBQUt1VyxpQkFBa0JPLEdBQWlCLENBRS9FLE1BQU1DLEVBQXdCL1csS0FBS3VXLGlCQUFpQk8sVUFDN0M5VyxLQUFLdVcsaUJBQWlCTyxHQUM3QnhWLFNBQVN1VixvQkFBb0JDLEVBQWdCOVcsS0FBS3FXLGdCQUdsRHJXLEtBQUt5VSxrQkFBa0IvSixHQUN2QjFLLEtBQUt1VyxpQkFBaUI3TCxJQUFxQnFNLEVBQXdCLEVBRXZFLEVBR0YsTUFBTVgsRUFBTixjQU9VLEtBQUFZLFNBQXNELENBQUMsRUFFdkQsS0FBQUMsb0JBQStELEtBRS9ELEtBQUFDLHFCQUFnRSxJQStCMUUsQ0E3QlNwRCxXQUFXeEosR0FDaEIsT0FBTzFMLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUtZLEtBQUtnWCxTQUFVMU0sR0FBYXRLLEtBQUtnWCxTQUFTMU0sR0FBYSxJQUNyRyxDQUVPNEosV0FBVzVKLEVBQW1CNk0sR0FDbkNuWCxLQUFLZ1gsU0FBUzFNLEdBQWE2TSxDQUM3QixDQUVPNUMsY0FBY2pLLFVBQ1p0SyxLQUFLZ1gsU0FBUzFNLEVBQ3ZCLENBRU91SyxlQUFldkssRUFBbUI4TSxHQU12QyxZQUxpQjNVLElBQWIyVSxJQUNGcFgsS0FBS2lYLG9CQUFzQmpYLEtBQUtpWCxxQkFBdUIsQ0FBQyxFQUN4RGpYLEtBQUtpWCxvQkFBb0IzTSxHQUFhOE0sS0FHakNwWCxLQUFLaVgscUJBQXNCalgsS0FBS2lYLG9CQUFvQjNNLEVBQzdELENBRU9xSyxnQkFBZ0JySyxFQUFtQjhNLEdBTXhDLFlBTGlCM1UsSUFBYjJVLElBQ0ZwWCxLQUFLa1gscUJBQXVCbFgsS0FBS2tYLHNCQUF3QixDQUFDLEVBQzFEbFgsS0FBS2tYLHFCQUFxQjVNLEdBQWE4TSxLQUdsQ3BYLEtBQUtrWCxzQkFBdUJsWCxLQUFLa1gscUJBQXFCNU0sRUFDL0QsRUFvQkYsU0FBU3VJLEVBQVM3RSxHQUNoQixNQUFNek4sRUFBUyxDQUFDLEVBSWhCLE9BSEF5TixFQUFNdk4sU0FBUXdILElBQ1oxSCxFQUFPMEgsSUFBUyxDQUFJLElBRWYxSCxDQUNULENDelZBLE1BQU04VyxFQUEwQkMsRUFBdUIsMEJBQ2pEQyxFQUF3QkQsRUFBdUIsd0JBQy9DRSxFQUE0QkYsRUFBdUIscUJBcUNsRCxTQUFTRyxFQUFpQm5MLEVBQWVvTCxHQUk5QyxHQUFJcEwsRUFBUXFMLFdBQVd4VixPQUFTLElBQU11VixFQUNwQyxNQUFNLElBQUkvVyxNQUFNLGdGQU9sQixPQUpNMFcsS0FBMkIvSyxJQUMvQkEsRUFBUStLLEdBQTJCLElBRzlCL0ssQ0FDVCxDQVNPLFNBQVNzTCxFQUFnQ0MsRUFBd0JDLEdBQ3RFLE1BQU1DLEVBQW1CelcsU0FBUzBXLGNBQWMsS0FFaEQsT0FEQUMsRUFBbUJGLEVBQWtCRixFQUFRQyxHQUN0Q0MsQ0FDVCxDQUVPLFNBQVNFLEVBQW1CQyxFQUFhTCxFQUF3QkMsR0FDdEUsTUFBTUssRUFBd0JELEVBQzlCLEdBQUlBLGFBQWlCRSxTQUNXQyxFQUF3QkYsSUFDekJFLEVBQXdCRixHQUF1QmhXLE9BQVMsRUFLbkYsTUFBTSxJQUFJeEIsTUFBTSwwREFJcEIsR0FBSTJYLEVBQWlCSCxHQU1uQixNQUFNLElBQUl4WCxNQUFNLHFEQUdsQixNQUFNNFgsRUFBY0YsRUFBd0JSLEdBQzVDLEdBQUlDLEVBQWFTLEVBQVlwVyxPQUFRLENBRW5DLE1BQU1xVyxFQUFjRCxFQUFZVCxHQUNoQ1UsRUFBWUMsV0FBWUMsYUFBYVIsRUFBT00sR0FDNUNELEVBQVlJLE9BQU9iLEVBQVksRUFBR0ssUUFHbENTLEVBQWNWLEVBQU9MLEdBQ3JCVSxFQUFZelcsS0FBS3FXLEdBR25CQSxFQUFzQlosR0FBeUJNLEVBQ3pDUixLQUEyQmMsSUFDL0JBLEVBQXNCZCxHQUEyQixHQUVyRCxDQUVPLFNBQVN3QixFQUFtQmhCLEVBQXdCQyxHQUN6RCxNQUNNZ0IsRUFEZ0JULEVBQXdCUixHQUNWYyxPQUFPYixFQUFZLEdBQUcsR0FHMUQsR0FBSWdCLGFBQXlCVixRQUFTLENBQ3BDLE1BQU1XLEVBQXFCVixFQUF3QlMsR0FDbkQsR0FBSUMsRUFDRixLQUFPQSxFQUFtQjVXLE9BQVMsR0FDakMwVyxFQUFtQkMsRUFBZSxHQU14QyxNQUFNRSxFQUFrQkYsRUFDeEJFLEVBQWdCUCxXQUFZUSxZQUFZRCxFQUMxQyxDQUVPLFNBQVNWLEVBQWlCaE0sR0FDL0IsT0FBUUEsRUFBUWlMLElBQTZDLElBQy9ELENBTU8sU0FBUzJCLEVBQWdCckIsRUFBd0JDLEdBQ3RELE9BQU9PLEVBQXdCUixHQUFRQyxFQUN6QyxDQVNPLFNBQVNxQixFQUFhN00sR0FHM0IsTUFBTThNLEVBQWlCQyxFQUFxQi9NLEdBQzVDLE1BQXVDLCtCQUFoQzhNLEVBQWVFLGNBQStFLGtCQUE5QkYsRUFBd0IsT0FDakcsQ0FFTyxTQUFTZixFQUF3Qi9MLEdBQ3RDLE9BQU9BLEVBQVErSyxFQUNqQixDQUVPLFNBQVNrQyxFQUF1QjFCLEVBQXdCMkIsR0FTN0QsTUFBTUMsRUFBV3BCLEVBQXdCUixHQUN6QzJCLEVBQWdCL1ksU0FBU2laLElBQ3ZCQSxFQUFVQyxlQUFpQkYsRUFBU0MsRUFBVUUsa0JBQzlDRixFQUFVRyxhQUFlQyxFQUF1QkosRUFBVUMsZUFBZSxJQUkzRUgsRUFBZ0IvWSxTQUFTaVosSUFDdkIsTUFBTUssRUFBU3pZLFNBQVMwVyxjQUFjLFVBQ3RDMEIsRUFBVU0sbUJBQXFCRCxFQUMvQixNQUFNRSxFQUFtQlIsRUFBU0MsRUFBVVEsZUFBaUIsR0FDekRELEVBQ0ZBLEVBQWlCeEIsV0FBWUMsYUFBYXFCLEVBQVFFLEdBRWxEckIsRUFBY21CLEVBQVFsQyxNQUsxQjJCLEVBQWdCL1ksU0FBU2laLElBQ3ZCLE1BQU1oQixFQUFlZ0IsRUFBVU0sbUJBQ3pCRyxFQUFnQnpCLEVBQWFELFdBQzdCMkIsRUFBZ0JWLEVBQVVDLGVBQzFCVSxFQUFjWCxFQUFVRyxhQUM5QixJQUFJUyxFQUFhRixFQUNqQixLQUFPRSxHQUFZLENBQ2pCLE1BQU1DLEVBQVdELEVBQVc5QixZQUc1QixHQUZBMkIsRUFBY3pCLGFBQWE0QixFQUFZNUIsR0FFbkM0QixJQUFlRCxFQUNqQixNQUVBQyxFQUFhQyxFQUlqQkosRUFBY2xCLFlBQVlQLEVBQWEsSUFJekNjLEVBQWdCL1ksU0FBU2laLElBQ3ZCRCxFQUFTQyxFQUFVUSxnQkFBa0JSLEVBQVVDLGNBQWUsR0FFbEUsQ0FFTyxTQUFTTixFQUFxQm1CLEdBQ25DLEdBQUlBLGFBQTBCL1EsU0FBVytRLGFBQTBCQyxpQkFDakUsT0FBT0QsRUFDRixHQUFJQSxhQUEwQnBDLFFBQ25DLE9BQU9vQyxFQUFlL0IsV0FFdEIsTUFBTSxJQUFJOVgsTUFBTSw4QkFFcEIsQ0FjQSxTQUFTK1osRUFBc0JwTyxHQUM3QixNQUFNbU4sRUFBV3BCLEVBQXdCQyxFQUFpQmhNLElBRTFELE9BQU9tTixFQURjMU0sTUFBTTdOLFVBQVVzTixRQUFRcE4sS0FBS3FhLEVBQVVuTixHQUM3QixJQUFNLElBQ3ZDLENBRUEsU0FBU3NNLEVBQWNWLEVBQWFMLEdBR2xDLEdBQUlBLGFBQWtCcE8sU0FBV29PLGFBQWtCNEMsaUJBQ2pENUMsRUFBTzhDLFlBQVl6QyxPQUNkLE1BQUlMLGFBQWtCTyxTQVkzQixNQUFNLElBQUl6WCxNQUFNLGlGQUFpRmtYLEtBWjdELENBQ3BDLE1BQU0rQyxFQUEyQkYsRUFBc0I3QyxHQUNuRCtDLEVBRUZBLEVBQXlCbkMsV0FBWUMsYUFBYVIsRUFBTzBDLEdBSXpEaEMsRUFBY1YsRUFBT0ksRUFBaUJULEtBTTVDLENBSUEsU0FBU2lDLEVBQXVCeE4sR0FDOUIsR0FBSUEsYUFBbUI3QyxTQUFXNkMsYUFBbUJtTyxpQkFDbkQsT0FBT25PLEVBR1QsTUFBTWtNLEVBQWNrQyxFQUFzQnBPLEdBQzFDLEdBQUlrTSxFQUVGLE9BQVFBLEVBQTRCcUMsZ0JBQy9CLENBR0wsTUFBTUMsRUFBZ0J4QyxFQUFpQmhNLEdBQ3ZDLE9BQU93TyxhQUF5QnJSLFNBQVdxUixhQUF5QkwsaUJBQ2hFSyxFQUFjQyxVQUNkakIsRUFBdUJnQixHQUUvQixDQUVBLFNBQVN4RCxFQUF1QjBELEdBQzlCLE1BQXlCLG1CQUFYQyxPQUF3QkEsU0FBV0QsQ0FDbkQsQ0MxU0EsU0FBU0UsRUFBMEJDLEdBQ2pDLE1BQU8sT0FBT0EsR0FDaEIsQ0FHQSxNQUFNQyxFQUFnQixlQUN0QmhkLEVBQU93RCxlQUFjLENBQUNsRCxFQUFLdUosSUFDckJBLEdBQTBCLGlCQUFWQSxHQUFzQnJKLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUs2SSxFQUFPbVQsSUFBa0QsaUJBQXpCblQsRUFBTW1ULEdBWnZILFNBQStCRCxHQUM3QixNQUFNRSxFQUFXLElBQUlILEVBQTBCQyxNQUMvQyxPQUFPN1osU0FBU2dhLGNBQWNELEVBQ2hDLENBVVdFLENBQXNCdFQsRUFBTW1ULElBRTVCblQsSUNoQlgsTUFBTXVULEdBQXdCLHVCQUN4QkMsR0FBK0JuYSxTQUFTb2EsY0FBYyxZQUN0REMsR0FBMEJyYSxTQUFTc2EsZ0JBQWdCLDZCQUE4QixLQUNqRkMsR0FBa0YsQ0FBQyxFQUNuRkMsR0FBOEIsY0FDOUJDLEdBQXlDLGtCQUN6Q0MsR0FBMEMsbUJBRXpDLE1BQU1DLEdBT1gsWUFBbUI5SixHQUpYLEtBQUErSixpQkFBbUIsSUFBSUMsSUFFdkIsS0FBQUMsd0JBQXFFLENBQUMsRUFHNUVwYyxLQUFLcWMsZUFBaUIsSUFBSXBKLEVBQWVkLEdBS0RuUyxLQUFLcWMsZUMwQ2hDN0gsa0JBQWlCbEwsSUFDOUIsSUFBS2dULEdBQ0gsT0FHRixHQUFxQixJQUFqQmhULEVBQU15QyxRQXVRZCxTQUE0QnpDLEdBQzFCLE9BQU9BLEVBQU0yQyxTQUFXM0MsRUFBTTRDLFVBQVk1QyxFQUFNNkMsUUFBVTdDLEVBQU04QyxPQUNsRSxDQXpROEJtUSxDQUFtQmpULEdBRTNDLE9BR0YsR0FBSUEsRUFBTWtULGlCQUNSLE9BS0YsTUFBTUMsRUFnTlYsU0FBMEJuVCxHQUd4QixNQUFNNkwsR0FBUWxVLE9BQW1DLDRCQUFLcUksRUFBTThMLGNBQWdCOUwsRUFBTThMLGVBQ2xGLEdBQUlELEVBQU0sQ0FJUixJQUFLLElBQUlsSyxFQUFJLEVBQUdBLEVBQUlrSyxFQUFLaFQsT0FBUThJLElBQUssQ0FDcEMsTUFBTXlSLEVBQVl2SCxFQUFLbEssR0FDdkIsR0FBSXlSLGFBQXFCalQsU0FBaUMsTUFBdEJpVCxFQUFVcFAsUUFDNUMsT0FBT29QLEVBR1gsT0FBTyxLQU1QLE9BQU9DLEdBQWdDclQsRUFBTUUsT0FBMEIsSUFFM0UsQ0F0T3lCb1QsQ0FBaUJ0VCxHQUV0QyxHQUFJbVQsR0E4UFIsU0FBMEJBLEdBQ3hCLE1BQU1JLEVBQXVCSixFQUFhaFEsYUFBYSxVQUV2RCxRQUQwQm9RLEdBQWlELFVBQXpCQSxJQUN2QkosRUFBYUssYUFBYSxVQUFZTCxFQUFhSyxhQUFhLFdBQzdGLENBbFF3QkMsQ0FBaUJOLEdBQWUsQ0FDbEQsTUFFTU8sRUFBZUMsR0FGRlIsRUFBYWhRLGFBQWEsU0FJekN5USxHQUFxQkYsS0FDdkIxVCxFQUFNdUwsaUJBQ05zSSxHQUEwQkgsR0FBb0MsR0FBb0IsT0RsRXhGLENBRU9JLG9DQUFvQ2pVLEVBQXFCbUQsRUFBeUIrUSxHQUN2RnJkLEtBQUtzZCx5QkFBeUJuVSxFQUFhbUQsR0FDM0N0TSxLQUFLa2MsaUJBQWlCakksSUFBSTlLLEdBSXJCa1UsSUFDSHhCLEdBQXFDMVMsR0FBZW1ELEVBRXhELENBRU9pUixnQkFBZ0JDLEVBQW9CclUsRUFBcUJzVSxFQUE0Q0MsU0FDMUcsTUFBTXBSLEVBQVV0TSxLQUFLb2Msd0JBQXdCalQsR0FDN0MsSUFBS21ELEVBQ0gsTUFBTSxJQUFJM0wsTUFBTSxxREFBcUR3SSxLQUl2RSxNQUFNd1UsRUFBcUI5QixHQUFxQzFTLEdBQ2hFLEdBQUl3VSxFQUFvQixDQUN0QixNQUFNQyxFRjRHTCxTQUE4QnRSLEdBQ25DLE9BQVFBLEVBQVFrTCxJQUFpRCxJQUNuRSxDRTlHb0NxRyxDQUFxQkYsVUFDNUM5QixHQUFxQzFTLEdBRXZDeVUsRUE0ZVgsU0FBc0JFLEVBQWFDLEdBQ2pDLE1BQU1qRCxFQUFnQnhDLEVBQWlCd0YsR0FDdkMsSUFBS2hELEVBQ0gsTUFBTSxJQUFJbmEsTUFBTSw2RUFFbEIsTUFBTXFkLEVBQVczRixFQUF3QnlDLEdBQ25DbUQsRUFBY0QsRUFBU3hSLFFBQVFzUixHQUFzQyxFQUNyRUksRUFBV0YsRUFBU3hSLFFBQVF1UixHQUdsQyxJQUFLLElBQUk5UyxFQUFJZ1QsRUFBYWhULEdBQUtpVCxFQUFValQsSUFDdkM0TixFQUFtQmlDLEVBQWVtRCxHQUtwQ0gsRUFBTUssWUFBYyxHQUN0QixDQTFmUUMsQ0FBYVQsRUFBdUNDLEdBa2U1RCxTQUFzQnRSLEdBQ3BCLElBQUkrUixFQUNKLEtBQVFBLEVBQVkvUixFQUFRZ1MsWUFDMUJoUyxFQUFRMk0sWUFBWW9GLEVBRXhCLENBemVRRSxDQUFhWixHQU1qQixNQUFNYSxFQUE2QyxRQUE3QixFQUFBbkYsRUFBcUIvTSxVQUFRLGVBQUVtUyxjQUMvQ0MsRUFBc0JGLEdBQWlCQSxFQUFjRyxjQUUzRDNlLEtBQUs0ZSxXQUFXcEIsRUFBT3JVLEVBQWFtRCxFQUFTLEVBQUdtUixFQUFPQyxHQUdsRGdCLGFBQStCRyxhQUFnQkwsR0FBaUJBLEVBQWNHLGdCQUFrQkQsR0FDbkdBLEVBQW9CSSxPQUV4QixDQUVPQyxpQkFBaUI1VixHQUNsQm5KLEtBQUtrYyxpQkFBaUJyVixPQUFPc0MsSUZVOUIsU0FBNkJtRCxHQUNsQyxNQUFNMFMsRUFBZ0IzRyxFQUF3Qi9MLEdBQzlDLEtBQU8wUyxFQUFjN2MsUUFDbkIwVyxFQUFtQnZNLEVBQVMsRUFFaEMsQ0VYTTJTLENBQW9CamYsS0FBS29jLHdCQUF3QmpULFdBRzVDbkosS0FBS29jLHdCQUF3QmpULEVBQ3RDLENBRU8rVixvQkFBb0IzTSxHQUN6QnZTLEtBQUtxYyxlQUFlbEksZUFBZTVCLEVBQ3JDLENBRVErSyx5QkFBeUJuVSxFQUFxQm1ELEdBQ3BEdE0sS0FBS29jLHdCQUF3QmpULEdBQWVtRCxDQUM5QyxDQUVRc1MsV0FBV3BCLEVBQW9CclUsRUFBcUIwTyxFQUF3QkMsRUFBb0IyRixFQUE0Q0MsR0FDbEosSUFFSWxFLEVBRkEyRixFQUFlLEVBQ2ZDLEVBQTJCdEgsRUFHL0IsTUFBTXVILEVBQTRCN0IsRUFBTTZCLDBCQUNsQ0MsRUFBYTlCLEVBQU04QixXQUNuQkMsRUFBYy9CLEVBQU0rQixZQUNwQkMsRUFBY0gsRUFBMEJ2TixPQUFPMkwsR0FDL0NnQyxFQUFjSixFQUEwQkssT0FBT2pDLEdBRS9Da0MsRUFBbUJGLEVBRExKLEVBQTBCTyxNQUFNbkMsR0FHcEQsSUFBSyxJQUFJb0MsRUFBWUosRUFBYUksRUFBWUYsRUFBa0JFLElBQWEsQ0FDM0UsTUFBTUMsRUFBT3RDLEVBQU11QyxXQUFXQyxXQUFXUixFQUFhSyxHQUNoREksRUFBV1gsRUFBV1csU0FBU0gsR0FDckMsT0FBUUcsR0FDTixLQUFLNWhCLEVBQVM2aEIsYUFBYyxDQUMxQixNQUFNQyxFQUFhYixFQUFXYyxhQUFhTixHQUNyQ08sRUFBUTdDLEVBQU04QyxxQkFBcUI1QyxFQUFpQnlDLEdBQ3BESSxFQUFlakIsRUFBV2lCLGFBQWFULEdBQzdDOWYsS0FBS3dnQixZQUFZaEQsRUFBT3JVLEVBQWEwTyxFQUFRdUgsRUFBMkJtQixFQUFjN0MsRUFBaUIyQyxFQUFPRixHQUM5RyxNQUVGLEtBQUs5aEIsRUFBU29pQixZQUVaNUgsRUFBbUJoQixFQUFRdUgsRUFETkUsRUFBV2lCLGFBQWFULElBRTdDLE1BRUYsS0FBS3poQixFQUFTcWlCLGFBQWMsQ0FDMUIsTUFBTVAsRUFBYWIsRUFBV2MsYUFBYU4sR0FDckNPLEVBQVE3QyxFQUFNOEMscUJBQXFCNUMsRUFBaUJ5QyxHQUVwRDdULEVBQVU0TSxFQUFnQnJCLEVBQVF1SCxFQURuQkUsRUFBV2lCLGFBQWFULElBRTdDLEtBQUl4VCxhQUFtQjdDLFNBR3JCLE1BQU0sSUFBSTlJLE1BQU0sNkNBRmhCWCxLQUFLMmdCLGVBQWVuRCxFQUFPclUsRUFBYW1ELEVBQVMrVCxHQUluRCxNQUVGLEtBQUtoaUIsRUFBU3VpQixnQkFBaUIsQ0FHN0IsTUFDTXRVLEVBQVU0TSxFQUFnQnJCLEVBQVF1SCxFQURuQkUsRUFBV2lCLGFBQWFULElBRTdDLEtBQUl4VCxhQUFtQjdDLFNBUXJCLE1BQU0sSUFBSTlJLE1BQU0sa0RBUmMsQ0FDOUIsTUFBTWtnQixFQUFnQnZCLEVBQVd3QixxQkFBcUJoQixHQUVqRDlmLEtBQUsrZ0Isd0JBQXdCdkQsRUFBT2xSLEVBQVN1VSxFQUFlLE9BRS9EdlUsRUFBUXNVLGdCQUFnQkMsR0FLNUIsTUFFRixLQUFLeGlCLEVBQVMyaUIsV0FBWSxDQUN4QixNQUFNYixFQUFhYixFQUFXYyxhQUFhTixHQUNyQ08sRUFBUTdDLEVBQU04QyxxQkFBcUI1QyxFQUFpQnlDLEdBRXBEYyxFQUFXL0gsRUFBZ0JyQixFQUFRdUgsRUFEcEJFLEVBQVdpQixhQUFhVCxJQUU3QyxLQUFJbUIsYUFBb0JDLE1BR3RCLE1BQU0sSUFBSXZnQixNQUFNLDZDQUZoQnNnQixFQUFTOUMsWUFBY29CLEVBQVlwQixZQUFZa0MsR0FJakQsTUFFRixLQUFLaGlCLEVBQVM4aUIsYUFBYyxDQUMxQixNQUFNaEIsRUFBYWIsRUFBV2MsYUFBYU4sR0FDckNPLEVBQVE3QyxFQUFNOEMscUJBQXFCNUMsRUFBaUJ5QyxHQUNwREksRUFBZWpCLEVBQVdpQixhQUFhVCxHQUM3Q2pILEVBQW1CaEIsRUFBUXVILEVBQTJCbUIsR0FDdER2Z0IsS0FBS29oQixhQUFhNUQsRUFBTzNGLEVBQVF1SCxFQUEyQm1CLEVBQWNGLEdBQzFFLE1BRUYsS0FBS2hpQixFQUFTZ2pCLE9BRVp4SixFQUFTcUIsRUFBZ0JyQixFQUFRdUgsRUFEWkUsRUFBV2lCLGFBQWFULElBRTdDWCxJQUNBQyxFQUEyQixFQUMzQixNQUVGLEtBQUsvZ0IsRUFBU2lqQixRQUNaekosRUFBU1MsRUFBaUJULEdBQzFCc0gsSUFDQUMsRUFBNEMsSUFBakJELEVBQXFCckgsRUFBYSxFQUM3RCxNQUVGLEtBQUt6WixFQUFTa2pCLHFCQUNaL0gsRUFBa0JBLEdBQW1CLEdBQ3JDQSxFQUFnQjFYLEtBQUssQ0FDbkI4WCxpQkFBa0J3RixFQUEyQkUsRUFBV2lCLGFBQWFULEdBQ3JFNUYsZUFBZ0JrRixFQUEyQkUsRUFBV2tDLG1CQUFtQjFCLEtBRTNFLE1BRUYsS0FBS3poQixFQUFTb2pCLG1CQUNabEksRUFBdUIxQixFQUFRMkIsR0FDL0JBLE9BQWtCL1csRUFDbEIsTUFFRixRQUVFLE1BQU0sSUFBSTlCLE1BQU0sc0JBRFdzZixNQUtuQyxDQUVRTyxZQUFZaEQsRUFBb0JyVSxFQUFxQjBPLEVBQXdCQyxFQUFvQjRKLEVBQXNDckIsRUFBd0JGLEdBQ3JLLE1BQU1aLEVBQWMvQixFQUFNK0IsWUFDcEJvQyxFQUFZcEMsRUFBWW9DLFVBQVV0QixHQUN4QyxPQUFRc0IsR0FDTixLQUFLcmpCLEVBQVVnTyxRQUViLE9BREF0TSxLQUFLNGhCLGNBQWNwRSxFQUFPclUsRUFBYTBPLEVBQVFDLEVBQVk0SixFQUFRckIsRUFBT0YsR0FDbkUsRUFDVCxLQUFLN2hCLEVBQVV1akIsS0FFYixPQURBN2hCLEtBQUs4aEIsV0FBV3RFLEVBQU8zRixFQUFRQyxFQUFZdUksR0FDcEMsRUFDVCxLQUFLL2hCLEVBQVV5akIsVUFDYixNQUFNLElBQUlwaEIsTUFBTSxrRkFDbEIsS0FBS3JDLEVBQVVvUyxVQUViLE9BREExUSxLQUFLZ2lCLGdCQUFnQnhFLEVBQU8zRixFQUFRQyxFQUFZdUksR0FDekMsRUFDVCxLQUFLL2hCLEVBQVUyakIsT0FDYixPQUFPamlCLEtBQUtraUIsaUJBQWlCMUUsRUFBT3JVLEVBQWEwTyxFQUFRQyxFQUFZNEosRUFBUXZCLEVBQWEsRUFBR0EsRUFBYVosRUFBWTRDLGNBQWM5QixJQUN0SSxLQUFLL2hCLEVBQVU4akIsd0JBQ2IsR0FBSXZLLGFBQWtCcE8sUUFFcEIsT0QzTjhCNkMsRUMwTk51TCxFRDFOd0JzRCxFQzBOaEJvRSxFQUFZOEMsMEJBQTBCaEMsR0R6TjlFL1QsRUFBUW9VLGFBQWF4RixFQUEwQkMsR0FBcUIsSUMwTnJELEVBRVAsTUFBTSxJQUFJeGEsTUFBTSxvRUFFcEIsS0FBS3JDLEVBQVVna0IsT0FFYixPQURBdGlCLEtBQUtvaEIsYUFBYTVELEVBQU8zRixFQUFRQyxFQUFZdUksR0FDdEMsRUFDVCxRQUVFLE1BQU0sSUFBSTFmLE1BQU0sdUJBRFdnaEIsS0RuTzVCLElBQWlDclYsRUFBa0I2TyxDQ3VPeEQsQ0FFUXlHLGNBQWNwRSxFQUFvQnJVLEVBQXFCME8sRUFBd0JDLEVBQW9CNEosRUFBc0NyQixFQUF3QkYsR0FDdkssTUFBTVosRUFBYy9CLEVBQU0rQixZQUNwQmpTLEVBQVVpUyxFQUFZZ0QsWUFBWWxDLEdBRWxDbUMsRUFBZ0MsUUFBWmxWLEdBQXFCNkwsRUFBYXRCLEdBQzFEdlcsU0FBU3NhLGdCQUFnQiw2QkFBOEJ0TyxHQUN2RGhNLFNBQVNvYSxjQUFjcE8sR0FDbkJtVixFQUFhaEwsRUFBaUIrSyxHQUVwQyxJQUFJRSxHQUFXLEVBR2YsTUFBTUMsRUFBMEJ4QyxFQUFhWixFQUFZNEMsY0FBYzlCLEdBQ3ZFLElBQUssSUFBSXVDLEVBQWtCekMsRUFBYSxFQUFHeUMsRUFBa0JELEVBQXlCQyxJQUFtQixDQUN2RyxNQUFNQyxFQUFrQnJGLEVBQU04QyxxQkFBcUJvQixFQUFRa0IsR0FDM0QsR0FBSXJELEVBQVlvQyxVQUFVa0IsS0FBcUJ2a0IsRUFBVXlqQixVQUVsRCxDQUNMOUosRUFBbUJ1SyxFQUFrQjNLLEVBQVFDLEdBQzdDNEssR0FBVyxFQUdYMWlCLEtBQUtraUIsaUJBQWlCMUUsRUFBT3JVLEVBQWFzWixFQUFZLEVBQUdmLEVBQVFrQixFQUFpQkQsR0FDbEYsTUFQQTNpQixLQUFLMmdCLGVBQWVuRCxFQUFPclUsRUFBYXFaLEVBQWtCSyxHQVl6REgsR0FDSHpLLEVBQW1CdUssRUFBa0IzSyxFQUFRQyxHQWdCM0MwSyxhQUE0Qk0sa0JBRTlCOWlCLEtBQUsraUIsbUNBQW1DUCxHQUMvQmhILE1BQXlCZ0gsR0FFbENRLEdBQXdCUixFQUFrQkEsRUFBaUJoSCxJQUUvRCxDQUVRdUgsbUNBQW1DRSxHQUN6QyxNQUFNQyxFQUFhbGpCLEtBQUttakIsaUNBQWlDRixHQUV6RCxJQWlCQSxTQUErQkMsR0FDN0IsUUFBU0EsR0FBZTFILE1BQXlCMEgsQ0FDbkQsQ0FuQktFLENBQXNCRixHQUN6QixPQUFPLEVBR1QsR0FBSUcsR0FBd0JILEdBQzFCRCxFQUFjOVYsVUFBOEUsSUFBbkUrVixFQUFXSSxxQkFBc0I5VyxRQUFReVcsRUFBY2hiLFdBQzNFLENBQ0wsR0FBSWliLEVBQVdJLHVCQUF5QkwsRUFBY2hiLE1BQ3BELE9BQU8sRUFHVHNiLEdBQTRCTCxFQUFZRCxFQUFjaGIsY0FDL0NpYixFQUFXSSxxQkFHcEIsT0FBTyxDQUtULENBRVF0QixnQkFBZ0J4RSxFQUFvQjNGLEVBQXdCQyxFQUFvQnVJLEdBQ3RGLE1BQU10SSxFQUFtQkgsRUFBZ0NDLEVBQVFDLEdBSTNEMEwsRUFBbUJoRyxFQUFNK0IsWUFBWXBXLFlBQVlrWCxHQUN2RHJnQixLQUFLc2QseUJBQXlCa0csRUFBa0J6TCxFQUNsRCxDQUVRK0osV0FBV3RFLEVBQW9CM0YsRUFBd0JDLEVBQW9CMkwsR0FDakYsTUFBTXRGLEVBQWNYLEVBQU0rQixZQUFZcEIsWUFBWXNGLEdBRWxEeEwsRUFEb0IzVyxTQUFTb2lCLGVBQWV2RixHQUNadEcsRUFBUUMsRUFDMUMsQ0FFUXNKLGFBQWE1RCxFQUFvQjNGLEVBQXdCQyxFQUFvQjZMLEdBQ25GLE1BQU1DLEVBQWtCaE0sRUFBZ0NDLEVBQVFDLEdBRzFEK0wsR0EySld2QixFQTVKSzlFLEVBQU0rQixZQUFZdUUsY0FBY0gsR0FDTnhLLEVBQWF0QixJQTZKN0Q4RCxHQUF3Qm9JLFVBQVl6QixHQUFVLElBQ3ZDM0csS0FFUEYsR0FBNkJzSSxVQUFZekIsR0FBVSxJQUM1QzdHLEdBQTZCdUksVUFOeEMsSUFBcUIxQixFQTFKakIsSUFBSTJCLEVBQXNCLEVBQzFCLEtBQU9KLEVBQWF2RixZQUNsQnJHLEVBQW1CNEwsRUFBYXZGLFdBQVlzRixFQUFpQkssSUFFakUsQ0FFUXRELGVBQWVuRCxFQUFvQnJVLEVBQXFCK2EsRUFBdUJDLEdBQ3JGLE1BQU01RSxFQUFjL0IsRUFBTStCLFlBQ3BCc0IsRUFBZ0J0QixFQUFZc0IsY0FBY3NELEdBQzFDNVIsRUFBaUJnTixFQUFZNkUsd0JBQXdCRCxHQUUzRCxHQUFJNVIsRUFBSixDQUNFLE1BQU1qSSxFQUFZK1osR0FBY3hELEdBQ2hDN2dCLEtBQUtxYyxlQUFlNUksWUFBWXlRLEVBQWM1WixFQUFXaUksRUFBZ0JwSixRQUt0RW5KLEtBQUsrZ0Isd0JBQXdCdkQsRUFBTzBHLEVBQWNyRCxFQUFlc0QsSUFFcEVELEVBQWF4RCxhQUNYRyxFQUNBdEIsRUFBWStFLGVBQWVILEdBR2pDLENBRVFwRCx3QkFBd0J2RCxFQUFvQmxSLEVBQWtCdVUsRUFBdUJzRCxHQUMzRixPQUFRdEQsR0FDTixJQUFLLFFBQ0gsT0FBTzdnQixLQUFLdWtCLHNCQUFzQi9HLEVBQU9sUixFQUFTNlgsR0FDcEQsSUFBSyxVQUNILE9BQU9ua0IsS0FBS3drQix3QkFBd0JoSCxFQUFPbFIsRUFBUzZYLEdBQ3RELFFBQ0UsUUFBSXRELEVBQWMxZixXQUFXMmEsTUFDM0I5YixLQUFLeWtCLHVCQUF1QmpILEVBQU9sUixFQUFTdVUsRUFBYzZELFVBQVU1SSxHQUE0QjNaLFFBQVNnaUIsSUFDbEcsR0FLZixDQUVRTSx1QkFBdUJqSCxFQUFvQmxSLEVBQWtCcVksRUFBK0JSLEdBQ2xHLE1BQU1HLEVBQWlCSCxFQUFpQjNHLEVBQU0rQixZQUFZK0UsZUFBZUgsR0FBa0IsS0FFM0YsR0FBSVEsRUFBc0J4akIsV0FBVzZhLElBQTBDLENBRTdFLE1BQU0xUixFQUFZK1osR0FBY00sRUFBc0JELFVBQVUxSSxHQUF3QzdaLFNBQ3hHbkMsS0FBS3FjLGVBQWUzSCxtQkFBbUJwSSxFQUFTaEMsRUFBOEIsT0FBbkJnYSxPQUN0RCxLQUFJSyxFQUFzQnhqQixXQUFXNGEsSUFNMUMsTUFBTSxJQUFJcGIsTUFBTSxtQ0FBbUNna0IsTUFOZ0MsQ0FFbkYsTUFBTXJhLEVBQVkrWixHQUFjTSxFQUFzQkQsVUFBVTNJLEdBQXVDNVosU0FDdkduQyxLQUFLcWMsZUFBZXpILGtCQUFrQnRJLEVBQVNoQyxFQUE4QixPQUFuQmdhLElBSzlELENBRVFDLHNCQUFzQi9HLEVBQW9CbFIsRUFBa0I2WCxHQUVsRSxNQUFNNUUsRUFBYy9CLEVBQU0rQixZQUUxQixJQUFJdFgsRUFBUWtjLEVBQWlCNUUsRUFBWStFLGVBQWVILEdBQWtCLEtBTTFFLE9BSklsYyxHQUE2QixVQUFwQnFFLEVBQVFnQixVQUNuQnJGLEVBaUdOLFNBQTZCQSxFQUFlcUUsR0FVMUMsT0FBUUEsRUFBUUcsYUFBYSxTQUMzQixJQUFLLE9BQ0gsT0FBd0IsSUFBakJ4RSxFQUFNOUYsU0FBaUI4RixFQUFNMmMsU0FBUyxPQUFVdFksRUFBUXdRLGFBQWEsUUFFeEU3VSxFQURBQSxFQUFNeWMsVUFBVSxFQUFHLEdBRXpCLElBQUssaUJBQ0gsT0FBd0IsS0FBakJ6YyxFQUFNOUYsU0FBa0I4RixFQUFNMmMsU0FBUyxPQUFVdFksRUFBUXdRLGFBQWEsUUFFekU3VSxFQURBQSxFQUFNeWMsVUFBVSxFQUFHLElBRXpCLFFBQ0UsT0FBT3pjLEVBRWIsQ0F2SGM0YyxDQUFvQjVjLEVBQU9xRSxJQUc3QkEsRUFBUWdCLFNBQ2QsSUFBSyxRQUNMLElBQUssU0FDTCxJQUFLLFdBbUJILE9BUElyRixHQUFTcUUsYUFBbUJ2QyxtQkFBcUJzWixHQUF3Qi9XLEtBQzNFckUsRUFBUWpGLEtBQUtDLE1BQU1nRixJQUdyQithLEdBQXdCMVcsRUFBU3JFLEdBQ2pDcUUsRUFBUWtQLElBQXlCdlQsR0FFMUIsRUFFVCxJQUFLLFNBVUgsT0FUSUEsR0FBbUIsS0FBVkEsRUFDWHFFLEVBQVFvVSxhQUFhLFFBQVN6WSxHQUU5QnFFLEVBQVFzVSxnQkFBZ0IsU0FLMUI1Z0IsS0FBSytpQixtQ0FBc0R6VyxJQUNwRCxFQUVULFFBQ0UsT0FBTyxFQUViLENBRVFrWSx3QkFBd0JoSCxFQUFvQmxSLEVBQWtCNlgsR0FFcEUsR0FBd0IsVUFBcEI3WCxFQUFRZ0IsUUFBcUIsQ0FDL0IsTUFBTXJGLEVBQVFrYyxFQUFpQjNHLEVBQU0rQixZQUFZK0UsZUFBZUgsR0FBa0IsS0FFbEYsT0FEQzdYLEVBQWdCeEMsUUFBb0IsT0FBVjdCLEdBQ3BCLEVBRVAsT0FBTyxDQUVYLENBRVFrYixpQ0FBaUM3VyxHQUN2QyxLQUFPQSxHQUFTLENBQ2QsR0FBSUEsYUFBbUJ2QyxrQkFDckIsT0FBT3VDLEVBRVBBLEVBQVVBLEVBQVF3WSxjQUl0QixPQUFPLElBQ1QsQ0FFUTVDLGlCQUFpQjFFLEVBQW9CclUsRUFBcUIwTyxFQUF3QkMsRUFBb0I0SixFQUFzQ3FELEVBQW9CQyxHQUN0SyxNQUFNQyxFQUFpQm5OLEVBQ3ZCLElBQUssSUFBSTVQLEVBQVE2YyxFQUFZN2MsRUFBUThjLEVBQWM5YyxJQUFTLENBQzFELE1BQU1tWSxFQUFRN0MsRUFBTThDLHFCQUFxQm9CLEVBQVF4WixHQUVqRDRQLEdBRDRCOVgsS0FBS3dnQixZQUFZaEQsRUFBT3JVLEVBQWEwTyxFQUFRQyxFQUFZNEosRUFBUXJCLEVBQU9uWSxHQUlwR0EsR0FBU2dkLEdBQXNCMUgsRUFBTzZDLEdBR3hDLE9BQVF2SSxFQUFhbU4sQ0FDdkIsRUEwQ0YsU0FBU0MsR0FBc0IxSCxFQUFvQjZDLEdBQ2pELE1BQU1kLEVBQWMvQixFQUFNK0IsWUFDMUIsT0FBUUEsRUFBWW9DLFVBQVV0QixJQUk1QixLQUFLL2hCLEVBQVVvUyxVQUNmLEtBQUtwUyxFQUFVZ08sUUFDZixLQUFLaE8sRUFBVTJqQixPQUNiLE9BQU8xQyxFQUFZNEMsY0FBYzlCLEdBQVMsRUFDNUMsUUFDRSxPQUFPLEVBRWIsQ0E0QkEsU0FBU2dFLEdBQWN4RCxHQUNyQixHQUFJQSxFQUFjMWYsV0FBVyxNQUMzQixPQUFPMGYsRUFBYzZELFVBQVUsR0FHakMsTUFBTSxJQUFJL2pCLE1BQU0sMkVBQTJFa2dCLEtBQzdGLENBSUEsU0FBU3dDLEdBQXdCL1csR0FDL0IsTUFBd0Isb0JBQWpCQSxFQUFRMUMsSUFDakIsQ0FFQSxTQUFTMlosR0FBNEJqWCxFQUE0QnJFLEdBUy9EcUUsRUFBUXJFLE1BQVFBLEdBQVMsRUFDM0IsQ0FTQSxTQUFTK2EsR0FBd0IxVyxFQUFrQnJFLEdBQzdDcUUsYUFBbUJ2QyxrQkFDakJzWixHQUF3Qi9XLEdBVGhDLFNBQXVDQSxFQUE0QnJFLEdBQ2pFQSxJQUFBQSxFQUFVLElBQ1YsSUFBSyxJQUFJZ0QsRUFBSSxFQUFHQSxFQUFJcUIsRUFBUXpCLFFBQVExSSxPQUFROEksSUFDMUNxQixFQUFRekIsUUFBUUksR0FBR2tDLFVBQXdELElBQTdDbEYsRUFBTXVFLFFBQVFGLEVBQVF6QixRQUFRSSxHQUFHaEQsTUFFbkUsQ0FLTWtkLENBQThCN1ksRUFBU3JFLEdBRXZDc2IsR0FBNEJqWCxFQUFTckUsR0FHdENxRSxFQUFnQnJFLE1BQVFBLENBRTdCLENFcGxCQSxNQUFNbWQsR0FBNEMsQ0FBQyxFQUNuRCxJQUFJQyxJQUFrQyxFRFBsQy9JLElBQW1DLEVBQ25DZ0osSUFBd0MsRUFDeENDLElBQW9DLEVBQ3BDQyxHQUFzQixFQUN0QkMsR0FBZ0MsRUFHaENDLEdBQTBILEtBQzFIQyxHQUEySSxLQUUzSUMsR0EwT0p0ZCxlQUEwQ3VkLGFBR3hDLEdBRkFDLEtBRUlQLEdBQW1DLENBQ3JDLE1BQU1yZCxFQUEyQixRQUFuQixFQUFXLFFBQVgsRUFBQTJkLEVBQU1BLGFBQUssZUFBRUUsY0FBTSxRQUFJLEVBQy9CQyxFQUF1QixRQUFYLEVBQUFILEVBQU1BLGFBQUssZUFBRUcsVUFDekJDLEVBQVEvZCxFQUFRc2QsR0FDaEJVLEVBQU03WCxTQUFTOFgsS0FNckIsU0FITUMsSUFBd0NILFVBRVBJLEdBQXVCSCxFQUFLRixHQUFXLEdBRTVFLGFBR0lJLEdBQXVDSCxTQUd6Q0ssSUFBc0IsRUFDOUIsRUE5UElDLEdBQWlGLEtBRzlFLE1BQU1DLEdBQW9CLENBQy9CQywwQkFVRixTQUNFQyxFQUNBQyxXQUVBakIsR0FBZ0NnQixFQUNoQ2YsR0FBaUNnQixFQUU3QnJCLEtBSUpBLElBQXdDLEVBQ3hDcmtCLE9BQU95VixpQkFBaUIsV0FBWWtRLElBQ3BDcEIsR0FBMkMsUUFBckIsRUFBYSxRQUFiLEVBQUFxQixRQUFRaEIsYUFBSyxlQUFFRSxjQUFNLFFBQUksRUFDakQsRUF2QkVlLDZCQXlCRixXQUNFeEssSUFBbUMsQ0FDckMsRUExQkV5SyxnQ0E0QkYsU0FBeUNDLEdBQ3ZDekIsR0FBb0N5QixDQUN0QyxFQTdCRUMsb0JBMk5GLFNBQTZCQyxFQUFnQkMsR0FDdkNaLElBQTRCVyxJQUFXekIsS0FDekNjLEdBQXlCWSxHQUN6QlosR0FBMkIsS0FFL0IsRUEvTkVhLFdBMEdGLFNBQThCbEIsRUFBYXJiLEdBR3pDd2MsR0FBZW5CLEVBQUtyYixHQUE0QyxFQUNsRSxFQTdHRXljLFdBQVksSUFBY2htQixTQUFTQyxRQUNuQ2dtQixnQkFBaUIsSUFBY2xaLFNBQVM4WCxLQUN4Q3FCLG9CQTJCSyxTQUFTQSxHQUFnQnBuQixHQUM5QixNQUFNa00sRUFBVWhMLFNBQVNtbUIsZUFBZXJuQixHQUV4QyxRQUFJa00sSUFDRkEsRUFBUW9iLGtCQUNELEVBSVgsQ0F5RUEsU0FBU0wsR0FBZW5CLEVBQWFyYixFQUE0QjhjLEdBQStCLEdBQzlGLE1BQU1DLEVBQWMzSyxHQUFjaUosSUFFN0JyYixFQUFRZ2QsV0FBYTNLLEdBQXFCMEssR0FDN0N6SyxHQUEwQnlLLEdBQWEsRUFBTy9jLEVBQVFpZCxvQkFBcUJqZCxFQUFRa2Qsa0JBQW1CSixHQVMxRyxTQUFtQ3pCLEVBQWE4QixHQUM5QyxHQUFJM1osU0FBUzhYLE9BQVNELEVBQUssQ0FLekIsTUFBTStCLEVBQWUvQixFQUFNLElBQzNCVyxRQUFRcUIsYUFBYSxLQUFNLEdBQUlELEdBQy9CNVosU0FBUzJaLFFBQVE5QixRQUNSOEIsRUFDVDNaLFNBQVMyWixRQUFROUIsR0FFakI3WCxTQUFTOFgsS0FBT0QsQ0FFcEIsQ0FsQklpQyxDQUEwQmpDLEVBQUtyYixFQUFRaWQsb0JBRTNDLENBa0JBeGYsZUFBZTZVLEdBQTBCaUwsRUFBOEJDLEVBQTBCTCxFQUFrQm5DLEVBQXVDOEIsR0FBK0IsR0FHdkwsR0FGQTdCLEtBbEVGLFNBQTRCOUksR0FDMUIsTUFBTXNMLEVBQVl0TCxFQUFheFEsUUFBUSxLQUN2QyxPQUFPOGIsR0FBYSxHQUFLamEsU0FBUzhYLEtBQUs2QixRQUFRM1osU0FBU2thLEtBQU0sTUFBUXZMLEVBQWEwSCxVQUFVLEVBQUc0RCxFQUNsRyxDQWlFTUUsQ0FBbUJKLElBL0R6QixTQUE2Q3BMLEVBQXVCZ0wsRUFBa0JuQyxHQUNwRjRDLEdBQXFCekwsRUFBY2dMLEVBQVNuQyxHQUU1QyxNQUFNeUMsRUFBWXRMLEVBQWF4USxRQUFRLEtBQ25DOGIsSUFBY3RMLEVBQWE3YSxPQUFTLEdBS3hDcWxCLEdBRG1CeEssRUFBYTBILFVBQVU0RCxFQUFZLEdBRXhELENBc0RJSSxDQUFvQ04sRUFBc0JKLEVBQVNuQyxPQURyRSxDQUtBLElBQUs4QixHQUFnQ3BDLFdBQ0ljLEdBQXVCK0IsRUFBc0J2QyxFQUFPd0MsR0FFekYsT0NwRkpoRCxJQUFrQyxFRCtGbENvRCxHQUFxQkwsRUFBc0JKLEVBQVNuQyxTQUU5Q1MsR0FBc0IrQixHQUM5QixDQUVBLFNBQVNJLEdBQXFCTCxFQUE4QkosRUFBa0JuQyxHQUN2RW1DLEVBT0huQixRQUFRcUIsYUFBYSxDQUNuQmxDLFVBQVdILEVBQ1hFLE9BQVFQLElBQ2EsR0FBSTRDLElBVDNCNUMsS0FDQXFCLFFBQVE4QixVQUFVLENBQ2hCM0MsVUFBV0gsRUFDWEUsT0FBUVAsSUFDYSxHQUFJNEMsR0FPL0IsQ0FFQSxTQUFTaEMsR0FBdUNILEdBQzlDLE9BQU8sSUFBSTdnQixTQUFRQyxJQUNqQixNQUFNdWpCLEVBQXNCaEQsR0FFNUJBLEdBQW1CLEtBQ2pCQSxHQUFtQmdELEVBQ25CdmpCLEdBQVMsRUFHWHdoQixRQUFRZ0MsR0FBRzVDLEVBQU0sR0FFckIsQ0FFQSxTQUFTSCxLQUNIUyxLQUNGQSxJQUF5QixHQUN6QkEsR0FBMkIsS0FFL0IsQ0FFQSxTQUFTRixHQUF1QkgsRUFBYUwsRUFBMkJpRCxHQUN0RSxPQUFPLElBQUkxakIsU0FBaUJDLElBQzFCeWdCLEtBRUtILElBS0xGLEtBQ0FjLEdBQTJCbGhCLEVBQzNCc2dCLEdBQStCRixHQUErQlMsRUFBS0wsRUFBT2lELElBTnhFempCLEdBQVEsRUFNNEUsR0FFMUYsQ0FnQ0FpRCxlQUFlZ2UsR0FBc0IrQixTQUMvQjNDLFVBQ0lBLEdBQThCclgsU0FBUzhYLEtBQW1CLFFBQWIsRUFBQVUsUUFBUWhCLGFBQUssZUFBRUcsVUFBV3FDLEVBRWpGLENBRUEvZixlQUFlc2UsR0FBV2YsV0FDcEJELFVBQ0lBLEdBQWlCQyxHQUd6QkwsR0FBMkMsUUFBckIsRUFBYSxRQUFiLEVBQUFxQixRQUFRaEIsYUFBSyxlQUFFRSxjQUFNLFFBQUksQ0FDakQsQ0FFQSxJQUFJZ0QsR0FDRyxTQUFTOUwsR0FBYytMLEdBRzVCLE9BRkFELEdBQWFBLElBQWN6bkIsU0FBU29hLGNBQWMsS0FDbERxTixHQUFXNUMsS0FBTzZDLEVBQ1hELEdBQVc1QyxJQUNwQixDQTBCQSxTQUFTeEosR0FBZ0NyUSxFQUF5QmdCLEdBQ2hFLE9BQVFoQixFQUVKQSxFQUFRZ0IsVUFBWUEsRUFDbEJoQixFQUNBcVEsR0FBZ0NyUSxFQUFRd1ksY0FBZXhYLEdBSHpELElBSU4sQ0FFQSxTQUFTNFAsR0FBcUJpSixHQUM1QixNQUFNOEMsR0FPK0JDLEVBUDZCNW5CLFNBQVNDLFNBUTVEbWpCLFVBQVUsRUFBR3dFLEVBQVFDLFlBQVksTUFEbEQsSUFBdUNELEVBTnJDLE1BQU1FLEVBQVdqRCxFQUFLa0QsT0FBT0osRUFBNEI5bUIsUUFFekQsT0FBT2drQixFQUFLaGxCLFdBQVc4bkIsS0FDSixLQUFiRyxHQUFnQyxNQUFiQSxHQUFpQyxNQUFiQSxHQUFpQyxNQUFiQSxFQUNuRSxDRXhVTyxNQUFNRSxHQUFlLENBQzFCeEssTUFJRixTQUFleFMsRUFBMkJpZCxHQUN4QyxHQUFJamQsYUFBbUJ1UyxZQUNyQnZTLEVBQVF3UyxNQUFNLENBQUV5SyxzQkFDWCxNQUFJamQsYUFBbUJrZCxZQU81QixNQUFNLElBQUk3b0IsTUFBTSx1Q0FOaEIsSUFBSTJMLEVBQVF3USxhQUFhLFlBR3ZCLE1BQU0sSUFBSW5jLE1BQU0saUVBRmhCMkwsRUFBUXdTLE1BQU0sQ0FBRXlLLGtCQU90QixFQWZFRSxnQkFpQkYsU0FBeUJwTyxFQUFrQmtPLEdBQ3pDLE1BQU1qZCxFQUFVaEwsU0FBU2dhLGNBQWNELEdBQ25DL08sSUFJR0EsRUFBUXdRLGFBQWEsY0FDeEJ4USxFQUFRb2QsVUFBWSxHQUd0QnBkLEVBQVF3UyxNQUFNLENBQUV5SyxlQUFlLElBRW5DLEdDakNhSSxHQUFhLENBQ3hCQyxLQXdCRixTQUFjQyxFQUFtQkMsRUFBMkJDLEVBQTBCQyxFQUFhLElBSWpHLE1BQU1DLEVBQWtCQyxHQUEyQkosSUFDbERHLEdBQW1CM29CLFNBQVM2b0IsaUJBQWlCQyxNQUFNQyxlQUFpQixPQUVyRSxNQUFNQyxFQUFzQmhwQixTQUFTaXBCLGNBRWpDQyxFQUFvQlQsRUFBWWpGLGlCQUNsQ2dGLEVBQWFNLE1BQU1LLFFBQVUsWUFDN0JWLEVBQVlLLE1BQU1LLFFBQVUsYUFHOUIsTUFBTUMsRUFBdUIsSUFBSUMsc0JBc0NqQyxTQUE4QmpaLEdBQzVCQSxFQUFRalIsU0FBU21xQixVQUNmLElBQUtBLEVBQU1DLGVBQ1QsT0FRRlAsRUFBb0JRLGNBQWNoQixHQUNsQ1EsRUFBb0JTLGFBQWFoQixHQUNqQyxNQUFNaUIsRUFBbUJWLEVBQW9CVyx3QkFBd0I1YixPQUMvRDZiLEVBQWdDLFFBQWhCLEVBQUFOLEVBQU1PLGtCQUFVLGVBQUU5YixPQUVwQ3ViLEVBQU1waEIsU0FBV3NnQixFQUNuQkQsRUFBYS9sQixrQkFBa0Isd0JBQXlCOG1CLEVBQU1RLGlCQUFpQkMsSUFBTVQsRUFBTVUsbUJBQW1CRCxJQUFLTCxFQUFrQkUsR0FDNUhOLEVBQU1waEIsU0FBV3VnQixHQUFlQSxFQUFZd0IsYUFBZSxHQUlwRTFCLEVBQWEvbEIsa0JBQWtCLHVCQUF3QjhtQixFQUFNVSxtQkFBbUJFLE9BQVNaLEVBQU1RLGlCQUFpQkksT0FBUVIsRUFBa0JFLEtBR2hKLEdBL0Q0RSxDQUMxRU8sS0FBTXhCLEVBQ05ELFdBQVksR0FBR0EsUUFHakJVLEVBQXFCZ0IsUUFBUTVCLEdBQzdCWSxFQUFxQmdCLFFBQVEzQixHQUU3QixNQUFNNEIsRUFBeUJDLEVBQTZCOUIsR0FDdEQrQixFQUF3QkQsRUFBNkI3QixHQVEzRCxTQUFTNkIsRUFBNkJFLEdBSXBDLE1BQU1DLEVBQWtCLENBQUVDLFlBQVksR0FDaENDLEVBQW1CLElBQUlDLGtCQUFpQixDQUFDQyxFQUE2QkMsS0FDdEU1QixFQUFvQnNCLEVBQU9oSCxpQkFDN0JzSCxFQUFTQyxhQUNUUCxFQUFPMUIsTUFBTUssUUFBVSxZQUN2QjJCLEVBQVNWLFFBQVFJLEVBQVFDLElBRzNCckIsRUFBcUI0QixVQUFVUixHQUMvQnBCLEVBQXFCZ0IsUUFBUUksRUFBTyxJQUt0QyxPQUZBRyxFQUFpQlAsUUFBUUksRUFBUUMsR0FFMUJFLENBQ1QsQ0E2QkEsU0FBU3pCLEVBQW9CbGUsR0FDM0IsT0FBZ0IsT0FBWkEsSUFJS0EsYUFBbUJpZ0Isa0JBQThDLEtBQTFCamdCLEVBQVE4ZCxNQUFNSyxTQUE2QyxVQUExQm5lLEVBQVE4ZCxNQUFNSyxTQUN4Rm5lLGFBQW1Ca2dCLHlCQUFxRCxLQUExQmxnQixFQUFROGQsTUFBTUssU0FBNkMsb0JBQTFCbmUsRUFBUThkLE1BQU1LLFFBQ3RHLENBN0RBZ0MsR0FBb0I1QyxFQUFhbGlCLEtBQU8sQ0FDdEMraUIsdUJBQ0FpQix5QkFDQUUsd0JBMkRKLEVBOUdFaGtCLFFBZ0hGLFNBQWlCZ2lCLEdBQ2YsTUFBTTZDLEVBQVlELEdBQW9CNUMsRUFBYWxpQixLQUUvQytrQixJQUNGQSxFQUFVaEMscUJBQXFCMkIsYUFDL0JLLEVBQVVmLHVCQUF1QlUsYUFDakNLLEVBQVViLHNCQUFzQlEsYUFFaEN4QyxFQUFhaGlCLGlCQUVONGtCLEdBQW9CNUMsRUFBYWxpQixLQUU1QyxHQXpITThrQixHQUFzQixDQUFDLEVBRTdCLFNBQVN2QyxHQUEyQjVkLEdBS2xDLE9BQUtBLEdBQVdBLElBQVloTCxTQUFTcXJCLE1BQVFyZ0IsSUFBWWhMLFNBQVM2b0IsZ0JBTTFDLFlBRlZ5QyxpQkFBaUJ0Z0IsR0FFckJ1Z0IsVUFDRHZnQixFQUdGNGQsR0FBMkI1ZCxFQUFRd1ksZUFUakMsSUFVWCxDQ3JCTyxNQUFNZ0ksR0FBWSxDQUN2QkMsMEJBR0YsaUJBRUUsTUFBTUMsRUFBZ0IxckIsU0FBUzJyQixLQUFPM3JCLFNBQVMyckIsS0FBS0MscUJBQXFCLFNBQVcsR0FFcEYsR0FBNkIsSUFBekJGLEVBQWM3cUIsT0FDaEIsT0FBTyxLQUdULElBQUlnckIsRUFBK0IsS0FFbkMsSUFBSyxJQUFJamxCLEVBQVE4a0IsRUFBYzdxQixPQUFTLEVBQUcrRixHQUFTLEVBQUdBLElBQVMsQ0FDOUQsTUFBTWtsQixFQUFzQkosRUFBYzlrQixHQUNwQzJTLEVBQWtCdVMsRUFBb0J2UyxnQkFDdEJBLGFBQTJCekMsU0FBOEUsT0FBbkVFLEVBQWlCdUMsS0FNdkQsT0FBbEJzUyxJQUNGQSxFQUFnQkMsRUFBb0JqUCxhQUdSLFFBQTlCLEVBQUFpUCxFQUFvQjNVLGtCQUFVLFNBQUVRLFlBQVltVSxJQUc5QyxPQUFPRCxDQUNULEdDakNhRSxHQUFZLENBQ3ZCekQsS0FtQkYsU0FBY2hZLEVBQXNCckksR0FDbENBLEVBQUsrakIsMkJBQTZCLEVBRWxDL2pCLEVBQUttTixpQkFBaUIsU0FBUyxXQUU3Qm5OLEVBQUt0QixNQUFRLEVBQ2YsSUFFQXNCLEVBQUttTixpQkFBaUIsVUFBVSxXQUU5Qm5OLEVBQUtna0IsaUJBQW1CLENBQUMsRUFFekIsTUFBTUMsRUFBV3pnQixNQUFNN04sVUFBVWtPLElBQUloTyxLQUFLbUssRUFBS3NFLE9BQU8sU0FBUzRmLEdBQzdELE1BQU1sdEIsRUFBUyxDQUNiMEQsS0FBTXNGLEVBQUsrakIsMkJBQ1hJLGFBQWMsSUFBSUMsS0FBS0YsRUFBS0MsY0FBY0UsY0FDMUM3ZixLQUFNMGYsRUFBSzFmLEtBQ1h4TCxLQUFNa3JCLEVBQUtsckIsS0FDWHNyQixZQUFhSixFQUFLN2pCLEtBQ2xCa2tCLGlCQUFhcnJCLEVBQ2IrRixpQkFBYS9GLEVBQ2JzckIsS0FBTU4sR0FLUixPQUZBbGtCLEVBQUtna0IsaUJBQWlCaHRCLEVBQU8wRCxJQUFNMUQsRUFFNUJBLENBQ1QsSUFFQXFSLEVBQWdCOU4sa0JBQWtCLGVBQWdCMHBCLEVBQ3BELEdBQ0YsRUFqREVRLFlBbURGMWxCLGVBQTJCaUIsRUFBb0Iwa0IsRUFBZ0JDLEVBQWdCQyxFQUFrQkMsR0FDL0YsTUFBTUMsRUFBZUMsR0FBWS9rQixFQUFNMGtCLEdBRWpDTSxRQUFvQixJQUFJbnBCLFNBQVEsU0FBU0MsR0FDN0MsTUFBTW1wQixFQUFvQixJQUFJQyxNQUM5QkQsRUFBa0JFLE9BQVMsV0FDekJ0dEIsSUFBSXV0QixnQkFBZ0JILEVBQWtCSSxLQUN0Q3ZwQixFQUFRbXBCLEVBQ1YsRUFDQUEsRUFBa0JLLFFBQVUsV0FDMUJMLEVBQWtCSyxRQUFVLEtBQzVCenRCLElBQUl1dEIsZ0JBQWdCSCxFQUFrQkksSUFDeEMsRUFDQUosRUFBa0JJLElBQU14dEIsSUFBSTB0QixnQkFBZ0JULEVBQW1CLEtBQ2pFLElBRU1VLFFBQXlCLElBQUkzcEIsU0FBUSxTQUFTQyxTQUNsRCxNQUFNMnBCLEVBQW9CQyxLQUFLQyxJQUFJLEVBQUdmLEVBQVdJLEVBQVluZixPQUN2RCtmLEVBQXFCRixLQUFLQyxJQUFJLEVBQUdkLEVBQVlHLEVBQVlsZixRQUN6RCtmLEVBQWtCSCxLQUFLQyxJQUFJRixFQUFtQkcsR0FFOUNFLEVBQVMvdEIsU0FBU29hLGNBQWMsVUFDdEMyVCxFQUFPamdCLE1BQVE2ZixLQUFLSyxNQUFNZixFQUFZbmYsTUFBUWdnQixHQUM5Q0MsRUFBT2hnQixPQUFTNGYsS0FBS0ssTUFBTWYsRUFBWWxmLE9BQVMrZixHQUN6QixRQUF2QixFQUFBQyxFQUFPRSxXQUFXLGFBQUssU0FBRUMsVUFBVWpCLEVBQWEsRUFBRyxFQUFHYyxFQUFPamdCLE1BQU9pZ0IsRUFBT2hnQixRQUMzRWdnQixFQUFPSSxPQUFPcHFCLEVBQVM2b0IsRUFDekIsSUFFTTN0QixFQUFzQixDQUMxQjBELEtBQU1zRixFQUFLK2pCLDJCQUNYSSxhQUFjVyxFQUFhWCxhQUMzQjNmLEtBQU1zZ0IsRUFBYXRnQixLQUNuQnhMLE1BQU13c0IsYUFBZ0IsRUFBaEJBLEVBQWtCeHNCLE9BQVEsRUFDaENzckIsWUFBYUssRUFDYkgsS0FBTWdCLEdBQXNDVixFQUFhTixNQUszRCxPQUZBeGtCLEVBQUtna0IsaUJBQWlCaHRCLEVBQU8wRCxJQUFNMUQsRUFFNUJBLENBQ1QsRUExRkVtdkIsYUE0RkZwbkIsZUFBNEJpQixFQUFvQjBrQixHQUU5QyxPQURhSyxHQUFZL2tCLEVBQU0wa0IsR0FDbkJGLElBQ2QsR0FFTyxTQUFTTyxHQUFZL2tCLEVBQW9CMGtCLEdBQzlDLE1BQU1SLEVBQU9sa0IsRUFBS2drQixpQkFBaUJVLEdBRW5DLElBQUtSLEVBQ0gsTUFBTSxJQUFJOXNCLE1BQU0sNEJBQTRCc3RCLHVHQUc5QyxPQUFPUixDQUNULENDNUdBLE1BQU1rQyxHQUFrQixJQUFJeFQsSUFFZnlULEdBQWlCLENBQzVCQyx1QkFZRixTQUFnQzVyQixHQUNELElBQXpCMHJCLEdBQWdCcHRCLE1BQ2xCdEIsT0FBT3lWLGlCQUFpQixlQUFnQm9aLElBRzFDSCxHQUFnQjFiLElBQUloUSxFQUN0QixFQWpCRThyQix3QkFtQkYsU0FBaUM5ckIsR0FDL0IwckIsR0FBZ0I5b0IsT0FBTzVDLEdBRU0sSUFBekIwckIsR0FBZ0JwdEIsTUFDbEJ0QixPQUFPNFYsb0JBQW9CLGVBQWdCaVosR0FFL0MsR0F0QkEsU0FBU0EsR0FBZXhtQixHQUN0QkEsRUFBTXVMLGlCQUlOdkwsRUFBTWIsYUFBYyxDQUN0QixDQ1NBLE1BQU11bkIsR0FBZ0MsSUFBSTl2QixJQ2dFN0IrdkIsR0FBa0IsQ0FDN0I3SSxXUmlDSyxTQUFvQmxCLEVBQWFnSyxFQUFpREMsR0FBNEIsR0FNbkg5SSxHQUFlbkIsRUFKb0JnSyxhQUE4QnR4QixPQUM3RHN4QixFQUNBLENBQUVySSxVQUFXcUksRUFBb0JwSSxvQkFBcUJxSSxHQUc1RCxFUXZDRUMsd0JmN0VLLFNBQWlDOWxCLEVBQW1CTyxHQUN6RCxJQUFLQSxFQUNILE1BQU0sSUFBSWxLLE1BQU0sc0NBS2xCLEdBQUl1SixFQUFrQmpELElBQUlxRCxHQUN4QixNQUFNLElBQUkzSixNQUFNLGNBQWMySiw2QkFJaEMsR0FBSU8sRUFBUUgsaUJBQWtCLENBQzVCLE1BQU0ybEIsRUFBYWxtQixFQUEyQnBMLElBQUk4TCxFQUFRSCxrQkFDdEQybEIsRUFDRkEsRUFBV3Z1QixLQUFLd0ksR0FFaEJILEVBQTJCckosSUFBSStKLEVBQVFILGlCQUFrQixDQUFDSixJQU81REYsRUFBa0MzSixTQUFReVEsR0FBWUEsRUFBUzVHLEVBQVdPLEVBQVFILG9CQUdwRlIsRUFBa0JwSixJQUFJd0osRUFBV08sRUFDbkMsRWVrREV5bEIsZUFBZ0JsZ0IsRUFFaEJtZ0IsVUFBVyxDQUNUQyxrQkFBbUIsR0FDbkJDLFdBQVluSCxHQUNaSyxXQUFVLEdBQ1ZtRCxVQUFTLEdBQ1RPLFVBQVMsR0FDVHVDLGVBQWMsR0FDZGMscUJEaEdHcG9CLGVBQTRCM0IsRUFBOEJncUIsRUFBa0JDLEdBQ2pGLE9BQUlqcUIsYUFBZ0JyRSxXQU90QmdHLGVBQWdDM0IsRUFBWWdxQixFQUFrQkMsR0FDNUQsTUFBTUMsRUFBWWxxQixFQUFLbXFCLE1BQU1ILEVBQVVBLEVBQVdDLEdBQzVDcG9CLFFBQW9CcW9CLEVBQVVyb0IsY0FFcEMsT0FEc0IsSUFBSW5HLFdBQVdtRyxFQUV2QyxDQVhpQnVvQixDQUFpQnBxQixFQUFNZ3FCLEVBQVVDLEdBYWxELFNBQXFDanFCLEVBQXVCZ3FCLEVBQWtCQyxHQUU1RSxPQURzQixJQUFJdnVCLFdBQVdzRSxFQUFLbkUsT0FBUW1FLEVBQUtxcUIsV0FBYUwsRUFBVUMsRUFFaEYsQ0FkV0ssQ0FBNEJ0cUIsRUFBTWdxQixFQUFVQyxFQUV2RCxFQzJGSU0seUJidkZHLFNBQ0x4ZSxFQUNBeWUsRUFDQUMsR0FFQSxNQUFNM2UsRUFBYVYsRUFBMkI1UCxPQVM5QyxPQVJBNFAsRUFBMkJqUSxLQUFLNFEsR0FFNUI5VCxPQUFPeXlCLEtBQUtGLEdBQXVCaHZCLE9BQVMsR0Q4RjNDLFNBQ0xtdkIsRUFDQUgsRUFDQUMsR0FFQSxHQUFJbmhCLEVBR0YsTUFBTSxJQUFJdFAsTUFBTSxzREFHbEJzUCxFQUFVcWhCLEVBQ1ZwaEIsRUFBb0NpaEIsRUFLcEMsSUFBSyxNQUFPSSxFQUF1QkMsS0FBeUI1eUIsT0FBTzhTLFFBQVEwZixHQUEwQixDQUNuRyxNQUFNSyxFQUFrQnJ6QixFQUFPMEcsZUFBZXlzQixFQUF1QixHQUNyRSxJQUFLLE1BQU1qaEIsS0FBdUJraEIsRUFFaENDLEVBQWdCbmhCLEVBREc2Z0IsRUFBc0I3Z0IsSUFJL0MsQ0NwSElvaEIsQ0FEZ0JsZixFQUFrQkMsR0FDRjBlLEVBQXVCQyxHQUd6RHBmLElBQ09TLENBQ1QsSWE2RUF4UixPQUFlLE9BQUlndkIsR0N4R25CLElBQUkwQixJQUFZLEVDQWhCLE1BQU1DLEdBQXVDLG1CQUFoQkMsWUFDekIsSUFBSUEsWUFBWSxTQUNoQixLQUVTQyxHQUNURixHQUFnQkEsR0FBY0csT0FBT2x4QixLQUFLK3dCLElBVTlDLFNBQW9CSSxHQUNsQixJQUFJQyxFQUFNLEVBQ1YsTUFBTUMsRUFBTUYsRUFBTTd2QixPQUNaZ3dCLEVBQWdCLEdBQ2hCQyxFQUF1QixHQUU3QixLQUFPSCxFQUFNQyxHQUFLLENBQ2hCLE1BQU1HLEVBQVFMLEVBQU1DLEtBQ3BCLEdBQWMsSUFBVkksRUFDRixNQUdGLEdBQXVCLElBQVYsSUFBUkEsR0FDSEYsRUFBSXJ3QixLQUFLdXdCLFFBQ0osR0FBdUIsTUFBVixJQUFSQSxHQUF3QixDQUNsQyxNQUFNQyxFQUF1QixHQUFmTixFQUFNQyxLQUNwQkUsRUFBSXJ3QixNQUFlLEdBQVJ1d0IsSUFBaUIsRUFBS0MsUUFDNUIsR0FBdUIsTUFBVixJQUFSRCxHQUF3QixDQUNsQyxNQUFNQyxFQUF1QixHQUFmTixFQUFNQyxLQUNkTSxFQUF1QixHQUFmUCxFQUFNQyxLQUNwQkUsRUFBSXJ3QixNQUFlLEdBQVJ1d0IsSUFBaUIsR0FBT0MsR0FBUyxFQUFLQyxRQUM1QyxHQUF1QixNQUFWLElBQVJGLEdBQXdCLENBTWxDLElBQUlHLEdBQXNCLEVBQVJILElBQWlCLElBTE4sR0FBZkwsRUFBTUMsT0FLaUMsSUFKeEIsR0FBZkQsRUFBTUMsT0FJbUQsRUFIMUMsR0FBZkQsRUFBTUMsS0FJaEJPLEVBQVksUUFFZEEsR0FBYSxNQUNiTCxFQUFJcndCLEtBQU0wd0IsSUFBYyxHQUFNLEtBQVEsT0FDdENBLEVBQVksTUFBcUIsS0FBWkEsR0FFdkJMLEVBQUlyd0IsS0FBSzB3QixHQVFQTCxFQUFJaHdCLE9BQVMsT0FDZml3QixFQUFXdHdCLEtBQUsyd0IsT0FBT0MsYUFBYUMsTUFBTSxLQUFNUixJQUNoREEsRUFBSWh3QixPQUFTLEdBS2pCLE9BREFpd0IsRUFBV3R3QixLQUFLMndCLE9BQU9DLGFBQWFDLE1BQU0sS0FBTVIsSUFDekNDLEVBQVdRLEtBQUssR0FDekIsRUNqRU1DLEdBQXNCNUQsS0FBSzZELElBQUksRUFBRyxJQUNsQ0MsR0FBd0I5RCxLQUFLNkQsSUFBSSxFQUFHLElBQU0sRUFFekMsU0FBU0UsR0FBWXh3QixFQUFvQm11QixHQUM5QyxPQUFRbnVCLEVBQU9tdUIsR0FDTm51QixFQUFPbXVCLEVBQVcsSUFBTSxFQUN4Qm51QixFQUFPbXVCLEVBQVcsSUFBTSxHQUN4Qm51QixFQUFPbXVCLEVBQVcsSUFBTSxFQUNuQyxDQUVPLFNBQVNzQyxHQUFhendCLEVBQW9CbXVCLEdBQy9DLE9BQVFudUIsRUFBT211QixJQUNObnVCLEVBQU9tdUIsRUFBVyxJQUFNLElBQ3hCbnVCLEVBQU9tdUIsRUFBVyxJQUFNLEtBQ3ZCbnVCLEVBQU9tdUIsRUFBVyxJQUFNLEtBQVEsRUFDNUMsQ0FFTyxTQUFTdUMsR0FBYTF3QixFQUFvQm11QixHQUcvQyxNQUFNd0MsRUFBV0YsR0FBYXp3QixFQUFRbXVCLEVBQVcsR0FDakQsR0FBSXdDLEVBQVdKLEdBQ2IsTUFBTSxJQUFJcHlCLE1BQU0sMkNBQTJDd3lCLCtEQUc3RCxPQUFRQSxFQUFXTixHQUF1QkksR0FBYXp3QixFQUFRbXVCLEVBQ2pFLENDZk8sTUFBTXlDLEdBQ1h0ekIsWUFBb0J1ekIsR0FBQSxLQUFBQSxVQUFBQSxFQUNsQixNQUFNQyxFQUFlLElBQUlDLEdBQXlCRixHQUVsRHJ6QixLQUFLd3pCLGlCQUFtQixJQUFJQyxHQUE2QkosR0FDekRyekIsS0FBS3FmLDBCQUE0QixJQUFJcVUsR0FBc0NMLEdBQzNFcnpCLEtBQUsrZixXQUFhLElBQUk0VCxHQUFpQ04sR0FDdkRyekIsS0FBS3NmLFdBQWEsSUFBSXNVLEdBQWlDUCxFQUFXQyxHQUNsRXR6QixLQUFLdWYsWUFBYyxJQUFJc1UsR0FBa0NSLEVBQVdDLEVBQ3RFLENBRUFRLG9CQUNFLE9BQU9kLEdBQVloekIsS0FBS3F6QixVQUFXcnpCLEtBQUtxekIsVUFBVWx4QixPQUFTLEdBQzdELENBRUF1YixrQkFDRSxPQUFPc1YsR0FBWWh6QixLQUFLcXpCLFVBQVdyekIsS0FBS3F6QixVQUFVbHhCLE9BQVMsR0FDN0QsQ0FFQTR4Qix1QkFDRSxPQUFPZixHQUFZaHpCLEtBQUtxekIsVUFBV3J6QixLQUFLcXpCLFVBQVVseEIsT0FBUyxHQUM3RCxDQUVBNnhCLDBCQUNFLE9BQU9oQixHQUFZaHpCLEtBQUtxekIsVUFBV3J6QixLQUFLcXpCLFVBQVVseEIsT0FBUyxFQUM3RCxDQUVBOHhCLHVCQUF1Qm5pQixFQUFxQzVKLEdBQzFELE1BQU1nc0IsRUFBaUJwaUIsRUFuQ1UsRUFtQ081SixFQUN4QyxPQUFPOHFCLEdBQVloekIsS0FBS3F6QixVQUFXYSxFQUNyQyxDQUVBNVQscUJBQXFCeE8sRUFBc0M1SixHQUN6RCxPQUFRNEosRUF2Q3VCLEdBdUNONUosQ0FDM0IsQ0FFQWlzQiwwQkFBMEJyaUIsRUFBNkI1SixHQUNyRCxNQUFNa3NCLEVBQVl0aUIsRUExQ2tCLEVBMENENUosRUFDbkMsT0FBTzhxQixHQUFZaHpCLEtBQUtxekIsVUFBV2UsRUFDckMsQ0FFQUMsNkJBQTZCdmlCLEVBQTZCNUosR0FDeEQsTUFBTWtzQixFQUFZdGlCLEVBOUNxQixFQThDSjVKLEVBQ25DLE9BQU9nckIsR0FBYWx6QixLQUFLcXpCLFVBQVdlLEVBQ3RDLEVBYUYsTUFBTVQsR0FDSjd6QixZQUFvQncwQixHQUFBLEtBQUFBLGVBQUFBLENBQ3BCLENBRUFuckIsWUFBWW9yQixHQUVWLE9BQU92QixHQUFZaHpCLEtBQUtzMEIsZUFBZ0JDLEVBQzFDLENBRUE5VyxNQUFNOFcsR0FFSixPQUFRQSxFQUFjLENBQ3hCLENBRUF2VSxXQUFXbE8sRUFBcUM1SixHQUM5QyxPQUFRNEosRUEzRWEsR0EyRUk1SixDQUMzQixFQUdGLE1BQU0wckIsR0FDSjl6QixZQUFvQncwQixFQUFvQ2hCLEdBQXBDLEtBQUFnQixlQUFBQSxFQUFvQyxLQUFBaEIsYUFBQUEsQ0FDeEQsQ0FFQXJULFNBQVNILEdBQ1AsT0FBT2tULEdBQVloekIsS0FBS3MwQixlQUFnQnhVLEVBQzFDLENBRUFTLGFBQWFULEdBQ1gsT0FBT2tULEdBQVloekIsS0FBS3MwQixlQUFnQnhVLEVBQWMsRUFDeEQsQ0FFQU0sYUFBYU4sR0FDWCxPQUFPa1QsR0FBWWh6QixLQUFLczBCLGVBQWdCeFUsRUFBYyxFQUN4RCxDQUVBMEIsbUJBQW1CMUIsR0FDakIsT0FBT2tULEdBQVloekIsS0FBS3MwQixlQUFnQnhVLEVBQWMsRUFDeEQsQ0FFQWdCLHFCQUFxQmhCLEdBQ25CLE1BQU0wVSxFQUFjeEIsR0FBWWh6QixLQUFLczBCLGVBQWdCeFUsRUFBYyxJQUNuRSxPQUFPOWYsS0FBS3N6QixhQUFhbUIsV0FBV0QsRUFDdEMsRUFHRixNQUFNWCxHQUNKL3pCLFlBQW9CdzBCLEVBQW9DaEIsR0FBcEMsS0FBQWdCLGVBQUFBLEVBQW9DLEtBQUFoQixhQUFBQSxDQUN4RCxDQUtBM1IsVUFBVXRCLEdBQ1IsT0FBTzJTLEdBQVloekIsS0FBS3MwQixlQUFnQmpVLEVBQzFDLENBRUE4QixjQUFjOUIsR0FDWixPQUFPMlMsR0FBWWh6QixLQUFLczBCLGVBQWdCalUsRUFBZSxFQUN6RCxDQUVBZ0MsMEJBQTBCaEMsR0FDeEIsTUFBTW1VLEVBQWN4QixHQUFZaHpCLEtBQUtzMEIsZUFBZ0JqVSxFQUFlLEdBQ3BFLE9BQU9yZ0IsS0FBS3N6QixhQUFhbUIsV0FBV0QsRUFDdEMsQ0FFQXJyQixZQUFZa1gsR0FDVixPQUFPMlMsR0FBWWh6QixLQUFLczBCLGVBQWdCalUsRUFBZSxFQUN6RCxDQUVBa0MsWUFBWWxDLEdBQ1YsTUFBTW1VLEVBQWN4QixHQUFZaHpCLEtBQUtzMEIsZUFBZ0JqVSxFQUFlLEdBQ3BFLE9BQU9yZ0IsS0FBS3N6QixhQUFhbUIsV0FBV0QsRUFDdEMsQ0FFQXJXLFlBQVlrQyxHQUNWLE1BQU1tVSxFQUFjeEIsR0FBWWh6QixLQUFLczBCLGVBQWdCalUsRUFBZSxHQUNwRSxPQUFPcmdCLEtBQUtzekIsYUFBYW1CLFdBQVdELEVBQ3RDLENBRUExUSxjQUFjekQsR0FDWixNQUFNbVUsRUFBY3hCLEdBQVloekIsS0FBS3MwQixlQUFnQmpVLEVBQWUsR0FDcEUsT0FBT3JnQixLQUFLc3pCLGFBQWFtQixXQUFXRCxFQUN0QyxDQUVBM1QsY0FBY1IsR0FDWixNQUFNbVUsRUFBY3hCLEdBQVloekIsS0FBS3MwQixlQUFnQmpVLEVBQWUsR0FDcEUsT0FBT3JnQixLQUFLc3pCLGFBQWFtQixXQUFXRCxFQUN0QyxDQUVBbFEsZUFBZWpFLEdBQ2IsTUFBTW1VLEVBQWN4QixHQUFZaHpCLEtBQUtzMEIsZUFBZ0JqVSxFQUFlLEdBQ3BFLE9BQU9yZ0IsS0FBS3N6QixhQUFhbUIsV0FBV0QsRUFDdEMsQ0FFQXBRLHdCQUF3Qi9ELEdBQ3RCLE9BQU82UyxHQUFhbHpCLEtBQUtzMEIsZUFBZ0JqVSxFQUFlLEdBQzFELEVBR0YsTUFBTWtULEdBR0p6ekIsWUFBb0J3MEIsR0FBQSxLQUFBQSxlQUFBQSxFQUVsQnQwQixLQUFLMDBCLHNCQUF3QjFCLEdBQVlzQixFQUFnQkEsRUFBZW55QixPQUFTLEVBQ25GLENBRUFzeUIsV0FBV3ZzQixHQUNULElBQWUsSUFBWEEsRUFDRixPQUFPLEtBQ0YsQ0FDTCxNQUFNeXNCLEVBQXNCM0IsR0FBWWh6QixLQUFLczBCLGVBQWdCdDBCLEtBQUswMEIsc0JBMUt6QyxFQTBLaUV4c0IsR0FJcEYwc0IsRUQzSkwsU0FBb0JweUIsRUFBb0JtdUIsR0FDN0MsSUFBSXB3QixFQUFTLEVBQ1QrVSxFQUFRLEVBQ1osSUFBSyxJQUFJcE4sRUFBUSxFQUFHQSxFQUFRLEVBQUdBLElBQVMsQ0FDdEMsTUFBTTJzQixFQUFPcnlCLEVBQU9tdUIsRUFBV3pvQixHQUUvQixHQURBM0gsSUFBa0IsSUFBUHMwQixJQUFldmYsRUFDdEJ1ZixFQUFPLElBQ1QsTUFFRnZmLEdBQVMsRUFFWCxPQUFPL1UsQ0FDVCxDQytJMkJ1MEIsQ0FBVzkwQixLQUFLczBCLGVBQWdCSyxHQUMvQ0ksRUFBYUosSUQ5SU0xc0IsRUM4SStCMnNCLEdEN0k3QyxJQUFNLEVBQ2pCM3NCLEVBQVEsTUFBUSxFQUNkQSxFQUFRLFFBQVUsRUFBSSxHQzRJbEIrc0IsRUFBVyxJQUFJM3lCLFdBQ25CckMsS0FBS3MwQixlQUFlOXhCLE9BQ3BCeEMsS0FBS3MwQixlQUFldEQsV0FBYStELEVBQ2pDSCxHQUVGLE9BQU85QyxHQUFXa0QsR0RwSmpCLElBQXdCL3NCLENDc0o3QixFQUdGLE1BQU13ckIsR0FDSjN6QixZQUFvQncwQixHQUFBLEtBQUFBLGVBQUFBLENBQ3BCLENBRUExVSxNQUFTcVYsR0FFUCxPQUFPakMsR0FBWWh6QixLQUFLczBCLGVBQWdCVyxFQUMxQyxDQUVBbmpCLE9BQVVtakIsR0FFUixPQUFPQSxFQUFvQixDQUM3QixFQUdGLE1BQU12QixHQUNKNXpCLFlBQW9CdzBCLEdBQUEsS0FBQUEsZUFBQUEsQ0FDcEIsQ0FFQTVVLE9BQVV3VixHQUdSLE9BQU8sQ0FDVCxDQUVBdFYsTUFBU3VWLEdBRVAsT0FBT25DLEdBQVloekIsS0FBS3MwQixlQUFnQmEsRUFDMUMsQ0FFQXJqQixPQUFVcWpCLEdBRVIsT0FBT0EsRUFBNkIsQ0FDdEMsRUNwT0YsTUFBTUMsR0FBbUIsU0FDekIsSUFBSUMsSUFBMEIsRUNLdkIsU0FBU0MsR0FBb0JDLEVBQWlCQyxHQUNuREMsR0FBSyxvQkFBcUJGLEVBQVNDLEVBQ3JDLENBRU8sU0FBU0UsR0FBNEJ4TyxFQUFnQnhqQixFQUE2QkMsRUFBMEJ3QyxFQUErQnpCLEdBQ2hKK3dCLEdBQUssb0JBQXFCdk8sRUFBU0EsRUFBTzFsQixXQUFhLEtBQU1rQyxFQUFjQyxFQUFrQndDLEdBQWtCLEVBQUd6QixFQUNwSCxDQUVPLFNBQVNpeEIsR0FBMEJ6d0IsRUFBcUIwd0IsRUFBb0JseEIsR0FDakYrd0IsR0FBSyxjQUFldndCLEVBQWEwd0IsRUFBV2x4QixFQUM5QyxDQUVPLFNBQVNzRSxHQUFjL0UsRUFBWTBDLEdBQ3hDLE1BQU1rdkIsRUFJUixTQUErQmx2QixHQUk3QixNQUFNbXZCLEVBQVksSUFBSS9vQixNQUFNcEcsRUFBS3hFLFFBQ2pDLElBQUssSUFBSThJLEVBQUksRUFBR0EsRUFBSXRFLEVBQUt4RSxPQUFROEksSUFDL0I2cUIsRUFBVTdxQixHQUFLd25CLE9BQU9DLGFBQWEvckIsRUFBS3NFLElBRzFDLE9BRDBCOHFCLEtBQUtELEVBQVVsRCxLQUFLLElBRWhELENBZDRCb0QsQ0FBc0JydkIsR0FDaEQ4dUIsR0FBSyx5QkFBMEJ4eEIsRUFBSTR4QixFQUNyQyxDQWNPLFNBQVNJLEdBQW9CL1AsRUFBYUwsRUFBMkJpRCxHQUUxRSxPQURBMk0sR0FBSyxvQkFBcUJ2UCxFQUFLTCxFQUFPaUQsR0FDL0IxakIsUUFBUUMsU0FDakIsQ0FFTyxTQUFTNndCLEdBQXFCaFAsRUFBZ0JoQixFQUFhTCxFQUEyQmlELEdBRTNGLE9BREEyTSxHQUFLLHFCQUFzQnZPLEVBQVFoQixFQUFLTCxFQUFPaUQsR0FDeEMxakIsUUFBUUMsU0FDakIsQ0FFQSxTQUFTb3dCLEdBQUtVLEtBQXdCdnlCLEdBQ3BDLE1BQU13eUIsRUQzQ0QsU0FBNkJELEVBQXFCdnlCLEdBQ3ZELE9BQU95eEIsR0FDSCxLQUNBLEdBQUdELEtBQW1CcHlCLEtBQUt3QyxVQUFVLENBQUMyd0IsS0FBZ0J2eUIsS0FDNUQsQ0N1QzRCeXlCLENBQW9CRixFQUFhdnlCLEdBQ3ZEd3lCLEdBRURuMUIsT0FBT3ExQixTQUFpQkMsWUFBWUgsRUFFekMsQ0NPQSxTQUFTSSxHQUF1QnZ5QixFQUFZd3lCLEdBQzFDLE1BQU05dkIsRUFBTyt2QixHQUFvQkQsR0FDakNFLEdBQVdqd0IsaUJBQWlCekMsRUFBSTBDLEVBQ2xDLENBS0EsU0FBUyt2QixHQUFvQkUsR0FDM0IsTUFBTUMsRUFBZUMsS0FBS0YsR0FDcEJ6MEIsRUFBUzAwQixFQUFhMTBCLE9BQ3RCNUIsRUFBUyxJQUFJOEIsV0FBV0YsR0FDOUIsSUFBSyxJQUFJOEksRUFBSSxFQUFHQSxFQUFJOUksRUFBUThJLElBQzFCMUssRUFBTzBLLEdBQUs0ckIsRUFBYUUsV0FBVzlyQixHQUV0QyxPQUFPMUssQ0FDVCxDQ25FTyxNQUFNeTJCLEdBQWIsY0FDVSxLQUFBQyxzQkFBc0QsRUFpQ2hFLENBL0JFM3VCLDhCQUE4QjR1QixFQUE0QkMsU0FDbEQveEIsUUFBUWd5QixJQUFJRixFQUFpQjlwQixLQUFJVSxHQVN2Q3hGLGVBQTBDK3VCLEVBQThCbGlCLEdBQ3RFLE1BQU1taUIsRUFSUixTQUFvQm5pQixHQUVsQixNQUFNb2lCLEVBQU9qMkIsU0FBU0MsUUFFdEIsT0FET2cyQixFQUFLM1MsU0FBUyxLQUFPLEdBQUcyUyxJQUFPcGlCLElBQVMsR0FBR29pQixLQUFRcGlCLEdBRTVELENBR3VCcWlCLENBQVdyaUIsR0FDMUJzaUIsUUFBb0JoMkIsT0FBaUM2MUIsR0FDM0QsUUFBb0I3MEIsSUFBaEJnMUIsRUFDRixPQUVGLE1BQVFDLFlBQWFBLEVBQWFDLGFBQWNBLEdBQWlCRixFQUtqRSxPQUpJRSxHQUNGTixFQUFjSixzQkFBc0JuMUIsS0FBSzYxQixHQUd2Q0QsRUFDS0EsS0FBZVAsUUFEeEIsQ0FHRixDQXZCNENTLENBQTJCNTNCLEtBQU04TixLQXdCL0UsQ0FFQXhGLGtDQUFrQ3V2QixTQUMxQjVsQixRQUNBN00sUUFBUWd5QixJQUFJcDNCLEtBQUtpM0Isc0JBQXNCN3BCLEtBQUk4RCxHQUFZQSxFQUFTMm1CLEtBQ3hFLEVDL0JGLElBRVdsQixHQUZQbUIsSUFBVSxFQUlkeHZCLGVBQWV5dkIsS0FDYixHQUFJRCxHQUNGLE1BQU0sSUFBSW4zQixNQUFNLCtCQUVsQm0zQixJQUFVLEVBRVZuQixHQUFhdjRCLEVBQU9rRixpQkFBaUIsQ0FDbkNrRCx3QkFBeUJrdkIsR0FDekJud0Isc0JBQXVCb3dCLEdBQ3ZCM3NCLGNBQWVBLEtBR2pCLE1BQU1xdUIsUUN2QkQvdUIsaUJBQ0wsTUFBTTB2QixRQUErQkMsTUFBTSxpQ0FBa0MsQ0FDM0VDLE9BQVEsTUFDUkMsWUFBYSxVQUNiQyxNQUFPLGFBR0hDLFFBQStCTCxFQUF1QmoxQixPQUN0RHMwQixFQUFnQixJQUFJTCxHQUUxQixhQURNSyxFQUFjaUIsd0JBQXdCRCxFQUFjLElBQ25EaEIsQ0FDVCxDRFk4QmtCLElGaEJ2QixXQUNMLE1BQU1DLEVBQWtCLENBRXRCLGlCQUFvQixDQUFDcnZCLEVBQXFCc3ZCLE1kV3ZDLFNBQXNDQSxFQUF5QnR2QixFQUFxQmdKLEdBQ3pGLE1BQU11bUIsRUFBdUIsVUFDdkJDLEVBQXdCLFdBQzlCLElBQUl0YixHQUFnQixFQUVwQixHQUFJb2IsRUFBZ0I3VCxTQUFTOFQsR0FDM0JELEVBQWtCQSxFQUFnQjNILE1BQU0sR0FBSTRILEVBQXFCdjJCLFFBQ2pFa2IsR0FBZ0IsT0FDWCxHQUFJb2IsRUFBZ0I3VCxTQUFTK1QsR0FDbEMsTUFBTSxJQUFJaDRCLE1BQU0sUUFBUWc0QixpQ0FHMUIsTUFBTXJzQixFUExELFNBQW1Ea0UsR0FDeEQsTUFBTW9vQixFQUFZNW9CLEVBQStCalIsSUFBSXlSLEdBQ3JELEdBQUlvb0IsRUFFRixPQURBNW9CLEVBQStCbkosT0FBTzJKLEdBQy9Cb29CLENBRVgsQ09Ea0JDLENBQTBDSixJQUNyRG4zQixTQUFTZ2EsY0FBY21kLEdBQzVCLElBQUtuc0IsRUFDSCxNQUFNLElBQUkzTCxNQUFNLGlEQUFpRDgzQixRQXpCOUQsU0FBNkN0bUIsRUFBMkJxSSxFQUFnQ3JSLEVBQXFCa1UsR0FDbEksSUFBSXliLEVBQWtCMVQsR0E2QmNqVCxHQTVCL0IybUIsSUFDSEEsRUFBa0IsSUFBSTdjLEdBMkJZOUosR0ExQmxDaVQsR0EwQmtDalQsR0ExQkkybUIsR0FHeENBLEVBQWdCMWIsb0NBQW9DalUsRUFBYXFSLEVBQWdCNkMsRUFDbkYsQ0FzQkVELENBQXlELEVBQUczRixFQUFpQm5MLEdBQXVDLEdBQU9uRCxFQUFha1UsRUFDMUksQ2MvQk0wYixDQUE2Qk4sRUFBaUJ0dkIsRUFBWSxFQUc1RCxZQUFlLENBQUNvc0IsRUFBaUJ5RCxLQUMvQixJQUNFLE1BQU0zRixFQUFZcUQsR0FBb0JzQyxJZGdDdkMsU0FBcUI3bUIsRUFBMkJxTCxHQUNyRCxNQUFNc2IsRUFBa0IxVCxHY2hDTixHZGlDbEIsSUFBSzBULEVBQ0gsTUFBTSxJQUFJbjRCLE1BQU0sMkNBR2xCLE1BQU02eUIsRUFBbUJoVyxFQUFNZ1csaUJBQ3pCeUYsRUFBeUJ6YixFQUFNc1csb0JBQy9Cb0YsRUFBMEIxRixFQUFpQjFoQixPQUFPbW5CLEdBQ2xERSxFQUEwQjNGLEVBQWlCNVQsTUFBTXFaLEdBQ2pEdmIsRUFBa0JGLEVBQU1FLGtCQUN4QjBiLEVBQXdCNUYsRUFBaUIxaEIsT0FBTzRMLEdBQ2hEcUMsRUFBYXZDLEVBQU11QyxXQUV6QixJQUFLLElBQUk5VSxFQUFJLEVBQUdBLEVBQUlrdUIsRUFBeUJsdUIsSUFBSyxDQUNoRCxNQUFNc3BCLEVBQU8vVyxFQUFNeVcsdUJBQXVCaUYsRUFBeUJqdUIsR0FDN0Q5QixFQUFjNFcsRUFBVzVXLFlBQVlvckIsR0FDckM5VyxFQUFRc0MsRUFBV3RDLE1BQU04VyxHQUMvQnVFLEVBQWdCdmIsZ0JBQWdCQyxFQUFPclUsRUFBYXNVLEVBQU8yYixHQUc3RCxNQUFNQyxFQUE0QjdiLEVBQU11Vyx1QkFDbEN1RixFQUE2QjlGLEVBQWlCMWhCLE9BQU91bkIsR0FDckRFLEVBQTZCL0YsRUFBaUI1VCxNQUFNeVosR0FDMUQsSUFBSyxJQUFJcHVCLEVBQUksRUFBR0EsRUFBSXN1QixFQUE0QnR1QixJQUFLLENBQ25ELE1BQU05QixFQUFjcVUsRUFBTTJXLDBCQUEwQm1GLEVBQTRCcnVCLEdBQ2hGNnRCLEVBQWdCL1osaUJBQWlCNVYsR0FHbkMsTUFBTXF3QixFQUErQmhjLEVBQU13VywwQkFDckN5RixFQUFnQ2pHLEVBQWlCMWhCLE9BQU8wbkIsR0FDeERFLEVBQWdDbEcsRUFBaUI1VCxNQUFNNFosR0FDN0QsSUFBSyxJQUFJdnVCLEVBQUksRUFBR0EsRUFBSXl1QixFQUErQnp1QixJQUFLLENBQ3RELE1BQU1zSCxFQUFpQmlMLEVBQU02Vyw2QkFBNkJvRixFQUErQnh1QixHQUN6RjZ0QixFQUFnQjVaLG9CQUFvQjNNLEdBV2xDOFMsS0FDRkEsSUFBa0MsRUFJbENwa0IsT0FBTzA0QixVQUFZMTRCLE9BQU8wNEIsU0FBUyxFQUFHLEdBWjFDLEVjckVRQyxDQUFZLEVBQUcsSUFBSXhHLEdBQXdCQyxJQUMzQ2lDLEdBQW9CQyxFQUFTLE1BQzdCLE1BQU85dUIsR0FDUDZ1QixHQUFvQkMsRUFBVTl1QixFQUFhakYsY0FJL0MseUJBQTRCLENBQUMrRixFQUFpQnN5QixLRkhoRHhFLElBQTBCLEVFS3RCdHRCLFFBQVFuRixNQUFNLEdBQUcyRSxNQUFZc3lCLEtOMUI1QixXQUNMLE1BQU1DLEVBQVV4NEIsU0FBU2dhLGNBQWMsb0JBQ25Dd2UsSUFDRkEsRUFBUTFQLE1BQU1LLFFBQVUsU0FHckJrSCxLQUNIQSxJQUFZLEVBQ1dyd0IsU0FBU3k0QixpQkFBOEIsNEJBQy9DdDVCLFNBQVF1NUIsSUFDckJBLEVBQU9DLFFBQVUsU0FBU3pzQixHQUN4QmEsU0FBUzJyQixTQUNUeHNCLEVBQUVxSCxnQkFDSixDQUFDLElBR29CdlQsU0FBU3k0QixpQkFBOEIsNkJBQy9DdDVCLFNBQVF5NUIsSUFDckJBLEVBQVFELFFBQVUsU0FBU3pzQixHQUN6QixNQUFNc3NCLEVBQVV4NEIsU0FBU2dhLGNBQTJCLG9CQUNoRHdlLElBQ0ZBLEVBQVExUCxNQUFNSyxRQUFVLFFBRTFCamQsRUFBRXFILGdCQUNKLENBQUMsSUFHUCxDTUFNc2xCLEVBQXVCLEVBR3pCLGNBQWlCeEQsR0FBVzF4Qix3QkFBd0JwRSxLQUFLODFCLElBRXpELGdCQUFtQkEsR0FBV2p4QixzQkFBc0I3RSxLQUFLODFCLElBRXpELGtCQUFxQkgsR0FFckIsU0FBWSxjQUVaLGdDQUFtQyxtQ0FFbkMsb0JBQXVCLHdCQUl4QnYxQixPQUFPcTFCLFNBQWlCOEQsZ0JBQWdCN3lCLElBQ3ZDLE1BQU04eUIsRUZ0Q0gsU0FBK0I5eUIsR0FDcEMsR0FBSTh0QixLQUE0Qjl0QixJQUFZQSxFQUFRcEcsV0FBV2kwQixJQUM3RCxPQUFPLEtBR1QsTUFBTWtGLEVBQXFCL3lCLEVBQVFtZCxVQUFVMFEsR0FBaUJqekIsU0FDdkRnMEIsS0FBZ0J2eUIsR0FBUVosS0FBS0MsTUFBTXEzQixHQUMxQyxNQUFPLENBQUVuRSxjQUFhdnlCLE9BQ3hCLENFOEIwQjIyQixDQUFzQmh6QixHQUM1QyxHQUFJOHlCLEVBQWUsQ0FDakIsSUFBSXo3QixPQUFPTSxVQUFVQyxlQUFlQyxLQUFLbzVCLEVBQWlCNkIsRUFBY2xFLGFBR3RFLE1BQU0sSUFBSXgxQixNQUFNLGlDQUFpQzA1QixFQUFjbEUsZ0JBRi9EcUMsRUFBZ0I2QixFQUFjbEUsYUFBYXhELE1BQU0sS0FBTTBILEVBQWN6MkIsU0FNN0UsRUU3QkU0MkIsR0FFQXZLLEdBQU9NLFVBQVVrSywrQkFBaUNBLEdBRWxELGtDQUNBLDZCQUFxRHhFLEdBQXFCQyxJSDdCMUVULEdBQUssYUcrQlUsZ0JBQXlDLDRCQUNsRDRCLEVBQWNxRCw0QkFBNEJ6SyxHQUNsRCxDQUVBLFNBQVN3SyxHQUErQjF6QixFQUFrQkosRUFBV2cwQixFQUFtQkMsSVZmakYsU0FBaUNqRSxFQUFvQzV2QixFQUFrQkosRUFBa0JnMEIsRUFBbUJDLEdBQ2pJLElBQUlDLEVBQW1CN0ssR0FBOEJqeEIsSUFBSWdJLEdBQ3pELElBQUs4ekIsRUFBa0IsQ0FDckIsTUFBTUMsRUFBaUIsSUFBSUMsZUFBZSxDQUN4Q2pkLE1BQU1rZCxHQUNKaEwsR0FBOEJsdkIsSUFBSWlHLEVBQVVpMEIsR0FDNUNILEVBQW1CRyxDQUNyQixJQUdGckUsRUFBVzd2QixtQkFBbUJDLEVBQVUrekIsR0FHdENGLEdBQ0ZDLEVBQWtCajRCLE1BQU1nNEIsR0FDeEI1SyxHQUE4Qm5wQixPQUFPRSxJQUNkLElBQWQ0ekIsR0FDVEUsRUFBa0JJLFFBQ2xCakwsR0FBOEJucEIsT0FBT0UsSUFFckM4ekIsRUFBa0JLLFFBQVF2MEIsRUFBS3hFLFNBQVd3NEIsRUFBWWgwQixFQUFPQSxFQUFLdzBCLFNBQVMsRUFBR1IsR0FFbEYsQ1VORVMsQ0FBd0J6RSxHQUFZNXZCLEVBQVVKLEVBQU1nMEIsRUFBV0MsRUFDakUsQ0FFQTNLLEdBQU9uUyxNQUFRaWEsR0FDZjkyQixPQUFlLE9BQUk3QyxFRXpDUGtELFVBQ1JBLFNBQVMrNUIsZUFDNEMsVUFBckQvNUIsU0FBUys1QixjQUFjNXVCLGFBQWEsY0YwQ3RDc3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy8uLi8uLi8uLi9KU0ludGVyb3AvTWljcm9zb2Z0LkpTSW50ZXJvcC5KUy9zcmMvZGlzdC9NaWNyb3NvZnQuSlNJbnRlcm9wLmpzIiwid2VicGFjazovLy8uL1JlbmRlcmluZy9SZW5kZXJCYXRjaC9SZW5kZXJCYXRjaC50cyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovLy8uL1JlbmRlcmluZy9FdmVudHMvRXZlbnRGaWVsZEluZm8udHMiLCJ3ZWJwYWNrOi8vLy4vUmVuZGVyaW5nL0V2ZW50cy9FdmVudFR5cGVzLnRzIiwid2VicGFjazovLy8uL1JlbmRlcmluZy9KU1Jvb3RDb21wb25lbnRzLnRzIiwid2VicGFjazovLy8uL1JlbmRlcmluZy9XZWJSZW5kZXJlckludGVyb3BNZXRob2RzLnRzIiwid2VicGFjazovLy8uL1JlbmRlcmluZy9FdmVudHMvRXZlbnREZWxlZ2F0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vUmVuZGVyaW5nL0xvZ2ljYWxFbGVtZW50cy50cyIsIndlYnBhY2s6Ly8vLi9SZW5kZXJpbmcvRWxlbWVudFJlZmVyZW5jZUNhcHR1cmUudHMiLCJ3ZWJwYWNrOi8vLy4vUmVuZGVyaW5nL0Jyb3dzZXJSZW5kZXJlci50cyIsIndlYnBhY2s6Ly8vLi9TZXJ2aWNlcy9OYXZpZ2F0aW9uTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9SZW5kZXJpbmcvUmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vLy4vRG9tV3JhcHBlci50cyIsIndlYnBhY2s6Ly8vLi9WaXJ0dWFsaXplLnRzIiwid2VicGFjazovLy8uL1BhZ2VUaXRsZS50cyIsIndlYnBhY2s6Ly8vLi9JbnB1dEZpbGUudHMiLCJ3ZWJwYWNrOi8vLy4vTmF2aWdhdGlvbkxvY2sudHMiLCJ3ZWJwYWNrOi8vLy4vU3RyZWFtaW5nSW50ZXJvcC50cyIsIndlYnBhY2s6Ly8vLi9HbG9iYWxFeHBvcnRzLnRzIiwid2VicGFjazovLy8uL0Jvb3RFcnJvcnMudHMiLCJ3ZWJwYWNrOi8vLy4vVXRmOERlY29kZXIudHMiLCJ3ZWJwYWNrOi8vLy4vQmluYXJ5RGVjb2Rlci50cyIsIndlYnBhY2s6Ly8vLi9SZW5kZXJpbmcvUmVuZGVyQmF0Y2gvT3V0T2ZQcm9jZXNzUmVuZGVyQmF0Y2gudHMiLCJ3ZWJwYWNrOi8vLy4vUGxhdGZvcm0vV2ViVmlldy9XZWJWaWV3SXBjQ29tbW9uLnRzIiwid2VicGFjazovLy8uL1BsYXRmb3JtL1dlYlZpZXcvV2ViVmlld0lwY1NlbmRlci50cyIsIndlYnBhY2s6Ly8vLi9QbGF0Zm9ybS9XZWJWaWV3L1dlYlZpZXdJcGNSZWNlaXZlci50cyIsIndlYnBhY2s6Ly8vLi9KU0luaXRpYWxpemVycy9KU0luaXRpYWxpemVycy50cyIsIndlYnBhY2s6Ly8vLi9Cb290LldlYlZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vSlNJbml0aWFsaXplcnMvSlNJbml0aWFsaXplcnMuV2ViVmlldy50cyIsIndlYnBhY2s6Ly8vLi9Cb290Q29tbW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuLy8gVGhpcyBpcyBhIHNpbmdsZS1maWxlIHNlbGYtY29udGFpbmVkIG1vZHVsZSB0byBhdm9pZCB0aGUgbmVlZCBmb3IgYSBXZWJwYWNrIGJ1aWxkXG5leHBvcnQgdmFyIERvdE5ldDtcbihmdW5jdGlvbiAoRG90TmV0KSB7XG4gICAgY29uc3QganNvblJldml2ZXJzID0gW107XG4gICAgY29uc3QganNPYmplY3RJZEtleSA9IFwiX19qc09iamVjdElkXCI7XG4gICAgY29uc3QgZG90TmV0T2JqZWN0UmVmS2V5ID0gXCJfX2RvdE5ldE9iamVjdFwiO1xuICAgIGNvbnN0IGJ5dGVBcnJheVJlZktleSA9IFwiX19ieXRlW11cIjtcbiAgICBjb25zdCBkb3ROZXRTdHJlYW1SZWZLZXkgPSBcIl9fZG90TmV0U3RyZWFtXCI7XG4gICAgY29uc3QganNTdHJlYW1SZWZlcmVuY2VMZW5ndGhLZXkgPSBcIl9fanNTdHJlYW1SZWZlcmVuY2VMZW5ndGhcIjtcbiAgICAvLyBJZiB1bmRlZmluZWQsIG5vIGRpc3BhdGNoZXIgaGFzIGJlZW4gYXR0YWNoZWQgeWV0LlxuICAgIC8vIElmIG51bGwsIHRoaXMgbWVhbnMgbW9yZSB0aGFuIG9uZSBkaXNwYXRjaGVyIHdhcyBhdHRhY2hlZCwgc28gbm8gZGVmYXVsdCBjYW4gYmUgZGV0ZXJtaW5lZC5cbiAgICAvLyBPdGhlcndpc2UsIHRoZXJlIHdhcyBvbmx5IG9uZSBkaXNwYXRjaGVyIHJlZ2lzdGVyZWQuIFdlIGtlZXAgdHJhY2sgb2YgdGhpcyBpbnN0YW5jZSB0byBrZWVwIGxlZ2FjeSBBUElzIHdvcmtpbmcuXG4gICAgbGV0IGRlZmF1bHRDYWxsRGlzcGF0Y2hlcjtcbiAgICAvLyBQcm92aWRlcyBhY2Nlc3MgdG8gdGhlIFwiY3VycmVudFwiIGNhbGwgZGlzcGF0Y2hlciB3aXRob3V0IGhhdmluZyB0byBmbG93IGl0IHRocm91Z2ggbmVzdGVkIGZ1bmN0aW9uIGNhbGxzLlxuICAgIGxldCBjdXJyZW50Q2FsbERpc3BhdGNoZXI7XG4gICAgY2xhc3MgSlNPYmplY3Qge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBjb25zdHJ1Y3RvcihfanNPYmplY3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2pzT2JqZWN0ID0gX2pzT2JqZWN0O1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkRnVuY3Rpb25zID0gbmV3IE1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmRGdW5jdGlvbihpZGVudGlmaWVyKSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZWRGdW5jdGlvbiA9IHRoaXMuX2NhY2hlZEZ1bmN0aW9ucy5nZXQoaWRlbnRpZmllcik7XG4gICAgICAgICAgICBpZiAoY2FjaGVkRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkRnVuY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5fanNPYmplY3Q7XG4gICAgICAgICAgICBsZXQgbGFzdFNlZ21lbnRWYWx1ZTtcbiAgICAgICAgICAgIGlkZW50aWZpZXIuc3BsaXQoXCIuXCIpLmZvckVhY2goc2VnbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHNlZ21lbnQgaW4gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50VmFsdWUgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdFtzZWdtZW50XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgJyR7aWRlbnRpZmllcn0nICgnJHtzZWdtZW50fScgd2FzIHVuZGVmaW5lZCkuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuYmluZChsYXN0U2VnbWVudFZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZWRGdW5jdGlvbnMuc2V0KGlkZW50aWZpZXIsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIHZhbHVlICcke2lkZW50aWZpZXJ9JyBpcyBub3QgYSBmdW5jdGlvbi5gKTtcbiAgICAgICAgfVxuICAgICAgICBnZXRXcmFwcGVkT2JqZWN0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2pzT2JqZWN0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHdpbmRvd0pTT2JqZWN0SWQgPSAwO1xuICAgIGNvbnN0IGNhY2hlZEpTT2JqZWN0c0J5SWQgPSB7XG4gICAgICAgIFt3aW5kb3dKU09iamVjdElkXTogbmV3IEpTT2JqZWN0KHdpbmRvdylcbiAgICB9O1xuICAgIGNhY2hlZEpTT2JqZWN0c0J5SWRbd2luZG93SlNPYmplY3RJZF0uX2NhY2hlZEZ1bmN0aW9ucy5zZXQoXCJpbXBvcnRcIiwgKHVybCkgPT4ge1xuICAgICAgICAvLyBJbiBtb3N0IGNhc2VzIGRldmVsb3BlcnMgd2lsbCB3YW50IHRvIHJlc29sdmUgZHluYW1pYyBpbXBvcnRzIHJlbGF0aXZlIHRvIHRoZSBiYXNlIEhSRUYuXG4gICAgICAgIC8vIEhvd2V2ZXIgc2luY2Ugd2UncmUgdGhlIG9uZSBjYWxsaW5nIHRoZSBpbXBvcnQga2V5d29yZCwgdGhleSB3b3VsZCBiZSByZXNvbHZlZCByZWxhdGl2ZSB0b1xuICAgICAgICAvLyB0aGlzIGZyYW1ld29yayBidW5kbGUgVVJMLiBGaXggdGhpcyBieSBwcm92aWRpbmcgYW4gYWJzb2x1dGUgVVJMLlxuICAgICAgICBpZiAodHlwZW9mIHVybCA9PT0gXCJzdHJpbmdcIiAmJiB1cmwuc3RhcnRzV2l0aChcIi4vXCIpKSB7XG4gICAgICAgICAgICB1cmwgPSBuZXcgVVJMKHVybC5zdWJzdHIoMiksIGRvY3VtZW50LmJhc2VVUkkpLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltcG9ydCgvKiB3ZWJwYWNrSWdub3JlOiB0cnVlICovIHVybCk7XG4gICAgfSk7XG4gICAgbGV0IG5leHRKc09iamVjdElkID0gMTsgLy8gU3RhcnQgYXQgMSBiZWNhdXNlIHplcm8gaXMgcmVzZXJ2ZWQgZm9yIFwid2luZG93XCJcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgLk5FVCBjYWxsIGRpc3BhdGNoZXIgdG8gdXNlIGZvciBoYW5kbGluZyBpbnZvY2F0aW9ucyBiZXR3ZWVuIEphdmFTY3JpcHQgYW5kIGEgLk5FVCBydW50aW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRvdE5ldENhbGxEaXNwYXRjaGVyIEFuIG9iamVjdCB0aGF0IGNhbiBkaXNwYXRjaCBjYWxscyBmcm9tIEphdmFTY3JpcHQgdG8gYSAuTkVUIHJ1bnRpbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXR0YWNoRGlzcGF0Y2hlcihkb3ROZXRDYWxsRGlzcGF0Y2hlcikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQ2FsbERpc3BhdGNoZXIoZG90TmV0Q2FsbERpc3BhdGNoZXIpO1xuICAgICAgICBpZiAoZGVmYXVsdENhbGxEaXNwYXRjaGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgd2FzIHRoZSBmaXJzdCBkaXNwYXRjaGVyIHJlZ2lzdGVyZWQsIHNvIGl0IGJlY29tZXMgdGhlIGRlZmF1bHQuIFRoaXMgZXhpc3RzIHB1cmVseSBmb3JcbiAgICAgICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICAgICAgICAgICAgZGVmYXVsdENhbGxEaXNwYXRjaGVyID0gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlZmF1bHRDYWxsRGlzcGF0Y2hlcikge1xuICAgICAgICAgICAgLy8gVGhlcmUgaXMgYWxyZWFkeSBhIGRlZmF1bHQgZGlzcGF0Y2hlci4gTm93IHRoYXQgdGhlcmUgYXJlIG11bHRpcGxlIHRvIGNob29zZSBmcm9tLCB0aGVyZSBjYW5cbiAgICAgICAgICAgIC8vIGJlIG5vIGFjY2VwdGFibGUgZGVmYXVsdCwgc28gd2UgbnVsbGlmeSB0aGUgZGVmYXVsdCBkaXNwYXRjaGVyLlxuICAgICAgICAgICAgZGVmYXVsdENhbGxEaXNwYXRjaGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBEb3ROZXQuYXR0YWNoRGlzcGF0Y2hlciA9IGF0dGFjaERpc3BhdGNoZXI7XG4gICAgLyoqXG4gICAgICogQWRkcyBhIEpTT04gcmV2aXZlciBjYWxsYmFjayB0aGF0IHdpbGwgYmUgdXNlZCB3aGVuIHBhcnNpbmcgYXJndW1lbnRzIHJlY2VpdmVkIGZyb20gLk5FVC5cbiAgICAgKiBAcGFyYW0gcmV2aXZlciBUaGUgcmV2aXZlciB0byBhZGQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXR0YWNoUmV2aXZlcihyZXZpdmVyKSB7XG4gICAgICAgIGpzb25SZXZpdmVycy5wdXNoKHJldml2ZXIpO1xuICAgIH1cbiAgICBEb3ROZXQuYXR0YWNoUmV2aXZlciA9IGF0dGFjaFJldml2ZXI7XG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgc3BlY2lmaWVkIC5ORVQgcHVibGljIG1ldGhvZCBzeW5jaHJvbm91c2x5LiBOb3QgYWxsIGhvc3Rpbmcgc2NlbmFyaW9zIHN1cHBvcnRcbiAgICAgKiBzeW5jaHJvbm91cyBpbnZvY2F0aW9uLCBzbyBpZiBwb3NzaWJsZSB1c2UgaW52b2tlTWV0aG9kQXN5bmMgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSBEb3ROZXRPYmplY3QgdG8gaW52b2tlIGluc3RhbmNlIG1ldGhvZHMgaW5zdGVhZC5cbiAgICAgKiBAcGFyYW0gYXNzZW1ibHlOYW1lIFRoZSBzaG9ydCBuYW1lICh3aXRob3V0IGtleS92ZXJzaW9uIG9yIC5kbGwgZXh0ZW5zaW9uKSBvZiB0aGUgLk5FVCBhc3NlbWJseSBjb250YWluaW5nIHRoZSBtZXRob2QuXG4gICAgICogQHBhcmFtIG1ldGhvZElkZW50aWZpZXIgVGhlIGlkZW50aWZpZXIgb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuIFRoZSBtZXRob2QgbXVzdCBoYXZlIGEgW0pTSW52b2thYmxlXSBhdHRyaWJ1dGUgc3BlY2lmeWluZyB0aGlzIGlkZW50aWZpZXIuXG4gICAgICogQHBhcmFtIGFyZ3MgQXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIG1ldGhvZCwgZWFjaCBvZiB3aGljaCBtdXN0IGJlIEpTT04tc2VyaWFsaXphYmxlLlxuICAgICAqIEByZXR1cm5zIFRoZSByZXN1bHQgb2YgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnZva2VNZXRob2QoYXNzZW1ibHlOYW1lLCBtZXRob2RJZGVudGlmaWVyLCAuLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGRpc3BhdGNoZXIgPSBnZXREZWZhdWx0Q2FsbERpc3BhdGNoZXIoKTtcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoZXIuaW52b2tlRG90TmV0U3RhdGljTWV0aG9kKGFzc2VtYmx5TmFtZSwgbWV0aG9kSWRlbnRpZmllciwgLi4uYXJncyk7XG4gICAgfVxuICAgIERvdE5ldC5pbnZva2VNZXRob2QgPSBpbnZva2VNZXRob2Q7XG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgc3BlY2lmaWVkIC5ORVQgcHVibGljIG1ldGhvZCBhc3luY2hyb25vdXNseS5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSBEb3ROZXRPYmplY3QgdG8gaW52b2tlIGluc3RhbmNlIG1ldGhvZHMgaW5zdGVhZC5cbiAgICAgKiBAcGFyYW0gYXNzZW1ibHlOYW1lIFRoZSBzaG9ydCBuYW1lICh3aXRob3V0IGtleS92ZXJzaW9uIG9yIC5kbGwgZXh0ZW5zaW9uKSBvZiB0aGUgLk5FVCBhc3NlbWJseSBjb250YWluaW5nIHRoZSBtZXRob2QuXG4gICAgICogQHBhcmFtIG1ldGhvZElkZW50aWZpZXIgVGhlIGlkZW50aWZpZXIgb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuIFRoZSBtZXRob2QgbXVzdCBoYXZlIGEgW0pTSW52b2thYmxlXSBhdHRyaWJ1dGUgc3BlY2lmeWluZyB0aGlzIGlkZW50aWZpZXIuXG4gICAgICogQHBhcmFtIGFyZ3MgQXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIG1ldGhvZCwgZWFjaCBvZiB3aGljaCBtdXN0IGJlIEpTT04tc2VyaWFsaXphYmxlLlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXByZXNlbnRpbmcgdGhlIHJlc3VsdCBvZiB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGludm9rZU1ldGhvZEFzeW5jKGFzc2VtYmx5TmFtZSwgbWV0aG9kSWRlbnRpZmllciwgLi4uYXJncykge1xuICAgICAgICBjb25zdCBkaXNwYXRjaGVyID0gZ2V0RGVmYXVsdENhbGxEaXNwYXRjaGVyKCk7XG4gICAgICAgIHJldHVybiBkaXNwYXRjaGVyLmludm9rZURvdE5ldFN0YXRpY01ldGhvZEFzeW5jKGFzc2VtYmx5TmFtZSwgbWV0aG9kSWRlbnRpZmllciwgLi4uYXJncyk7XG4gICAgfVxuICAgIERvdE5ldC5pbnZva2VNZXRob2RBc3luYyA9IGludm9rZU1ldGhvZEFzeW5jO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBKYXZhU2NyaXB0IG9iamVjdCByZWZlcmVuY2UgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIC5ORVQgdmlhIGludGVyb3AgY2FsbHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ganNPYmplY3QgVGhlIEphdmFTY3JpcHQgT2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoZSBKYXZhU2NyaXB0IG9iamVjdCByZWZlcmVuY2UuXG4gICAgICogQHJldHVybnMgVGhlIEphdmFTY3JpcHQgb2JqZWN0IHJlZmVyZW5jZSAodGhpcyB3aWxsIGJlIHRoZSBzYW1lIGluc3RhbmNlIGFzIHRoZSBnaXZlbiBvYmplY3QpLlxuICAgICAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIG5vdCBhbiBPYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSlNPYmplY3RSZWZlcmVuY2UoanNPYmplY3QpIHtcbiAgICAgICAgaWYgKGpzT2JqZWN0ICYmIHR5cGVvZiBqc09iamVjdCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgY2FjaGVkSlNPYmplY3RzQnlJZFtuZXh0SnNPYmplY3RJZF0gPSBuZXcgSlNPYmplY3QoanNPYmplY3QpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIFtqc09iamVjdElkS2V5XTogbmV4dEpzT2JqZWN0SWRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBuZXh0SnNPYmplY3RJZCsrO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjcmVhdGUgYSBKU09iamVjdFJlZmVyZW5jZSBmcm9tIHRoZSB2YWx1ZSAnJHtqc09iamVjdH0nLmApO1xuICAgIH1cbiAgICBEb3ROZXQuY3JlYXRlSlNPYmplY3RSZWZlcmVuY2UgPSBjcmVhdGVKU09iamVjdFJlZmVyZW5jZTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgSmF2YVNjcmlwdCBkYXRhIHJlZmVyZW5jZSB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gLk5FVCB2aWEgaW50ZXJvcCBjYWxscy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdHJlYW1SZWZlcmVuY2UgVGhlIEFycmF5QnVmZmVyVmlldyBvciBCbG9iIHVzZWQgdG8gY3JlYXRlIHRoZSBKYXZhU2NyaXB0IHN0cmVhbSByZWZlcmVuY2UuXG4gICAgICogQHJldHVybnMgVGhlIEphdmFTY3JpcHQgZGF0YSByZWZlcmVuY2UgKHRoaXMgd2lsbCBiZSB0aGUgc2FtZSBpbnN0YW5jZSBhcyB0aGUgZ2l2ZW4gb2JqZWN0KS5cbiAgICAgKiBAdGhyb3dzIEVycm9yIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBub3QgYW4gT2JqZWN0IG9yIGRvZXNuJ3QgaGF2ZSBhIHZhbGlkIGJ5dGVMZW5ndGguXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSlNTdHJlYW1SZWZlcmVuY2Uoc3RyZWFtUmVmZXJlbmNlKSB7XG4gICAgICAgIGxldCBsZW5ndGggPSAtMTtcbiAgICAgICAgLy8gSWYgd2UncmUgZ2l2ZW4gYSByYXcgQXJyYXkgQnVmZmVyLCB3ZSBpbnRlcnByZXQgaXQgYXMgYSBgVWludDhBcnJheWAgYXNcbiAgICAgICAgLy8gQXJyYXlCdWZmZXJzJyBhcmVuJ3QgZGlyZWN0bHkgcmVhZGFibGUuXG4gICAgICAgIGlmIChzdHJlYW1SZWZlcmVuY2UgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgICAgc3RyZWFtUmVmZXJlbmNlID0gbmV3IFVpbnQ4QXJyYXkoc3RyZWFtUmVmZXJlbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyZWFtUmVmZXJlbmNlIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICAgICAgbGVuZ3RoID0gc3RyZWFtUmVmZXJlbmNlLnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RyZWFtUmVmZXJlbmNlLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICBpZiAoc3RyZWFtUmVmZXJlbmNlLmJ5dGVMZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNyZWF0ZSBhIEpTU3RyZWFtUmVmZXJlbmNlIGZyb20gdGhlIHZhbHVlICcke3N0cmVhbVJlZmVyZW5jZX0nIGFzIGl0IGRvZXNuJ3QgaGF2ZSBhIGJ5dGVMZW5ndGguYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZW5ndGggPSBzdHJlYW1SZWZlcmVuY2UuYnl0ZUxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN1cHBsaWVkIHZhbHVlIGlzIG5vdCBhIHR5cGVkIGFycmF5IG9yIGJsb2IuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgIFtqc1N0cmVhbVJlZmVyZW5jZUxlbmd0aEtleV06IGxlbmd0aFxuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QganNPYmplY3RSZWZlcmVuY2UgPSBjcmVhdGVKU09iamVjdFJlZmVyZW5jZShzdHJlYW1SZWZlcmVuY2UpO1xuICAgICAgICAgICAgcmVzdWx0W2pzT2JqZWN0SWRLZXldID0ganNPYmplY3RSZWZlcmVuY2VbanNPYmplY3RJZEtleV07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjcmVhdGUgYSBKU1N0cmVhbVJlZmVyZW5jZSBmcm9tIHRoZSB2YWx1ZSAnJHtzdHJlYW1SZWZlcmVuY2V9Jy5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBEb3ROZXQuY3JlYXRlSlNTdHJlYW1SZWZlcmVuY2UgPSBjcmVhdGVKU1N0cmVhbVJlZmVyZW5jZTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyB0aGUgZ2l2ZW4gSmF2YVNjcmlwdCBvYmplY3QgcmVmZXJlbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGpzT2JqZWN0UmVmZXJlbmNlIFRoZSBKYXZhU2NyaXB0IE9iamVjdCByZWZlcmVuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGlzcG9zZUpTT2JqZWN0UmVmZXJlbmNlKGpzT2JqZWN0UmVmZXJlbmNlKSB7XG4gICAgICAgIGNvbnN0IGlkID0ganNPYmplY3RSZWZlcmVuY2UgJiYganNPYmplY3RSZWZlcmVuY2VbanNPYmplY3RJZEtleV07XG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGRpc3Bvc2VKU09iamVjdFJlZmVyZW5jZUJ5SWQoaWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIERvdE5ldC5kaXNwb3NlSlNPYmplY3RSZWZlcmVuY2UgPSBkaXNwb3NlSlNPYmplY3RSZWZlcmVuY2U7XG4gICAgZnVuY3Rpb24gcGFyc2VKc29uV2l0aFJldml2ZXJzKGNhbGxEaXNwYXRjaGVyLCBqc29uKSB7XG4gICAgICAgIGN1cnJlbnRDYWxsRGlzcGF0Y2hlciA9IGNhbGxEaXNwYXRjaGVyO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBqc29uID8gSlNPTi5wYXJzZShqc29uLCAoa2V5LCBpbml0aWFsVmFsdWUpID0+IHtcbiAgICAgICAgICAgIC8vIEludm9rZSBlYWNoIHJldml2ZXIgaW4gb3JkZXIsIHBhc3NpbmcgdGhlIG91dHB1dCBmcm9tIHRoZSBwcmV2aW91cyByZXZpdmVyLFxuICAgICAgICAgICAgLy8gc28gdGhhdCBlYWNoIG9uZSBnZXRzIGEgY2hhbmNlIHRvIHRyYW5zZm9ybSB0aGUgdmFsdWVcbiAgICAgICAgICAgIHJldHVybiBqc29uUmV2aXZlcnMucmVkdWNlKChsYXRlc3RWYWx1ZSwgcmV2aXZlcikgPT4gcmV2aXZlcihrZXksIGxhdGVzdFZhbHVlKSwgaW5pdGlhbFZhbHVlKTtcbiAgICAgICAgfSkgOiBudWxsO1xuICAgICAgICBjdXJyZW50Q2FsbERpc3BhdGNoZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldERlZmF1bHRDYWxsRGlzcGF0Y2hlcigpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRDYWxsRGlzcGF0Y2hlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjYWxsIGRpc3BhdGNoZXIgaGFzIGJlZW4gc2V0LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZWZhdWx0Q2FsbERpc3BhdGNoZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZXJlIGFyZSBtdWx0aXBsZSAuTkVUIHJ1bnRpbWVzIHByZXNlbnQsIHNvIGEgZGVmYXVsdCBkaXNwYXRjaGVyIGNvdWxkIG5vdCBiZSByZXNvbHZlZC4gVXNlIERvdE5ldE9iamVjdCB0byBpbnZva2UgLk5FVCBpbnN0YW5jZSBtZXRob2RzLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0Q2FsbERpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyB0aGUgdHlwZSBvZiByZXN1bHQgZXhwZWN0ZWQgZnJvbSBhIEpTIGludGVyb3AgY2FsbC5cbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG4gICAgbGV0IEpTQ2FsbFJlc3VsdFR5cGU7XG4gICAgKGZ1bmN0aW9uIChKU0NhbGxSZXN1bHRUeXBlKSB7XG4gICAgICAgIEpTQ2FsbFJlc3VsdFR5cGVbSlNDYWxsUmVzdWx0VHlwZVtcIkRlZmF1bHRcIl0gPSAwXSA9IFwiRGVmYXVsdFwiO1xuICAgICAgICBKU0NhbGxSZXN1bHRUeXBlW0pTQ2FsbFJlc3VsdFR5cGVbXCJKU09iamVjdFJlZmVyZW5jZVwiXSA9IDFdID0gXCJKU09iamVjdFJlZmVyZW5jZVwiO1xuICAgICAgICBKU0NhbGxSZXN1bHRUeXBlW0pTQ2FsbFJlc3VsdFR5cGVbXCJKU1N0cmVhbVJlZmVyZW5jZVwiXSA9IDJdID0gXCJKU1N0cmVhbVJlZmVyZW5jZVwiO1xuICAgICAgICBKU0NhbGxSZXN1bHRUeXBlW0pTQ2FsbFJlc3VsdFR5cGVbXCJKU1ZvaWRSZXN1bHRcIl0gPSAzXSA9IFwiSlNWb2lkUmVzdWx0XCI7XG4gICAgfSkoSlNDYWxsUmVzdWx0VHlwZSA9IERvdE5ldC5KU0NhbGxSZXN1bHRUeXBlIHx8IChEb3ROZXQuSlNDYWxsUmVzdWx0VHlwZSA9IHt9KSk7XG4gICAgY2xhc3MgQ2FsbERpc3BhdGNoZXIge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHktZnVuY3Rpb25cbiAgICAgICAgY29uc3RydWN0b3IoX2RvdE5ldENhbGxEaXNwYXRjaGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9kb3ROZXRDYWxsRGlzcGF0Y2hlciA9IF9kb3ROZXRDYWxsRGlzcGF0Y2hlcjtcbiAgICAgICAgICAgIHRoaXMuX2J5dGVBcnJheXNUb0JlUmV2aXZlZCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdEb3ROZXRUb0pTU3RyZWFtcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdBc3luY0NhbGxzID0ge307XG4gICAgICAgICAgICB0aGlzLl9uZXh0QXN5bmNDYWxsSWQgPSAxOyAvLyBTdGFydCBhdCAxIGJlY2F1c2UgemVybyBzaWduYWxzIFwibm8gcmVzcG9uc2UgbmVlZGVkXCJcbiAgICAgICAgfVxuICAgICAgICBnZXREb3ROZXRDYWxsRGlzcGF0Y2hlcigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kb3ROZXRDYWxsRGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgICBpbnZva2VKU0Zyb21Eb3ROZXQoaWRlbnRpZmllciwgYXJnc0pzb24sIHJlc3VsdFR5cGUsIHRhcmdldEluc3RhbmNlSWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBwYXJzZUpzb25XaXRoUmV2aXZlcnModGhpcywgYXJnc0pzb24pO1xuICAgICAgICAgICAgY29uc3QganNGdW5jdGlvbiA9IGZpbmRKU0Z1bmN0aW9uKGlkZW50aWZpZXIsIHRhcmdldEluc3RhbmNlSWQpO1xuICAgICAgICAgICAgY29uc3QgcmV0dXJuVmFsdWUgPSBqc0Z1bmN0aW9uKC4uLihhcmdzIHx8IFtdKSk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGVKU0NhbGxSZXN1bHQocmV0dXJuVmFsdWUsIHJlc3VsdFR5cGUpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgIDogc3RyaW5naWZ5QXJncyh0aGlzLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGJlZ2luSW52b2tlSlNGcm9tRG90TmV0KGFzeW5jSGFuZGxlLCBpZGVudGlmaWVyLCBhcmdzSnNvbiwgcmVzdWx0VHlwZSwgdGFyZ2V0SW5zdGFuY2VJZCkge1xuICAgICAgICAgICAgLy8gQ29lcmNlIHN5bmNocm9ub3VzIGZ1bmN0aW9ucyBpbnRvIGFzeW5jIG9uZXMsIHBsdXMgdHJlYXRcbiAgICAgICAgICAgIC8vIHN5bmNocm9ub3VzIGV4Y2VwdGlvbnMgdGhlIHNhbWUgYXMgYXN5bmMgb25lc1xuICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBwYXJzZUpzb25XaXRoUmV2aXZlcnModGhpcywgYXJnc0pzb24pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGpzRnVuY3Rpb24gPSBmaW5kSlNGdW5jdGlvbihpZGVudGlmaWVyLCB0YXJnZXRJbnN0YW5jZUlkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzeW5jaHJvbm91c1Jlc3VsdE9yUHJvbWlzZSA9IGpzRnVuY3Rpb24oLi4uKGFyZ3MgfHwgW10pKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHN5bmNocm9ub3VzUmVzdWx0T3JQcm9taXNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gV2Ugb25seSBsaXN0ZW4gZm9yIGEgcmVzdWx0IGlmIHRoZSBjYWxsZXIgd2FudHMgdG8gYmUgbm90aWZpZWQgYWJvdXQgaXRcbiAgICAgICAgICAgIGlmIChhc3luY0hhbmRsZSkge1xuICAgICAgICAgICAgICAgIC8vIE9uIGNvbXBsZXRpb24sIGRpc3BhdGNoIHJlc3VsdCBiYWNrIHRvIC5ORVRcbiAgICAgICAgICAgICAgICAvLyBOb3QgdXNpbmcgXCJhd2FpdFwiIGJlY2F1c2UgaXQgY29kZWdlbnMgYSBsb3Qgb2YgYm9pbGVycGxhdGVcbiAgICAgICAgICAgICAgICBwcm9taXNlLlxuICAgICAgICAgICAgICAgICAgICB0aGVuKHJlc3VsdCA9PiBzdHJpbmdpZnlBcmdzKHRoaXMsIFtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNIYW5kbGUsXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUpTQ2FsbFJlc3VsdChyZXN1bHQsIHJlc3VsdFR5cGUpXG4gICAgICAgICAgICAgICAgXSkpLlxuICAgICAgICAgICAgICAgICAgICB0aGVuKHJlc3VsdCA9PiB0aGlzLl9kb3ROZXRDYWxsRGlzcGF0Y2hlci5lbmRJbnZva2VKU0Zyb21Eb3ROZXQoYXN5bmNIYW5kbGUsIHRydWUsIHJlc3VsdCksIGVycm9yID0+IHRoaXMuX2RvdE5ldENhbGxEaXNwYXRjaGVyLmVuZEludm9rZUpTRnJvbURvdE5ldChhc3luY0hhbmRsZSwgZmFsc2UsIEpTT04uc3RyaW5naWZ5KFtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNIYW5kbGUsXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRFcnJvcihlcnJvcilcbiAgICAgICAgICAgICAgICBdKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVuZEludm9rZURvdE5ldEZyb21KUyhhc3luY0NhbGxJZCwgc3VjY2VzcywgcmVzdWx0SnNvbk9yRXhjZXB0aW9uTWVzc2FnZSkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0T3JFcnJvciA9IHN1Y2Nlc3NcbiAgICAgICAgICAgICAgICA/IHBhcnNlSnNvbldpdGhSZXZpdmVycyh0aGlzLCByZXN1bHRKc29uT3JFeGNlcHRpb25NZXNzYWdlKVxuICAgICAgICAgICAgICAgIDogbmV3IEVycm9yKHJlc3VsdEpzb25PckV4Y2VwdGlvbk1lc3NhZ2UpO1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZVBlbmRpbmdDYWxsKHBhcnNlSW50KGFzeW5jQ2FsbElkLCAxMCksIHN1Y2Nlc3MsIHJlc3VsdE9yRXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGludm9rZURvdE5ldFN0YXRpY01ldGhvZChhc3NlbWJseU5hbWUsIG1ldGhvZElkZW50aWZpZXIsIC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmludm9rZURvdE5ldE1ldGhvZChhc3NlbWJseU5hbWUsIG1ldGhvZElkZW50aWZpZXIsIG51bGwsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGludm9rZURvdE5ldFN0YXRpY01ldGhvZEFzeW5jKGFzc2VtYmx5TmFtZSwgbWV0aG9kSWRlbnRpZmllciwgLi4uYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW52b2tlRG90TmV0TWV0aG9kQXN5bmMoYXNzZW1ibHlOYW1lLCBtZXRob2RJZGVudGlmaWVyLCBudWxsLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBpbnZva2VEb3ROZXRNZXRob2QoYXNzZW1ibHlOYW1lLCBtZXRob2RJZGVudGlmaWVyLCBkb3ROZXRPYmplY3RJZCwgYXJncykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RvdE5ldENhbGxEaXNwYXRjaGVyLmludm9rZURvdE5ldEZyb21KUykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3NKc29uID0gc3RyaW5naWZ5QXJncyh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRKc29uID0gdGhpcy5fZG90TmV0Q2FsbERpc3BhdGNoZXIuaW52b2tlRG90TmV0RnJvbUpTKGFzc2VtYmx5TmFtZSwgbWV0aG9kSWRlbnRpZmllciwgZG90TmV0T2JqZWN0SWQsIGFyZ3NKc29uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0SnNvbiA/IHBhcnNlSnNvbldpdGhSZXZpdmVycyh0aGlzLCByZXN1bHRKc29uKSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY3VycmVudCBkaXNwYXRjaGVyIGRvZXMgbm90IHN1cHBvcnQgc3luY2hyb25vdXMgY2FsbHMgZnJvbSBKUyB0byAuTkVULiBVc2UgaW52b2tlRG90TmV0TWV0aG9kQXN5bmMgaW5zdGVhZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaW52b2tlRG90TmV0TWV0aG9kQXN5bmMoYXNzZW1ibHlOYW1lLCBtZXRob2RJZGVudGlmaWVyLCBkb3ROZXRPYmplY3RJZCwgYXJncykge1xuICAgICAgICAgICAgaWYgKGFzc2VtYmx5TmFtZSAmJiBkb3ROZXRPYmplY3RJZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRm9yIGluc3RhbmNlIG1ldGhvZCBjYWxscywgYXNzZW1ibHlOYW1lIHNob3VsZCBiZSBudWxsLiBSZWNlaXZlZCAnJHthc3NlbWJseU5hbWV9Jy5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFzeW5jQ2FsbElkID0gdGhpcy5fbmV4dEFzeW5jQ2FsbElkKys7XG4gICAgICAgICAgICBjb25zdCByZXN1bHRQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdBc3luY0NhbGxzW2FzeW5jQ2FsbElkXSA9IHsgcmVzb2x2ZSwgcmVqZWN0IH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJnc0pzb24gPSBzdHJpbmdpZnlBcmdzKHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RvdE5ldENhbGxEaXNwYXRjaGVyLmJlZ2luSW52b2tlRG90TmV0RnJvbUpTKGFzeW5jQ2FsbElkLCBhc3NlbWJseU5hbWUsIG1ldGhvZElkZW50aWZpZXIsIGRvdE5ldE9iamVjdElkLCBhcmdzSnNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAvLyBTeW5jaHJvbm91cyBmYWlsdXJlXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZVBlbmRpbmdDYWxsKGFzeW5jQ2FsbElkLCBmYWxzZSwgZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmVjZWl2ZUJ5dGVBcnJheShpZCwgZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5fYnl0ZUFycmF5c1RvQmVSZXZpdmVkLnNldChpZCwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzc0J5dGVBcnJheShpZCkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fYnl0ZUFycmF5c1RvQmVSZXZpdmVkLmdldChpZCk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYnl0ZUFycmF5c1RvQmVSZXZpdmVkLmRlbGV0ZShpZCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHN1cHBseURvdE5ldFN0cmVhbShzdHJlYW1JZCwgc3RyZWFtKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0RvdE5ldFRvSlNTdHJlYW1zLmhhcyhzdHJlYW1JZCkpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgcmVjZWl2ZXIgaXMgYWxyZWFkeSB3YWl0aW5nLCBzbyB3ZSBjYW4gcmVzb2x2ZSB0aGUgcHJvbWlzZSBub3cgYW5kIHN0b3AgdHJhY2tpbmcgdGhpc1xuICAgICAgICAgICAgICAgIGNvbnN0IHBlbmRpbmdTdHJlYW0gPSB0aGlzLl9wZW5kaW5nRG90TmV0VG9KU1N0cmVhbXMuZ2V0KHN0cmVhbUlkKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nRG90TmV0VG9KU1N0cmVhbXMuZGVsZXRlKHN0cmVhbUlkKTtcbiAgICAgICAgICAgICAgICBwZW5kaW5nU3RyZWFtLnJlc29sdmUoc3RyZWFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRoZSByZWNlaXZlciBoYXNuJ3Qgc3RhcnRlZCB3YWl0aW5nIHlldCwgc28gdHJhY2sgYSBwcmUtY29tcGxldGVkIGVudHJ5IGl0IGNhbiBhdHRhY2ggdG8gbGF0ZXJcbiAgICAgICAgICAgICAgICBjb25zdCBwZW5kaW5nU3RyZWFtID0gbmV3IFBlbmRpbmdTdHJlYW0oKTtcbiAgICAgICAgICAgICAgICBwZW5kaW5nU3RyZWFtLnJlc29sdmUoc3RyZWFtKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nRG90TmV0VG9KU1N0cmVhbXMuc2V0KHN0cmVhbUlkLCBwZW5kaW5nU3RyZWFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnZXREb3ROZXRTdHJlYW1Qcm9taXNlKHN0cmVhbUlkKSB7XG4gICAgICAgICAgICAvLyBXZSBtaWdodCBhbHJlYWR5IGhhdmUgc3RhcnRlZCByZWNlaXZpbmcgdGhlIHN0cmVhbSwgb3IgbWF5YmUgaXQgd2lsbCBjb21lIGxhdGVyLlxuICAgICAgICAgICAgLy8gV2UgaGF2ZSB0byBoYW5kbGUgYm90aCBwb3NzaWJsZSBvcmRlcmluZ3MsIGJ1dCB3ZSBjYW4gY291bnQgb24gaXQgY29taW5nIGV2ZW50dWFsbHkgYmVjYXVzZVxuICAgICAgICAgICAgLy8gaXQncyBub3Qgc29tZXRoaW5nIHRoZSBkZXZlbG9wZXIgZ2V0cyB0byBjb250cm9sLCBhbmQgaXQgd291bGQgYmUgYW4gZXJyb3IgaWYgaXQgZG9lc24ndC5cbiAgICAgICAgICAgIGxldCByZXN1bHQ7XG4gICAgICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0RvdE5ldFRvSlNTdHJlYW1zLmhhcyhzdHJlYW1JZCkpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSd2ZSBhbHJlYWR5IHN0YXJ0ZWQgcmVjZWl2aW5nIHRoZSBzdHJlYW0sIHNvIG5vIGxvbmdlciBuZWVkIHRvIHRyYWNrIGl0IGFzIHBlbmRpbmdcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9wZW5kaW5nRG90TmV0VG9KU1N0cmVhbXMuZ2V0KHN0cmVhbUlkKS5zdHJlYW1Qcm9taXNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdEb3ROZXRUb0pTU3RyZWFtcy5kZWxldGUoc3RyZWFtSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZW4ndCBzdGFydGVkIHJlY2VpdmluZyBpdCB5ZXQsIHNvIGFkZCBhbiBlbnRyeSB0byB0cmFjayBpdCBhcyBwZW5kaW5nXG4gICAgICAgICAgICAgICAgY29uc3QgcGVuZGluZ1N0cmVhbSA9IG5ldyBQZW5kaW5nU3RyZWFtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ0RvdE5ldFRvSlNTdHJlYW1zLnNldChzdHJlYW1JZCwgcGVuZGluZ1N0cmVhbSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcGVuZGluZ1N0cmVhbS5zdHJlYW1Qcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBjb21wbGV0ZVBlbmRpbmdDYWxsKGFzeW5jQ2FsbElkLCBzdWNjZXNzLCByZXN1bHRPckVycm9yKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3BlbmRpbmdBc3luY0NhbGxzLmhhc093blByb3BlcnR5KGFzeW5jQ2FsbElkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gcGVuZGluZyBhc3luYyBjYWxsIHdpdGggSUQgJHthc3luY0NhbGxJZH0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhc3luY0NhbGwgPSB0aGlzLl9wZW5kaW5nQXN5bmNDYWxsc1thc3luY0NhbGxJZF07XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fcGVuZGluZ0FzeW5jQ2FsbHNbYXN5bmNDYWxsSWRdO1xuICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBhc3luY0NhbGwucmVzb2x2ZShyZXN1bHRPckVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFzeW5jQ2FsbC5yZWplY3QocmVzdWx0T3JFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZm9ybWF0RXJyb3IoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtlcnJvci5tZXNzYWdlfVxcbiR7ZXJyb3Iuc3RhY2t9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyb3IgPyBlcnJvci50b1N0cmluZygpIDogXCJudWxsXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRKU0Z1bmN0aW9uKGlkZW50aWZpZXIsIHRhcmdldEluc3RhbmNlSWQpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0SW5zdGFuY2UgPSBjYWNoZWRKU09iamVjdHNCeUlkW3RhcmdldEluc3RhbmNlSWRdO1xuICAgICAgICBpZiAodGFyZ2V0SW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRJbnN0YW5jZS5maW5kRnVuY3Rpb24oaWRlbnRpZmllcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBKUyBvYmplY3QgaW5zdGFuY2Ugd2l0aCBJRCAke3RhcmdldEluc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0IChoYXMgaXQgYmVlbiBkaXNwb3NlZD8pLmApO1xuICAgIH1cbiAgICBEb3ROZXQuZmluZEpTRnVuY3Rpb24gPSBmaW5kSlNGdW5jdGlvbjtcbiAgICBmdW5jdGlvbiBkaXNwb3NlSlNPYmplY3RSZWZlcmVuY2VCeUlkKGlkKSB7XG4gICAgICAgIGRlbGV0ZSBjYWNoZWRKU09iamVjdHNCeUlkW2lkXTtcbiAgICB9XG4gICAgRG90TmV0LmRpc3Bvc2VKU09iamVjdFJlZmVyZW5jZUJ5SWQgPSBkaXNwb3NlSlNPYmplY3RSZWZlcmVuY2VCeUlkO1xuICAgIGNsYXNzIERvdE5ldE9iamVjdCB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eS1mdW5jdGlvblxuICAgICAgICBjb25zdHJ1Y3RvcihfaWQsIF9jYWxsRGlzcGF0Y2hlcikge1xuICAgICAgICAgICAgdGhpcy5faWQgPSBfaWQ7XG4gICAgICAgICAgICB0aGlzLl9jYWxsRGlzcGF0Y2hlciA9IF9jYWxsRGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgICBpbnZva2VNZXRob2QobWV0aG9kSWRlbnRpZmllciwgLi4uYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGxEaXNwYXRjaGVyLmludm9rZURvdE5ldE1ldGhvZChudWxsLCBtZXRob2RJZGVudGlmaWVyLCB0aGlzLl9pZCwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgaW52b2tlTWV0aG9kQXN5bmMobWV0aG9kSWRlbnRpZmllciwgLi4uYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGxEaXNwYXRjaGVyLmludm9rZURvdE5ldE1ldGhvZEFzeW5jKG51bGwsIG1ldGhvZElkZW50aWZpZXIsIHRoaXMuX2lkLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBkaXNwb3NlKCkge1xuICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuX2NhbGxEaXNwYXRjaGVyLmludm9rZURvdE5ldE1ldGhvZEFzeW5jKG51bGwsIFwiX19EaXNwb3NlXCIsIHRoaXMuX2lkLCBudWxsKTtcbiAgICAgICAgICAgIHByb21pc2UuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5lcnJvcihlcnJvcikpO1xuICAgICAgICB9XG4gICAgICAgIHNlcmlhbGl6ZUFzQXJnKCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgW2RvdE5ldE9iamVjdFJlZktleV06IHRoaXMuX2lkIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgRG90TmV0LkRvdE5ldE9iamVjdCA9IERvdE5ldE9iamVjdDtcbiAgICBhdHRhY2hSZXZpdmVyKGZ1bmN0aW9uIHJldml2ZVJlZmVyZW5jZShrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShkb3ROZXRPYmplY3RSZWZLZXkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEb3ROZXRPYmplY3QodmFsdWVbZG90TmV0T2JqZWN0UmVmS2V5XSwgY3VycmVudENhbGxEaXNwYXRjaGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KGpzT2JqZWN0SWRLZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSB2YWx1ZVtqc09iamVjdElkS2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBqc09iamVjdCA9IGNhY2hlZEpTT2JqZWN0c0J5SWRbaWRdO1xuICAgICAgICAgICAgICAgIGlmIChqc09iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ganNPYmplY3QuZ2V0V3JhcHBlZE9iamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEpTIG9iamVjdCBpbnN0YW5jZSB3aXRoIElkICcke2lkfScgZG9lcyBub3QgZXhpc3QuIEl0IG1heSBoYXZlIGJlZW4gZGlzcG9zZWQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShieXRlQXJyYXlSZWZLZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB2YWx1ZVtieXRlQXJyYXlSZWZLZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ5dGVBcnJheSA9IGN1cnJlbnRDYWxsRGlzcGF0Y2hlci5wcm9jZXNzQnl0ZUFycmF5KGluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAoYnl0ZUFycmF5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBCeXRlIGFycmF5IGluZGV4ICcke2luZGV4fScgZG9lcyBub3QgZXhpc3QuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBieXRlQXJyYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShkb3ROZXRTdHJlYW1SZWZLZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtSWQgPSB2YWx1ZVtkb3ROZXRTdHJlYW1SZWZLZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0cmVhbVByb21pc2UgPSBjdXJyZW50Q2FsbERpc3BhdGNoZXIuZ2V0RG90TmV0U3RyZWFtUHJvbWlzZShzdHJlYW1JZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEb3ROZXRTdHJlYW0oc3RyZWFtUHJvbWlzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVW5yZWNvZ25pemVkIC0gbGV0IGFub3RoZXIgcmV2aXZlciBoYW5kbGUgaXRcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0pO1xuICAgIGNsYXNzIERvdE5ldFN0cmVhbSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eS1mdW5jdGlvblxuICAgICAgICBjb25zdHJ1Y3Rvcihfc3RyZWFtUHJvbWlzZSkge1xuICAgICAgICAgICAgdGhpcy5fc3RyZWFtUHJvbWlzZSA9IF9zdHJlYW1Qcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdXBwbGllcyBhIHJlYWRhYmxlIHN0cmVhbSBvZiBkYXRhIGJlaW5nIHNlbnQgZnJvbSAuTkVULlxuICAgICAgICAgKi9cbiAgICAgICAgc3RyZWFtKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0cmVhbVByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN1cHBsaWVzIGEgYXJyYXkgYnVmZmVyIG9mIGRhdGEgYmVpbmcgc2VudCBmcm9tIC5ORVQuXG4gICAgICAgICAqIE5vdGUgdGhlcmUgaXMgYSBKYXZhU2NyaXB0IGxpbWl0IG9uIHRoZSBzaXplIG9mIHRoZSBBcnJheUJ1ZmZlciBlcXVhbCB0byBhcHByb3hpbWF0ZWx5IDJHQi5cbiAgICAgICAgICovXG4gICAgICAgIGFzeW5jIGFycmF5QnVmZmVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShhd2FpdCB0aGlzLnN0cmVhbSgpKS5hcnJheUJ1ZmZlcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsYXNzIFBlbmRpbmdTdHJlYW0ge1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVqZWN0ID0gcmVqZWN0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlSlNDYWxsUmVzdWx0KHJldHVyblZhbHVlLCByZXN1bHRUeXBlKSB7XG4gICAgICAgIHN3aXRjaCAocmVzdWx0VHlwZSkge1xuICAgICAgICAgICAgY2FzZSBKU0NhbGxSZXN1bHRUeXBlLkRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICAgICAgY2FzZSBKU0NhbGxSZXN1bHRUeXBlLkpTT2JqZWN0UmVmZXJlbmNlOlxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVKU09iamVjdFJlZmVyZW5jZShyZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgICBjYXNlIEpTQ2FsbFJlc3VsdFR5cGUuSlNTdHJlYW1SZWZlcmVuY2U6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUpTU3RyZWFtUmVmZXJlbmNlKHJldHVyblZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgSlNDYWxsUmVzdWx0VHlwZS5KU1ZvaWRSZXN1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBKUyBjYWxsIHJlc3VsdCB0eXBlICcke3Jlc3VsdFR5cGV9Jy5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgbmV4dEJ5dGVBcnJheUluZGV4ID0gMDtcbiAgICBmdW5jdGlvbiBzdHJpbmdpZnlBcmdzKGNhbGxEaXNwYXRjaGVyLCBhcmdzKSB7XG4gICAgICAgIG5leHRCeXRlQXJyYXlJbmRleCA9IDA7XG4gICAgICAgIGN1cnJlbnRDYWxsRGlzcGF0Y2hlciA9IGNhbGxEaXNwYXRjaGVyO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBKU09OLnN0cmluZ2lmeShhcmdzLCBhcmdSZXBsYWNlcik7XG4gICAgICAgIGN1cnJlbnRDYWxsRGlzcGF0Y2hlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXJnUmVwbGFjZXIoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEb3ROZXRPYmplY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zZXJpYWxpemVBc0FyZygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICAgICAgY29uc3QgZG90TmV0Q2FsbERpc3BhdGNoZXIgPSBjdXJyZW50Q2FsbERpc3BhdGNoZXIuZ2V0RG90TmV0Q2FsbERpc3BhdGNoZXIoKTtcbiAgICAgICAgICAgIGRvdE5ldENhbGxEaXNwYXRjaGVyLnNlbmRCeXRlQXJyYXkobmV4dEJ5dGVBcnJheUluZGV4LCB2YWx1ZSk7XG4gICAgICAgICAgICBjb25zdCBqc29uVmFsdWUgPSB7IFtieXRlQXJyYXlSZWZLZXldOiBuZXh0Qnl0ZUFycmF5SW5kZXggfTtcbiAgICAgICAgICAgIG5leHRCeXRlQXJyYXlJbmRleCsrO1xuICAgICAgICAgICAgcmV0dXJuIGpzb25WYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufSkoRG90TmV0IHx8IChEb3ROZXQgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWljcm9zb2Z0LkpTSW50ZXJvcC5qcy5tYXAiLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlckJhdGNoIHtcbiAgdXBkYXRlZENvbXBvbmVudHMoKTogQXJyYXlSYW5nZTxSZW5kZXJUcmVlRGlmZj47XG4gIHJlZmVyZW5jZUZyYW1lcygpOiBBcnJheVJhbmdlPFJlbmRlclRyZWVGcmFtZT47XG4gIGRpc3Bvc2VkQ29tcG9uZW50SWRzKCk6IEFycmF5UmFuZ2U8bnVtYmVyPjtcbiAgZGlzcG9zZWRFdmVudEhhbmRsZXJJZHMoKTogQXJyYXlSYW5nZTxudW1iZXI+O1xuXG4gIHVwZGF0ZWRDb21wb25lbnRzRW50cnkodmFsdWVzOiBBcnJheVZhbHVlczxSZW5kZXJUcmVlRGlmZj4sIGluZGV4OiBudW1iZXIpOiBSZW5kZXJUcmVlRGlmZjtcbiAgcmVmZXJlbmNlRnJhbWVzRW50cnkodmFsdWVzOiBBcnJheVZhbHVlczxSZW5kZXJUcmVlRnJhbWU+LCBpbmRleDogbnVtYmVyKTogUmVuZGVyVHJlZUZyYW1lO1xuICBkaXNwb3NlZENvbXBvbmVudElkc0VudHJ5KHZhbHVlczogQXJyYXlWYWx1ZXM8bnVtYmVyPiwgaW5kZXg6IG51bWJlcik6IG51bWJlcjtcbiAgZGlzcG9zZWRFdmVudEhhbmRsZXJJZHNFbnRyeSh2YWx1ZXM6IEFycmF5VmFsdWVzPG51bWJlcj4sIGluZGV4OiBudW1iZXIpOiBudW1iZXI7XG5cbiAgZGlmZlJlYWRlcjogUmVuZGVyVHJlZURpZmZSZWFkZXI7XG4gIGVkaXRSZWFkZXI6IFJlbmRlclRyZWVFZGl0UmVhZGVyO1xuICBmcmFtZVJlYWRlcjogUmVuZGVyVHJlZUZyYW1lUmVhZGVyO1xuICBhcnJheVJhbmdlUmVhZGVyOiBBcnJheVJhbmdlUmVhZGVyO1xuICBhcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyOiBBcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFycmF5UmFuZ2VSZWFkZXIge1xuICBjb3VudDxUPihhcnJheVJhbmdlOiBBcnJheVJhbmdlPFQ+KTogbnVtYmVyO1xuICB2YWx1ZXM8VD4oYXJyYXlSYW5nZTogQXJyYXlSYW5nZTxUPik6IEFycmF5VmFsdWVzPFQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFycmF5QnVpbGRlclNlZ21lbnRSZWFkZXIge1xuICBvZmZzZXQ8VD4oYXJyYXlCdWlsZGVyU2VnbWVudDogQXJyYXlCdWlsZGVyU2VnbWVudDxUPik6IG51bWJlcjtcbiAgY291bnQ8VD4oYXJyYXlCdWlsZGVyU2VnbWVudDogQXJyYXlCdWlsZGVyU2VnbWVudDxUPik6IG51bWJlcjtcbiAgdmFsdWVzPFQ+KGFycmF5QnVpbGRlclNlZ21lbnQ6IEFycmF5QnVpbGRlclNlZ21lbnQ8VD4pOiBBcnJheVZhbHVlczxUPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJUcmVlRGlmZlJlYWRlciB7XG4gIGNvbXBvbmVudElkKGRpZmY6IFJlbmRlclRyZWVEaWZmKTogbnVtYmVyO1xuICBlZGl0cyhkaWZmOiBSZW5kZXJUcmVlRGlmZik6IEFycmF5QnVpbGRlclNlZ21lbnQ8UmVuZGVyVHJlZUVkaXQ+O1xuICBlZGl0c0VudHJ5KHZhbHVlczogQXJyYXlWYWx1ZXM8UmVuZGVyVHJlZUVkaXQ+LCBpbmRleDogbnVtYmVyKTogUmVuZGVyVHJlZUVkaXQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyVHJlZUVkaXRSZWFkZXIge1xuICBlZGl0VHlwZShlZGl0OiBSZW5kZXJUcmVlRWRpdCk6IEVkaXRUeXBlO1xuICBzaWJsaW5nSW5kZXgoZWRpdDogUmVuZGVyVHJlZUVkaXQpOiBudW1iZXI7XG4gIG5ld1RyZWVJbmRleChlZGl0OiBSZW5kZXJUcmVlRWRpdCk6IG51bWJlcjtcbiAgbW92ZVRvU2libGluZ0luZGV4KGVkaXQ6IFJlbmRlclRyZWVFZGl0KTogbnVtYmVyO1xuICByZW1vdmVkQXR0cmlidXRlTmFtZShlZGl0OiBSZW5kZXJUcmVlRWRpdCk6IHN0cmluZyB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyVHJlZUZyYW1lUmVhZGVyIHtcbiAgZnJhbWVUeXBlKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpOiBGcmFtZVR5cGU7XG4gIHN1YnRyZWVMZW5ndGgoZnJhbWU6IFJlbmRlclRyZWVGcmFtZSk6IG51bWJlcjtcbiAgZWxlbWVudFJlZmVyZW5jZUNhcHR1cmVJZChmcmFtZTogUmVuZGVyVHJlZUZyYW1lKTogc3RyaW5nIHwgbnVsbDtcbiAgY29tcG9uZW50SWQoZnJhbWU6IFJlbmRlclRyZWVGcmFtZSk6IG51bWJlcjtcbiAgZWxlbWVudE5hbWUoZnJhbWU6IFJlbmRlclRyZWVGcmFtZSk6IHN0cmluZyB8IG51bGw7XG4gIHRleHRDb250ZW50KGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpOiBzdHJpbmcgfCBudWxsO1xuICBtYXJrdXBDb250ZW50KGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpOiBzdHJpbmc7XG4gIGF0dHJpYnV0ZU5hbWUoZnJhbWU6IFJlbmRlclRyZWVGcmFtZSk6IHN0cmluZyB8IG51bGw7XG4gIGF0dHJpYnV0ZVZhbHVlKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpOiBzdHJpbmcgfCBudWxsO1xuICBhdHRyaWJ1dGVFdmVudEhhbmRsZXJJZChmcmFtZTogUmVuZGVyVHJlZUZyYW1lKTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFycmF5UmFuZ2U8VD4geyBBcnJheVJhbmdlX19ET19OT1RfSU1QTEVNRU5UOiB1bmtub3duIH1cbmV4cG9ydCBpbnRlcmZhY2UgQXJyYXlCdWlsZGVyU2VnbWVudDxUPiB7IEFycmF5QnVpbGRlclNlZ21lbnRfX0RPX05PVF9JTVBMRU1FTlQ6IHVua25vd24gfVxuZXhwb3J0IGludGVyZmFjZSBBcnJheVZhbHVlczxUPiB7IEFycmF5VmFsdWVzX19ET19OT1RfSU1QTEVNRU5UOiB1bmtub3duIH1cblxuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJUcmVlRGlmZiB7IFJlbmRlclRyZWVEaWZmX19ET19OT1RfSU1QTEVNRU5UOiB1bmtub3duIH1cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyVHJlZUZyYW1lIHsgUmVuZGVyVHJlZUZyYW1lX19ET19OT1RfSU1QTEVNRU5UOiB1bmtub3duIH1cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyVHJlZUVkaXQgeyBSZW5kZXJUcmVlRWRpdF9fRE9fTk9UX0lNUExFTUVOVDogdW5rbm93biB9XG5cbmV4cG9ydCBlbnVtIEVkaXRUeXBlIHtcbiAgLy8gVGhlIHZhbHVlcyBtdXN0IGJlIGtlcHQgaW4gc3luYyB3aXRoIHRoZSAuTkVUIGVxdWl2YWxlbnQgaW4gUmVuZGVyVHJlZUVkaXRUeXBlLmNzXG4gIHByZXBlbmRGcmFtZSA9IDEsXG4gIHJlbW92ZUZyYW1lID0gMixcbiAgc2V0QXR0cmlidXRlID0gMyxcbiAgcmVtb3ZlQXR0cmlidXRlID0gNCxcbiAgdXBkYXRlVGV4dCA9IDUsXG4gIHN0ZXBJbiA9IDYsXG4gIHN0ZXBPdXQgPSA3LFxuICB1cGRhdGVNYXJrdXAgPSA4LFxuICBwZXJtdXRhdGlvbkxpc3RFbnRyeSA9IDksXG4gIHBlcm11dGF0aW9uTGlzdEVuZCA9IDEwLFxufVxuXG5leHBvcnQgZW51bSBGcmFtZVR5cGUge1xuICAvLyBUaGUgdmFsdWVzIG11c3QgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlIC5ORVQgZXF1aXZhbGVudCBpbiBSZW5kZXJUcmVlRnJhbWVUeXBlLmNzXG4gIGVsZW1lbnQgPSAxLFxuICB0ZXh0ID0gMixcbiAgYXR0cmlidXRlID0gMyxcbiAgY29tcG9uZW50ID0gNCxcbiAgcmVnaW9uID0gNSxcbiAgZWxlbWVudFJlZmVyZW5jZUNhcHR1cmUgPSA2LFxuICBtYXJrdXAgPSA4LFxufVxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbmV4cG9ydCBjbGFzcyBFdmVudEZpZWxkSW5mbyB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBjb21wb25lbnRJZDogbnVtYmVyLCBwdWJsaWMgZmllbGRWYWx1ZTogc3RyaW5nIHwgYm9vbGVhbikge1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBmcm9tRXZlbnQoY29tcG9uZW50SWQ6IG51bWJlciwgZXZlbnQ6IEV2ZW50KTogRXZlbnRGaWVsZEluZm8gfCBudWxsIHtcbiAgICBjb25zdCBlbGVtID0gZXZlbnQudGFyZ2V0O1xuICAgIGlmIChlbGVtIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgY29uc3QgZmllbGREYXRhID0gZ2V0Rm9ybUZpZWxkRGF0YShlbGVtKTtcbiAgICAgIGlmIChmaWVsZERhdGEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFdmVudEZpZWxkSW5mbyhjb21wb25lbnRJZCwgZmllbGREYXRhLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUaGlzIGV2ZW50IGlzbid0IGhhcHBlbmluZyBvbiBhIGZvcm0gZmllbGQgdGhhdCB3ZSBjYW4gcmV2ZXJzZS1tYXAgYmFjayB0byBzb21lIGluY29taW5nIGF0dHJpYnV0ZVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldEZvcm1GaWVsZERhdGEoZWxlbTogRWxlbWVudCkge1xuICAvLyBUaGUgbG9naWMgaW4gaGVyZSBzaG91bGQgYmUgdGhlIGludmVyc2Ugb2YgdGhlIGxvZ2ljIGluIEJyb3dzZXJSZW5kZXJlcidzIHRyeUFwcGx5U3BlY2lhbFByb3BlcnR5LlxuICAvLyBUaGF0IGlzLCB3ZSdyZSBkb2luZyB0aGUgcmV2ZXJzZSBtYXBwaW5nLCBzdGFydGluZyBmcm9tIGFuIEhUTUwgcHJvcGVydHkgYW5kIHJlY29uc3RydWN0aW5nIHdoaWNoXG4gIC8vIFwic3BlY2lhbFwiIGF0dHJpYnV0ZSB3b3VsZCBoYXZlIGJlZW4gbWFwcGVkIHRvIHRoYXQgcHJvcGVydHkuXG4gIGlmIChlbGVtIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkge1xuICAgIHJldHVybiAoZWxlbS50eXBlICYmIGVsZW0udHlwZS50b0xvd2VyQ2FzZSgpID09PSAnY2hlY2tib3gnKVxuICAgICAgPyB7IHZhbHVlOiBlbGVtLmNoZWNrZWQgfVxuICAgICAgOiB7IHZhbHVlOiBlbGVtLnZhbHVlIH07XG4gIH1cblxuICBpZiAoZWxlbSBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50IHx8IGVsZW0gaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50KSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IGVsZW0udmFsdWUgfTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuZXhwb3J0IGludGVyZmFjZSBFdmVudFR5cGVPcHRpb25zIHtcbiAgYnJvd3NlckV2ZW50TmFtZT86IHN0cmluZztcbiAgY3JlYXRlRXZlbnRBcmdzPzogKGV2ZW50OiBFdmVudCkgPT4gdW5rbm93bjtcbn1cblxuY29uc3QgZXZlbnRUeXBlUmVnaXN0cnk6IE1hcDxzdHJpbmcsIEV2ZW50VHlwZU9wdGlvbnM+ID0gbmV3IE1hcCgpO1xuY29uc3QgYnJvd3NlckV2ZW50TmFtZXNUb0FsaWFzZXM6IE1hcDxzdHJpbmcsIHN0cmluZ1tdPiA9IG5ldyBNYXAoKTtcbmNvbnN0IGNyZWF0ZUJsYW5rRXZlbnRBcmdzT3B0aW9uczogRXZlbnRUeXBlT3B0aW9ucyA9IHsgY3JlYXRlRXZlbnRBcmdzOiAoKSA9PiAoe30pIH07XG5cbmV4cG9ydCBjb25zdCBldmVudE5hbWVBbGlhc1JlZ2lzdGVyZWRDYWxsYmFja3M6ICgoYWxpYXNFdmVudE5hbWU6IHN0cmluZywgYnJvd3NlckV2ZW50TmFtZSkgPT4gdm9pZClbXSA9IFtdO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJDdXN0b21FdmVudFR5cGUoZXZlbnROYW1lOiBzdHJpbmcsIG9wdGlvbnM6IEV2ZW50VHlwZU9wdGlvbnMpOiB2b2lkIHtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgb3B0aW9ucyBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQuJyk7XG4gIH1cblxuICAvLyBUaGVyZSBjYW4ndCBiZSBtb3JlIHRoYW4gb25lIHJlZ2lzdHJhdGlvbiBmb3IgdGhlIHNhbWUgZXZlbnQgbmFtZSBiZWNhdXNlIHRoZW4gd2Ugd291bGRuJ3RcbiAgLy8ga25vdyB3aGljaCBldmVudGFyZ3MgZGF0YSB0byBzdXBwbHkuXG4gIGlmIChldmVudFR5cGVSZWdpc3RyeS5oYXMoZXZlbnROYW1lKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGV2ZW50ICcke2V2ZW50TmFtZX0nIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC5gKTtcbiAgfVxuXG4gIC8vIElmIGFwcGxpY2FibGUsIHJlZ2lzdGVyIHRoaXMgYXMgYW4gYWxpYXMgb2YgdGhlIGdpdmVuIGJyb3dzZXJFdmVudE5hbWVcbiAgaWYgKG9wdGlvbnMuYnJvd3NlckV2ZW50TmFtZSkge1xuICAgIGNvbnN0IGFsaWFzR3JvdXAgPSBicm93c2VyRXZlbnROYW1lc1RvQWxpYXNlcy5nZXQob3B0aW9ucy5icm93c2VyRXZlbnROYW1lKTtcbiAgICBpZiAoYWxpYXNHcm91cCkge1xuICAgICAgYWxpYXNHcm91cC5wdXNoKGV2ZW50TmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyb3dzZXJFdmVudE5hbWVzVG9BbGlhc2VzLnNldChvcHRpb25zLmJyb3dzZXJFdmVudE5hbWUsIFtldmVudE5hbWVdKTtcbiAgICB9XG5cbiAgICAvLyBGb3IgZGV2ZWxvcGVyIGNvbnZlbmllbmNlLCBpdCdzIGFsbG93ZWQgdG8gcmVnaXN0ZXIgdGhlIGN1c3RvbSBldmVudCB0eXBlICphZnRlcipcbiAgICAvLyBzb21lIGxpc3RlbmVycyBmb3IgaXQgYXJlIGFscmVhZHkgcHJlc2VudC4gT25jZSB0aGUgZXZlbnQgbmFtZSBhbGlhcyBnZXRzIHJlZ2lzdGVyZWQsXG4gICAgLy8gd2UgaGF2ZSB0byBub3RpZnkgYW55IGV4aXN0aW5nIGV2ZW50IGRlbGVnYXRvcnMgc28gdGhleSBjYW4gdXBkYXRlIHRoZWlyIGRlbGVnYXRlZFxuICAgIC8vIGV2ZW50cyBsaXN0LlxuICAgIGV2ZW50TmFtZUFsaWFzUmVnaXN0ZXJlZENhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKGV2ZW50TmFtZSwgb3B0aW9ucy5icm93c2VyRXZlbnROYW1lKSk7XG4gIH1cblxuICBldmVudFR5cGVSZWdpc3RyeS5zZXQoZXZlbnROYW1lLCBvcHRpb25zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEV2ZW50VHlwZU9wdGlvbnMoZXZlbnROYW1lOiBzdHJpbmcpOiBFdmVudFR5cGVPcHRpb25zIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIGV2ZW50VHlwZVJlZ2lzdHJ5LmdldChldmVudE5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXZlbnROYW1lQWxpYXNlcyhldmVudE5hbWU6IHN0cmluZyk6IHN0cmluZ1tdIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIGJyb3dzZXJFdmVudE5hbWVzVG9BbGlhc2VzLmdldChldmVudE5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QnJvd3NlckV2ZW50TmFtZShwb3NzaWJsZUFsaWFzRXZlbnROYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBldmVudE9wdGlvbnMgPSBldmVudFR5cGVSZWdpc3RyeS5nZXQocG9zc2libGVBbGlhc0V2ZW50TmFtZSk7XG4gIHJldHVybiBldmVudE9wdGlvbnM/LmJyb3dzZXJFdmVudE5hbWUgfHwgcG9zc2libGVBbGlhc0V2ZW50TmFtZTtcbn1cblxuZnVuY3Rpb24gcmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKGV2ZW50TmFtZXM6IHN0cmluZ1tdLCBvcHRpb25zOiBFdmVudFR5cGVPcHRpb25zKSB7XG4gIGV2ZW50TmFtZXMuZm9yRWFjaChldmVudE5hbWUgPT4gZXZlbnRUeXBlUmVnaXN0cnkuc2V0KGV2ZW50TmFtZSwgb3B0aW9ucykpO1xufVxuXG5yZWdpc3RlckJ1aWx0SW5FdmVudFR5cGUoWydpbnB1dCcsICdjaGFuZ2UnXSwge1xuICBjcmVhdGVFdmVudEFyZ3M6IHBhcnNlQ2hhbmdlRXZlbnQsXG59KTtcblxucmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKFtcbiAgJ2NvcHknLFxuICAnY3V0JyxcbiAgJ3Bhc3RlJyxcbl0sIHtcbiAgY3JlYXRlRXZlbnRBcmdzOiBlID0+IHBhcnNlQ2xpcGJvYXJkRXZlbnQoZSBhcyBDbGlwYm9hcmRFdmVudCksXG59KTtcblxucmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKFtcbiAgJ2RyYWcnLFxuICAnZHJhZ2VuZCcsXG4gICdkcmFnZW50ZXInLFxuICAnZHJhZ2xlYXZlJyxcbiAgJ2RyYWdvdmVyJyxcbiAgJ2RyYWdzdGFydCcsXG4gICdkcm9wJyxcbl0sIHtcbiAgY3JlYXRlRXZlbnRBcmdzOiBlID0+IHBhcnNlRHJhZ0V2ZW50KGUgYXMgRHJhZ0V2ZW50KSxcbn0pO1xuXG5yZWdpc3RlckJ1aWx0SW5FdmVudFR5cGUoW1xuICAnZm9jdXMnLFxuICAnYmx1cicsXG4gICdmb2N1c2luJyxcbiAgJ2ZvY3Vzb3V0Jyxcbl0sIHtcbiAgY3JlYXRlRXZlbnRBcmdzOiBlID0+IHBhcnNlRm9jdXNFdmVudChlIGFzIEZvY3VzRXZlbnQpLFxufSk7XG5cbnJlZ2lzdGVyQnVpbHRJbkV2ZW50VHlwZShbXG4gICdrZXlkb3duJyxcbiAgJ2tleXVwJyxcbiAgJ2tleXByZXNzJyxcbl0sIHtcbiAgY3JlYXRlRXZlbnRBcmdzOiBlID0+IHBhcnNlS2V5Ym9hcmRFdmVudChlIGFzIEtleWJvYXJkRXZlbnQpLFxufSk7XG5cbnJlZ2lzdGVyQnVpbHRJbkV2ZW50VHlwZShbXG4gICdjb250ZXh0bWVudScsXG4gICdjbGljaycsXG4gICdtb3VzZW92ZXInLFxuICAnbW91c2VvdXQnLFxuICAnbW91c2Vtb3ZlJyxcbiAgJ21vdXNlZG93bicsXG4gICdtb3VzZXVwJyxcbiAgJ21vdXNlbGVhdmUnLFxuICAnbW91c2VlbnRlcicsXG4gICdkYmxjbGljaycsXG5dLCB7XG4gIGNyZWF0ZUV2ZW50QXJnczogZSA9PiBwYXJzZU1vdXNlRXZlbnQoZSBhcyBNb3VzZUV2ZW50KSxcbn0pO1xuXG5yZWdpc3RlckJ1aWx0SW5FdmVudFR5cGUoWydlcnJvciddLCB7XG4gIGNyZWF0ZUV2ZW50QXJnczogZSA9PiBwYXJzZUVycm9yRXZlbnQoZSBhcyBFcnJvckV2ZW50KSxcbn0pO1xuXG5yZWdpc3RlckJ1aWx0SW5FdmVudFR5cGUoW1xuICAnbG9hZHN0YXJ0JyxcbiAgJ3RpbWVvdXQnLFxuICAnYWJvcnQnLFxuICAnbG9hZCcsXG4gICdsb2FkZW5kJyxcbiAgJ3Byb2dyZXNzJyxcbl0sIHtcbiAgY3JlYXRlRXZlbnRBcmdzOiBlID0+IHBhcnNlUHJvZ3Jlc3NFdmVudChlIGFzIFByb2dyZXNzRXZlbnQpLFxufSk7XG5cbnJlZ2lzdGVyQnVpbHRJbkV2ZW50VHlwZShbXG4gICd0b3VjaGNhbmNlbCcsXG4gICd0b3VjaGVuZCcsXG4gICd0b3VjaG1vdmUnLFxuICAndG91Y2hlbnRlcicsXG4gICd0b3VjaGxlYXZlJyxcbiAgJ3RvdWNoc3RhcnQnLFxuXSwge1xuICBjcmVhdGVFdmVudEFyZ3M6IGUgPT4gcGFyc2VUb3VjaEV2ZW50KGUgYXMgVG91Y2hFdmVudCksXG59KTtcblxucmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKFtcbiAgJ2dvdHBvaW50ZXJjYXB0dXJlJyxcbiAgJ2xvc3Rwb2ludGVyY2FwdHVyZScsXG4gICdwb2ludGVyY2FuY2VsJyxcbiAgJ3BvaW50ZXJkb3duJyxcbiAgJ3BvaW50ZXJlbnRlcicsXG4gICdwb2ludGVybGVhdmUnLFxuICAncG9pbnRlcm1vdmUnLFxuICAncG9pbnRlcm91dCcsXG4gICdwb2ludGVyb3ZlcicsXG4gICdwb2ludGVydXAnLFxuXSwge1xuICBjcmVhdGVFdmVudEFyZ3M6IGUgPT4gcGFyc2VQb2ludGVyRXZlbnQoZSBhcyBQb2ludGVyRXZlbnQpLFxufSk7XG5cbnJlZ2lzdGVyQnVpbHRJbkV2ZW50VHlwZShbJ3doZWVsJywgJ21vdXNld2hlZWwnXSwge1xuICBjcmVhdGVFdmVudEFyZ3M6IGUgPT4gcGFyc2VXaGVlbEV2ZW50KGUgYXMgV2hlZWxFdmVudCksXG59KTtcblxucmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKFsndG9nZ2xlJ10sIGNyZWF0ZUJsYW5rRXZlbnRBcmdzT3B0aW9ucyk7XG5cbmZ1bmN0aW9uIHBhcnNlQ2hhbmdlRXZlbnQoZXZlbnQ6IEV2ZW50KTogQ2hhbmdlRXZlbnRBcmdzIHtcbiAgY29uc3QgZWxlbWVudCA9IGV2ZW50LnRhcmdldCBhcyBFbGVtZW50O1xuICBpZiAoaXNUaW1lQmFzZWRJbnB1dChlbGVtZW50KSkge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRWYWx1ZSA9IG5vcm1hbGl6ZVRpbWVCYXNlZFZhbHVlKGVsZW1lbnQpO1xuICAgIHJldHVybiB7IHZhbHVlOiBub3JtYWxpemVkVmFsdWUgfTtcbiAgfSBlbHNlIGlmIChpc011bHRpcGxlU2VsZWN0SW5wdXQoZWxlbWVudCkpIHtcbiAgICBjb25zdCBzZWxlY3RFbGVtZW50ID0gZWxlbWVudCBhcyBIVE1MU2VsZWN0RWxlbWVudDtcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlcyA9IEFycmF5LmZyb20oc2VsZWN0RWxlbWVudC5vcHRpb25zKVxuICAgICAgLmZpbHRlcihvcHRpb24gPT4gb3B0aW9uLnNlbGVjdGVkKVxuICAgICAgLm1hcChvcHRpb24gPT4gb3B0aW9uLnZhbHVlKTtcbiAgICByZXR1cm4geyB2YWx1ZTogc2VsZWN0ZWRWYWx1ZXMgfTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0YXJnZXRJc0NoZWNrYm94ID0gaXNDaGVja2JveChlbGVtZW50KTtcbiAgICBjb25zdCBuZXdWYWx1ZSA9IHRhcmdldElzQ2hlY2tib3ggPyAhIWVsZW1lbnRbJ2NoZWNrZWQnXSA6IGVsZW1lbnRbJ3ZhbHVlJ107XG4gICAgcmV0dXJuIHsgdmFsdWU6IG5ld1ZhbHVlIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VXaGVlbEV2ZW50KGV2ZW50OiBXaGVlbEV2ZW50KTogV2hlZWxFdmVudEFyZ3Mge1xuICByZXR1cm4ge1xuICAgIC4uLnBhcnNlTW91c2VFdmVudChldmVudCksXG4gICAgZGVsdGFYOiBldmVudC5kZWx0YVgsXG4gICAgZGVsdGFZOiBldmVudC5kZWx0YVksXG4gICAgZGVsdGFaOiBldmVudC5kZWx0YVosXG4gICAgZGVsdGFNb2RlOiBldmVudC5kZWx0YU1vZGUsXG4gIH07XG59XG5cbmZ1bmN0aW9uIHBhcnNlUG9pbnRlckV2ZW50KGV2ZW50OiBQb2ludGVyRXZlbnQpOiBQb2ludGVyRXZlbnRBcmdzIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5wYXJzZU1vdXNlRXZlbnQoZXZlbnQpLFxuICAgIHBvaW50ZXJJZDogZXZlbnQucG9pbnRlcklkLFxuICAgIHdpZHRoOiBldmVudC53aWR0aCxcbiAgICBoZWlnaHQ6IGV2ZW50LmhlaWdodCxcbiAgICBwcmVzc3VyZTogZXZlbnQucHJlc3N1cmUsXG4gICAgdGlsdFg6IGV2ZW50LnRpbHRYLFxuICAgIHRpbHRZOiBldmVudC50aWx0WSxcbiAgICBwb2ludGVyVHlwZTogZXZlbnQucG9pbnRlclR5cGUsXG4gICAgaXNQcmltYXJ5OiBldmVudC5pc1ByaW1hcnksXG4gIH07XG59XG5cbmZ1bmN0aW9uIHBhcnNlVG91Y2hFdmVudChldmVudDogVG91Y2hFdmVudCk6IFRvdWNoRXZlbnRBcmdzIHtcbiAgcmV0dXJuIHtcbiAgICBkZXRhaWw6IGV2ZW50LmRldGFpbCxcbiAgICB0b3VjaGVzOiBwYXJzZVRvdWNoKGV2ZW50LnRvdWNoZXMpLFxuICAgIHRhcmdldFRvdWNoZXM6IHBhcnNlVG91Y2goZXZlbnQudGFyZ2V0VG91Y2hlcyksXG4gICAgY2hhbmdlZFRvdWNoZXM6IHBhcnNlVG91Y2goZXZlbnQuY2hhbmdlZFRvdWNoZXMpLFxuICAgIGN0cmxLZXk6IGV2ZW50LmN0cmxLZXksXG4gICAgc2hpZnRLZXk6IGV2ZW50LnNoaWZ0S2V5LFxuICAgIGFsdEtleTogZXZlbnQuYWx0S2V5LFxuICAgIG1ldGFLZXk6IGV2ZW50Lm1ldGFLZXksXG4gICAgdHlwZTogZXZlbnQudHlwZSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gcGFyc2VGb2N1c0V2ZW50KGV2ZW50OiBGb2N1c0V2ZW50KTogRm9jdXNFdmVudEFyZ3Mge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IGV2ZW50LnR5cGUsXG4gIH07XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ2xpcGJvYXJkRXZlbnQoZXZlbnQ6IENsaXBib2FyZEV2ZW50KTogQ2xpcGJvYXJkRXZlbnRBcmdzIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBldmVudC50eXBlLFxuICB9O1xufVxuXG5mdW5jdGlvbiBwYXJzZVByb2dyZXNzRXZlbnQoZXZlbnQ6IFByb2dyZXNzRXZlbnQ8RXZlbnRUYXJnZXQ+KTogUHJvZ3Jlc3NFdmVudEFyZ3Mge1xuICByZXR1cm4ge1xuICAgIGxlbmd0aENvbXB1dGFibGU6IGV2ZW50Lmxlbmd0aENvbXB1dGFibGUsXG4gICAgbG9hZGVkOiBldmVudC5sb2FkZWQsXG4gICAgdG90YWw6IGV2ZW50LnRvdGFsLFxuICAgIHR5cGU6IGV2ZW50LnR5cGUsXG4gIH07XG59XG5cbmZ1bmN0aW9uIHBhcnNlRXJyb3JFdmVudChldmVudDogRXJyb3JFdmVudCk6IEVycm9yRXZlbnRBcmdzIHtcbiAgcmV0dXJuIHtcbiAgICBtZXNzYWdlOiBldmVudC5tZXNzYWdlLFxuICAgIGZpbGVuYW1lOiBldmVudC5maWxlbmFtZSxcbiAgICBsaW5lbm86IGV2ZW50LmxpbmVubyxcbiAgICBjb2xubzogZXZlbnQuY29sbm8sXG4gICAgdHlwZTogZXZlbnQudHlwZSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gcGFyc2VLZXlib2FyZEV2ZW50KGV2ZW50OiBLZXlib2FyZEV2ZW50KTogS2V5Ym9hcmRFdmVudEFyZ3Mge1xuICByZXR1cm4ge1xuICAgIGtleTogZXZlbnQua2V5LFxuICAgIGNvZGU6IGV2ZW50LmNvZGUsXG4gICAgbG9jYXRpb246IGV2ZW50LmxvY2F0aW9uLFxuICAgIHJlcGVhdDogZXZlbnQucmVwZWF0LFxuICAgIGN0cmxLZXk6IGV2ZW50LmN0cmxLZXksXG4gICAgc2hpZnRLZXk6IGV2ZW50LnNoaWZ0S2V5LFxuICAgIGFsdEtleTogZXZlbnQuYWx0S2V5LFxuICAgIG1ldGFLZXk6IGV2ZW50Lm1ldGFLZXksXG4gICAgdHlwZTogZXZlbnQudHlwZSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gcGFyc2VEcmFnRXZlbnQoZXZlbnQ6IERyYWdFdmVudCk6IERyYWdFdmVudEFyZ3Mge1xuICByZXR1cm4ge1xuICAgIC4uLnBhcnNlTW91c2VFdmVudChldmVudCksXG4gICAgZGF0YVRyYW5zZmVyOiBldmVudC5kYXRhVHJhbnNmZXIgPyB7XG4gICAgICBkcm9wRWZmZWN0OiBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCxcbiAgICAgIGVmZmVjdEFsbG93ZWQ6IGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkLFxuICAgICAgZmlsZXM6IEFycmF5LmZyb20oZXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzKS5tYXAoZiA9PiBmLm5hbWUpLFxuICAgICAgaXRlbXM6IEFycmF5LmZyb20oZXZlbnQuZGF0YVRyYW5zZmVyLml0ZW1zKS5tYXAoaSA9PiAoeyBraW5kOiBpLmtpbmQsIHR5cGU6IGkudHlwZSB9KSksXG4gICAgICB0eXBlczogZXZlbnQuZGF0YVRyYW5zZmVyLnR5cGVzLFxuICAgIH0gOiBudWxsLFxuICB9O1xufVxuXG5mdW5jdGlvbiBwYXJzZVRvdWNoKHRvdWNoTGlzdDogVG91Y2hMaXN0KTogVG91Y2hQb2ludFtdIHtcbiAgY29uc3QgdG91Y2hlczogVG91Y2hQb2ludFtdID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3VjaExpc3QubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB0b3VjaCA9IHRvdWNoTGlzdFtpXTtcbiAgICB0b3VjaGVzLnB1c2goe1xuICAgICAgaWRlbnRpZmllcjogdG91Y2guaWRlbnRpZmllcixcbiAgICAgIGNsaWVudFg6IHRvdWNoLmNsaWVudFgsXG4gICAgICBjbGllbnRZOiB0b3VjaC5jbGllbnRZLFxuICAgICAgc2NyZWVuWDogdG91Y2guc2NyZWVuWCxcbiAgICAgIHNjcmVlblk6IHRvdWNoLnNjcmVlblksXG4gICAgICBwYWdlWDogdG91Y2gucGFnZVgsXG4gICAgICBwYWdlWTogdG91Y2gucGFnZVksXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHRvdWNoZXM7XG59XG5cbmZ1bmN0aW9uIHBhcnNlTW91c2VFdmVudChldmVudDogTW91c2VFdmVudCk6IE1vdXNlRXZlbnRBcmdzIHtcbiAgcmV0dXJuIHtcbiAgICBkZXRhaWw6IGV2ZW50LmRldGFpbCxcbiAgICBzY3JlZW5YOiBldmVudC5zY3JlZW5YLFxuICAgIHNjcmVlblk6IGV2ZW50LnNjcmVlblksXG4gICAgY2xpZW50WDogZXZlbnQuY2xpZW50WCxcbiAgICBjbGllbnRZOiBldmVudC5jbGllbnRZLFxuICAgIG9mZnNldFg6IGV2ZW50Lm9mZnNldFgsXG4gICAgb2Zmc2V0WTogZXZlbnQub2Zmc2V0WSxcbiAgICBwYWdlWDogZXZlbnQucGFnZVgsXG4gICAgcGFnZVk6IGV2ZW50LnBhZ2VZLFxuICAgIG1vdmVtZW50WDogZXZlbnQubW92ZW1lbnRYLFxuICAgIG1vdmVtZW50WTogZXZlbnQubW92ZW1lbnRZLFxuICAgIGJ1dHRvbjogZXZlbnQuYnV0dG9uLFxuICAgIGJ1dHRvbnM6IGV2ZW50LmJ1dHRvbnMsXG4gICAgY3RybEtleTogZXZlbnQuY3RybEtleSxcbiAgICBzaGlmdEtleTogZXZlbnQuc2hpZnRLZXksXG4gICAgYWx0S2V5OiBldmVudC5hbHRLZXksXG4gICAgbWV0YUtleTogZXZlbnQubWV0YUtleSxcbiAgICB0eXBlOiBldmVudC50eXBlLFxuICB9O1xufVxuXG5mdW5jdGlvbiBpc0NoZWNrYm94KGVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsKTogYm9vbGVhbiB7XG4gIHJldHVybiAhIWVsZW1lbnQgJiYgZWxlbWVudC50YWdOYW1lID09PSAnSU5QVVQnICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0eXBlJykgPT09ICdjaGVja2JveCc7XG59XG5cbmNvbnN0IHRpbWVCYXNlZElucHV0cyA9IFtcbiAgJ2RhdGUnLFxuICAnZGF0ZXRpbWUtbG9jYWwnLFxuICAnbW9udGgnLFxuICAndGltZScsXG4gICd3ZWVrJyxcbl07XG5cbmZ1bmN0aW9uIGlzVGltZUJhc2VkSW5wdXQoZWxlbWVudDogRWxlbWVudCk6IGVsZW1lbnQgaXMgSFRNTElucHV0RWxlbWVudCB7XG4gIHJldHVybiB0aW1lQmFzZWRJbnB1dHMuaW5kZXhPZihlbGVtZW50LmdldEF0dHJpYnV0ZSgndHlwZScpISkgIT09IC0xO1xufVxuXG5mdW5jdGlvbiBpc011bHRpcGxlU2VsZWN0SW5wdXQoZWxlbWVudDogRWxlbWVudCk6IGVsZW1lbnQgaXMgSFRNTFNlbGVjdEVsZW1lbnQge1xuICByZXR1cm4gZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50ICYmIGVsZW1lbnQudHlwZSA9PT0gJ3NlbGVjdC1tdWx0aXBsZSc7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVRpbWVCYXNlZFZhbHVlKGVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQpOiBzdHJpbmcge1xuICBjb25zdCB2YWx1ZSA9IGVsZW1lbnQudmFsdWU7XG4gIGNvbnN0IHR5cGUgPSBlbGVtZW50LnR5cGU7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2RhdGUnOlxuICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICBjYXNlICdkYXRldGltZS1sb2NhbCc6XG4gICAgICByZXR1cm4gdmFsdWUubGVuZ3RoID09PSAxNiA/IHZhbHVlICsgJzowMCcgOiB2YWx1ZTsgLy8gQ29udmVydCB5eXl5LU1NLWRkVEhIOm1tIHRvIHl5eXktTU0tZGRUSEg6bW06MDBcbiAgICBjYXNlICd0aW1lJzpcbiAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPT09IDUgPyB2YWx1ZSArICc6MDAnIDogdmFsdWU7IC8vIENvbnZlcnQgaGg6bW0gdG8gaGg6bW06MDBcbiAgICBjYXNlICd3ZWVrJzpcbiAgICAgIC8vIEZvciBub3cgd2UgYXJlIG5vdCBnb2luZyB0byBub3JtYWxpemUgaW5wdXQgdHlwZSB3ZWVrIGFzIGl0IGlzIG5vdCB0cml2aWFsXG4gICAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZWxlbWVudCB0eXBlICcke3R5cGV9Jy5gKTtcbn1cblxuLy8gVGhlIGZvbGxvd2luZyBpbnRlcmZhY2VzIG11c3QgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlIEV2ZW50QXJncyBDIyBjbGFzc2VzXG5cbmludGVyZmFjZSBDaGFuZ2VFdmVudEFyZ3Mge1xuICB2YWx1ZTogc3RyaW5nIHwgYm9vbGVhbiB8IHN0cmluZ1tdO1xufVxuXG5pbnRlcmZhY2UgRHJhZ0V2ZW50QXJncyB7XG4gIGRldGFpbDogbnVtYmVyO1xuICBkYXRhVHJhbnNmZXI6IERhdGFUcmFuc2ZlckV2ZW50QXJncyB8IG51bGw7XG4gIHNjcmVlblg6IG51bWJlcjtcbiAgc2NyZWVuWTogbnVtYmVyO1xuICBjbGllbnRYOiBudW1iZXI7XG4gIGNsaWVudFk6IG51bWJlcjtcbiAgYnV0dG9uOiBudW1iZXI7XG4gIGJ1dHRvbnM6IG51bWJlcjtcbiAgY3RybEtleTogYm9vbGVhbjtcbiAgc2hpZnRLZXk6IGJvb2xlYW47XG4gIGFsdEtleTogYm9vbGVhbjtcbiAgbWV0YUtleTogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIERhdGFUcmFuc2ZlckV2ZW50QXJncyB7XG4gIGRyb3BFZmZlY3Q6IHN0cmluZztcbiAgZWZmZWN0QWxsb3dlZDogc3RyaW5nO1xuICBmaWxlczogcmVhZG9ubHkgc3RyaW5nW107XG4gIGl0ZW1zOiByZWFkb25seSBEYXRhVHJhbnNmZXJJdGVtW107XG4gIHR5cGVzOiByZWFkb25seSBzdHJpbmdbXTtcbn1cblxuaW50ZXJmYWNlIERhdGFUcmFuc2Zlckl0ZW0ge1xuICBraW5kOiBzdHJpbmc7XG4gIHR5cGU6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEVycm9yRXZlbnRBcmdzIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBmaWxlbmFtZTogc3RyaW5nO1xuICBsaW5lbm86IG51bWJlcjtcbiAgY29sbm86IG51bWJlcjtcbiAgdHlwZTogc3RyaW5nO1xuXG4gIC8vIG9taXR0aW5nICdlcnJvcicgaGVyZSBzaW5jZSB3ZSdkIGhhdmUgdG8gc2VyaWFsaXplIGl0LCBhbmQgaXQncyBub3QgY2xlYXIgd2Ugd2lsbCB3YW50IHRvXG4gIC8vIGRvIHRoYXQuIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FcnJvckV2ZW50XG59XG5cbmludGVyZmFjZSBLZXlib2FyZEV2ZW50QXJncyB7XG4gIGtleTogc3RyaW5nO1xuICBjb2RlOiBzdHJpbmc7XG4gIGxvY2F0aW9uOiBudW1iZXI7XG4gIHJlcGVhdDogYm9vbGVhbjtcbiAgY3RybEtleTogYm9vbGVhbjtcbiAgc2hpZnRLZXk6IGJvb2xlYW47XG4gIGFsdEtleTogYm9vbGVhbjtcbiAgbWV0YUtleTogYm9vbGVhbjtcbiAgdHlwZTogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgTW91c2VFdmVudEFyZ3Mge1xuICBkZXRhaWw6IG51bWJlcjtcbiAgc2NyZWVuWDogbnVtYmVyO1xuICBzY3JlZW5ZOiBudW1iZXI7XG4gIGNsaWVudFg6IG51bWJlcjtcbiAgY2xpZW50WTogbnVtYmVyO1xuICBvZmZzZXRYOiBudW1iZXI7XG4gIG9mZnNldFk6IG51bWJlcjtcbiAgcGFnZVg6IG51bWJlcjtcbiAgcGFnZVk6IG51bWJlcjtcbiAgbW92ZW1lbnRYOiBudW1iZXI7XG4gIG1vdmVtZW50WTogbnVtYmVyO1xuICBidXR0b246IG51bWJlcjtcbiAgYnV0dG9uczogbnVtYmVyO1xuICBjdHJsS2V5OiBib29sZWFuO1xuICBzaGlmdEtleTogYm9vbGVhbjtcbiAgYWx0S2V5OiBib29sZWFuO1xuICBtZXRhS2V5OiBib29sZWFuO1xuICB0eXBlOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBQb2ludGVyRXZlbnRBcmdzIGV4dGVuZHMgTW91c2VFdmVudEFyZ3Mge1xuICBwb2ludGVySWQ6IG51bWJlcjtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIHByZXNzdXJlOiBudW1iZXI7XG4gIHRpbHRYOiBudW1iZXI7XG4gIHRpbHRZOiBudW1iZXI7XG4gIHBvaW50ZXJUeXBlOiBzdHJpbmc7XG4gIGlzUHJpbWFyeTogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIFByb2dyZXNzRXZlbnRBcmdzIHtcbiAgbGVuZ3RoQ29tcHV0YWJsZTogYm9vbGVhbjtcbiAgbG9hZGVkOiBudW1iZXI7XG4gIHRvdGFsOiBudW1iZXI7XG4gIHR5cGU6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFRvdWNoRXZlbnRBcmdzIHtcbiAgZGV0YWlsOiBudW1iZXI7XG4gIHRvdWNoZXM6IFRvdWNoUG9pbnRbXTtcbiAgdGFyZ2V0VG91Y2hlczogVG91Y2hQb2ludFtdO1xuICBjaGFuZ2VkVG91Y2hlczogVG91Y2hQb2ludFtdO1xuICBjdHJsS2V5OiBib29sZWFuO1xuICBzaGlmdEtleTogYm9vbGVhbjtcbiAgYWx0S2V5OiBib29sZWFuO1xuICBtZXRhS2V5OiBib29sZWFuO1xuICB0eXBlOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBUb3VjaFBvaW50IHtcbiAgaWRlbnRpZmllcjogbnVtYmVyO1xuICBzY3JlZW5YOiBudW1iZXI7XG4gIHNjcmVlblk6IG51bWJlcjtcbiAgY2xpZW50WDogbnVtYmVyO1xuICBjbGllbnRZOiBudW1iZXI7XG4gIHBhZ2VYOiBudW1iZXI7XG4gIHBhZ2VZOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBXaGVlbEV2ZW50QXJncyBleHRlbmRzIE1vdXNlRXZlbnRBcmdzIHtcbiAgZGVsdGFYOiBudW1iZXI7XG4gIGRlbHRhWTogbnVtYmVyO1xuICBkZWx0YVo6IG51bWJlcjtcbiAgZGVsdGFNb2RlOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBGb2N1c0V2ZW50QXJncyB7XG4gIHR5cGU6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIENsaXBib2FyZEV2ZW50QXJncyB7XG4gIHR5cGU6IHN0cmluZztcbn1cbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbmltcG9ydCB7IERvdE5ldCB9IGZyb20gJ0BtaWNyb3NvZnQvZG90bmV0LWpzLWludGVyb3AnO1xuXG5jb25zdCBwZW5kaW5nUm9vdENvbXBvbmVudENvbnRhaW5lck5hbWVQcmVmaXggPSAnX19ibC1keW5hbWljLXJvb3Q6JztcbmNvbnN0IHBlbmRpbmdSb290Q29tcG9uZW50Q29udGFpbmVycyA9IG5ldyBNYXA8c3RyaW5nLCBFbGVtZW50PigpO1xubGV0IG5leHRQZW5kaW5nRHluYW1pY1Jvb3RDb21wb25lbnRJZGVudGlmaWVyID0gMDtcblxudHlwZSBDb21wb25lbnRQYXJhbWV0ZXJzID0gb2JqZWN0IHwgbnVsbCB8IHVuZGVmaW5lZDtcblxubGV0IG1hbmFnZXI6IERvdE5ldC5Eb3ROZXRPYmplY3QgfCB1bmRlZmluZWQ7XG5sZXQganNDb21wb25lbnRQYXJhbWV0ZXJzQnlJZGVudGlmaWVyOiBKU0NvbXBvbmVudFBhcmFtZXRlcnNCeUlkZW50aWZpZXI7XG5cbi8vIFRoZXNlIGFyZSB0aGUgcHVibGljIEFQSXMgYXQgQmxhem9yLnJvb3RDb21wb25lbnRzLipcbmV4cG9ydCBjb25zdCBSb290Q29tcG9uZW50c0Z1bmN0aW9ucyA9IHtcbiAgYXN5bmMgYWRkKHRvRWxlbWVudDogRWxlbWVudCwgY29tcG9uZW50SWRlbnRpZmllcjogc3RyaW5nLCBpbml0aWFsUGFyYW1ldGVyczogQ29tcG9uZW50UGFyYW1ldGVycyk6IFByb21pc2U8RHluYW1pY1Jvb3RDb21wb25lbnQ+IHtcbiAgICBpZiAoIWluaXRpYWxQYXJhbWV0ZXJzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2luaXRpYWxQYXJhbWV0ZXJzIG11c3QgYmUgYW4gb2JqZWN0LCBldmVuIGlmIGVtcHR5LicpO1xuICAgIH1cblxuICAgIC8vIFRyYWNrIHRoZSBjb250YWluZXIgc28gd2UgY2FuIHVzZSBpdCB3aGVuIHRoZSBjb21wb25lbnQgZ2V0cyBhdHRhY2hlZCB0byB0aGUgZG9jdW1lbnQgdmlhIGEgc2VsZWN0b3JcbiAgICBjb25zdCBjb250YWluZXJJZGVudGlmaWVyID0gcGVuZGluZ1Jvb3RDb21wb25lbnRDb250YWluZXJOYW1lUHJlZml4ICsgKCsrbmV4dFBlbmRpbmdEeW5hbWljUm9vdENvbXBvbmVudElkZW50aWZpZXIpLnRvU3RyaW5nKCk7XG4gICAgcGVuZGluZ1Jvb3RDb21wb25lbnRDb250YWluZXJzLnNldChjb250YWluZXJJZGVudGlmaWVyLCB0b0VsZW1lbnQpO1xuXG4gICAgLy8gSW5zdHJ1Y3QgLk5FVCB0byBhZGQgYW5kIHJlbmRlciB0aGUgbmV3IHJvb3QgY29tcG9uZW50XG4gICAgY29uc3QgY29tcG9uZW50SWQgPSBhd2FpdCBnZXRSZXF1aXJlZE1hbmFnZXIoKS5pbnZva2VNZXRob2RBc3luYzxudW1iZXI+KCdBZGRSb290Q29tcG9uZW50JywgY29tcG9uZW50SWRlbnRpZmllciwgY29udGFpbmVySWRlbnRpZmllcik7XG4gICAgY29uc3QgY29tcG9uZW50ID0gbmV3IER5bmFtaWNSb290Q29tcG9uZW50KGNvbXBvbmVudElkLCBqc0NvbXBvbmVudFBhcmFtZXRlcnNCeUlkZW50aWZpZXJbY29tcG9uZW50SWRlbnRpZmllcl0pO1xuICAgIGF3YWl0IGNvbXBvbmVudC5zZXRQYXJhbWV0ZXJzKGluaXRpYWxQYXJhbWV0ZXJzKTtcbiAgICByZXR1cm4gY29tcG9uZW50O1xuICB9LFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFuZFJlbW92ZVBlbmRpbmdSb290Q29tcG9uZW50Q29udGFpbmVyKGNvbnRhaW5lcklkZW50aWZpZXI6IHN0cmluZyk6IEVsZW1lbnQgfCB1bmRlZmluZWQge1xuICBjb25zdCBjb250YWluZXIgPSBwZW5kaW5nUm9vdENvbXBvbmVudENvbnRhaW5lcnMuZ2V0KGNvbnRhaW5lcklkZW50aWZpZXIpO1xuICBpZiAoY29udGFpbmVyKSB7XG4gICAgcGVuZGluZ1Jvb3RDb21wb25lbnRDb250YWluZXJzLmRlbGV0ZShjb250YWluZXJJZGVudGlmaWVyKTtcbiAgICByZXR1cm4gY29udGFpbmVyO1xuICB9XG59XG5cbmNsYXNzIEV2ZW50Q2FsbGJhY2tXcmFwcGVyIHtcbiAgcHJpdmF0ZSBfY2FsbGJhY2s6IGFueTtcblxuICBwcml2YXRlIF9zZWxmSlNPYmplY3RSZWZlcmVuY2U6IHVua25vd247XG5cbiAgaW52b2tlKGFyZzogdW5rbm93bikge1xuICAgIHJldHVybiB0aGlzLl9jYWxsYmFjayhhcmcpO1xuICB9XG5cbiAgc2V0Q2FsbGJhY2soY2FsbGJhY2s6IHVua25vd24pOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuX3NlbGZKU09iamVjdFJlZmVyZW5jZSkge1xuICAgICAgdGhpcy5fc2VsZkpTT2JqZWN0UmVmZXJlbmNlID0gRG90TmV0LmNyZWF0ZUpTT2JqZWN0UmVmZXJlbmNlKHRoaXMpO1xuICAgIH1cblxuICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG4gIH1cblxuICBnZXRKU09iamVjdFJlZmVyZW5jZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VsZkpTT2JqZWN0UmVmZXJlbmNlO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICBpZiAodGhpcy5fc2VsZkpTT2JqZWN0UmVmZXJlbmNlKSB7XG4gICAgICBEb3ROZXQuZGlzcG9zZUpTT2JqZWN0UmVmZXJlbmNlKHRoaXMuX3NlbGZKU09iamVjdFJlZmVyZW5jZSk7XG4gICAgfVxuICB9XG59XG5cbmNsYXNzIER5bmFtaWNSb290Q29tcG9uZW50IHtcbiAgcHJpdmF0ZSBfY29tcG9uZW50SWQ6IG51bWJlciB8IG51bGw7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBfanNFdmVudENhbGxiYWNrV3JhcHBlcnMgPSBuZXcgTWFwPHN0cmluZywgRXZlbnRDYWxsYmFja1dyYXBwZXI+KCk7XG5cbiAgY29uc3RydWN0b3IoY29tcG9uZW50SWQ6IG51bWJlciwgcGFyYW1ldGVyczogSlNDb21wb25lbnRQYXJhbWV0ZXJbXSkge1xuICAgIHRoaXMuX2NvbXBvbmVudElkID0gY29tcG9uZW50SWQ7XG5cbiAgICBmb3IgKGNvbnN0IHBhcmFtZXRlciBvZiBwYXJhbWV0ZXJzKSB7XG4gICAgICBpZiAocGFyYW1ldGVyLnR5cGUgPT09ICdldmVudGNhbGxiYWNrJykge1xuICAgICAgICB0aGlzLl9qc0V2ZW50Q2FsbGJhY2tXcmFwcGVycy5zZXQocGFyYW1ldGVyLm5hbWUudG9Mb3dlckNhc2UoKSwgbmV3IEV2ZW50Q2FsbGJhY2tXcmFwcGVyKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldFBhcmFtZXRlcnMocGFyYW1ldGVyczogQ29tcG9uZW50UGFyYW1ldGVycykge1xuICAgIGNvbnN0IG1hcHBlZFBhcmFtZXRlcnMgPSB7fTtcbiAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMocGFyYW1ldGVycyB8fCB7fSk7XG4gICAgY29uc3QgcGFyYW1ldGVyQ291bnQgPSBlbnRyaWVzLmxlbmd0aDtcblxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGVudHJpZXMpIHtcbiAgICAgIGNvbnN0IGNhbGxiYWNrV3JhcHBlciA9IHRoaXMuX2pzRXZlbnRDYWxsYmFja1dyYXBwZXJzLmdldChrZXkudG9Mb3dlckNhc2UoKSk7XG5cbiAgICAgIGlmICghY2FsbGJhY2tXcmFwcGVyIHx8ICF2YWx1ZSkge1xuICAgICAgICBtYXBwZWRQYXJhbWV0ZXJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrV3JhcHBlci5zZXRDYWxsYmFjayh2YWx1ZSk7XG4gICAgICBtYXBwZWRQYXJhbWV0ZXJzW2tleV0gPSBjYWxsYmFja1dyYXBwZXIuZ2V0SlNPYmplY3RSZWZlcmVuY2UoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0UmVxdWlyZWRNYW5hZ2VyKCkuaW52b2tlTWV0aG9kQXN5bmMoJ1NldFJvb3RDb21wb25lbnRQYXJhbWV0ZXJzJywgdGhpcy5fY29tcG9uZW50SWQsIHBhcmFtZXRlckNvdW50LCBtYXBwZWRQYXJhbWV0ZXJzKTtcbiAgfVxuXG4gIGFzeW5jIGRpc3Bvc2UoKSB7XG4gICAgaWYgKHRoaXMuX2NvbXBvbmVudElkICE9PSBudWxsKSB7XG4gICAgICBhd2FpdCBnZXRSZXF1aXJlZE1hbmFnZXIoKS5pbnZva2VNZXRob2RBc3luYygnUmVtb3ZlUm9vdENvbXBvbmVudCcsIHRoaXMuX2NvbXBvbmVudElkKTtcbiAgICAgIHRoaXMuX2NvbXBvbmVudElkID0gbnVsbDsgLy8gRW5zdXJlIGl0IGNhbid0IGJlIHVzZWQgYWdhaW5cblxuICAgICAgZm9yIChjb25zdCBqc0V2ZW50Q2FsbGJhY2tXcmFwcGVyIG9mIHRoaXMuX2pzRXZlbnRDYWxsYmFja1dyYXBwZXJzLnZhbHVlcygpKSB7XG4gICAgICAgIGpzRXZlbnRDYWxsYmFja1dyYXBwZXIuZGlzcG9zZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBDYWxsZWQgYnkgdGhlIGZyYW1ld29ya1xuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZUpTUm9vdENvbXBvbmVudHMoXG4gIG1hbmFnZXJJbnN0YW5jZTogRG90TmV0LkRvdE5ldE9iamVjdCxcbiAganNDb21wb25lbnRQYXJhbWV0ZXJzOiBKU0NvbXBvbmVudFBhcmFtZXRlcnNCeUlkZW50aWZpZXIsXG4gIGpzQ29tcG9uZW50SW5pdGlhbGl6ZXJzOiBKU0NvbXBvbmVudElkZW50aWZpZXJzQnlJbml0aWFsaXplclxuKTogdm9pZCB7XG4gIGlmIChtYW5hZ2VyKSB7XG4gICAgLy8gVGhpcyB3aWxsIG9ubHkgaGFwcGVuIGluIHZlcnkgbm9uc3RhbmRhcmQgY2FzZXMgd2hlcmUgc29tZW9uZSBoYXMgbXVsdGlwbGUgaG9zdHMuXG4gICAgLy8gSXQncyB1cCB0byB0aGUgZGV2ZWxvcGVyIHRvIGVuc3VyZSB0aGF0IG9ubHkgb25lIG9mIHRoZW0gZW5hYmxlcyBkeW5hbWljIHJvb3QgY29tcG9uZW50cy5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0R5bmFtaWMgcm9vdCBjb21wb25lbnRzIGhhdmUgYWxyZWFkeSBiZWVuIGVuYWJsZWQuJyk7XG4gIH1cblxuICBtYW5hZ2VyID0gbWFuYWdlckluc3RhbmNlO1xuICBqc0NvbXBvbmVudFBhcmFtZXRlcnNCeUlkZW50aWZpZXIgPSBqc0NvbXBvbmVudFBhcmFtZXRlcnM7XG5cbiAgLy8gQ2FsbCB0aGUgcmVnaXN0ZXJlZCBpbml0aWFsaXplcnMuIFRoaXMgaXMgYW4gYXJiaXRyYXJ5IHN1YnNldCBvZiB0aGUgSlMgY29tcG9uZW50IHR5cGVzIHRoYXQgYXJlIHJlZ2lzdGVyZWRcbiAgLy8gb24gdGhlIC5ORVQgc2lkZSAtIGp1c3QgdGhvc2Ugb2YgdGhlbSB0aGF0IHJlcXVpcmUgc29tZSBKUy1zaWRlIGluaXRpYWxpemF0aW9uIChlLmcuLCB0byByZWdpc3RlciB0aGVtXG4gIC8vIGFzIGN1c3RvbSBlbGVtZW50cykuXG4gIGZvciAoY29uc3QgW2luaXRpYWxpemVySWRlbnRpZmllciwgY29tcG9uZW50SWRlbnRpZmllcnNdIG9mIE9iamVjdC5lbnRyaWVzKGpzQ29tcG9uZW50SW5pdGlhbGl6ZXJzKSkge1xuICAgIGNvbnN0IGluaXRpYWxpemVyRnVuYyA9IERvdE5ldC5maW5kSlNGdW5jdGlvbihpbml0aWFsaXplcklkZW50aWZpZXIsIDApIGFzIEpTQ29tcG9uZW50SW5pdGlhbGl6ZXJDYWxsYmFjaztcbiAgICBmb3IgKGNvbnN0IGNvbXBvbmVudElkZW50aWZpZXIgb2YgY29tcG9uZW50SWRlbnRpZmllcnMpIHtcbiAgICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBqc0NvbXBvbmVudFBhcmFtZXRlcnNbY29tcG9uZW50SWRlbnRpZmllcl07XG4gICAgICBpbml0aWFsaXplckZ1bmMoY29tcG9uZW50SWRlbnRpZmllciwgcGFyYW1ldGVycyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFJlcXVpcmVkTWFuYWdlcigpOiBEb3ROZXQuRG90TmV0T2JqZWN0IHtcbiAgaWYgKCFtYW5hZ2VyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdEeW5hbWljIHJvb3QgY29tcG9uZW50cyBoYXZlIG5vdCBiZWVuIGVuYWJsZWQgaW4gdGhpcyBhcHBsaWNhdGlvbi4nKTtcbiAgfVxuXG4gIHJldHVybiBtYW5hZ2VyO1xufVxuXG4vLyBLZWVwIGluIHN5bmMgd2l0aCBlcXVpdmFsZW50IGluIEpTQ29tcG9uZW50Q29uZmlndXJhdGlvblN0b3JlLmNzXG4vLyBUaGVzZSBhcmUgYW4gaW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsIG5vdCBleHBvc2VkIGluIHRoZSByZWdpc3RyYXRpb24gQVBJcy5cbmV4cG9ydCB0eXBlIEpTQ29tcG9uZW50UGFyYW1ldGVyc0J5SWRlbnRpZmllciA9IHsgW2lkZW50aWZpZXI6IHN0cmluZ106IEpTQ29tcG9uZW50UGFyYW1ldGVyW10gfTtcbmV4cG9ydCB0eXBlIEpTQ29tcG9uZW50SWRlbnRpZmllcnNCeUluaXRpYWxpemVyID0geyBbaW5pdGlhbGl6ZXI6IHN0cmluZ106IHN0cmluZ1tdIH07XG5cbi8vIFRoZSBmb2xsb3dpbmcgaXMgcHVibGljIEFQSVxuZXhwb3J0IGludGVyZmFjZSBKU0NvbXBvbmVudEluaXRpYWxpemVyQ2FsbGJhY2sge1xuICAoaWRlbnRpZmllcjogc3RyaW5nLCBwYXJhbWV0ZXJzOiBKU0NvbXBvbmVudFBhcmFtZXRlcltdKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBKU0NvbXBvbmVudFBhcmFtZXRlciB7XG4gIG5hbWU6IHN0cmluZztcbiAgdHlwZTogSlNDb21wb25lbnRQYXJhbWV0ZXJUeXBlO1xufVxuXG4vLyBKU09OLXByaW1pdGl2ZSB0eXBlcywgcGx1cyBmb3IgdGhvc2Ugd2hvc2UgLk5FVCBlcXVpdmFsZW50IGlzbid0IG51bGxhYmxlLCBhICc/JyB0byBpbmRpY2F0ZSBudWxsYWJpbGl0eVxuLy8gVGhpcyBhbGxvd3MgY3VzdG9tIGVsZW1lbnQgYXV0aG9ycyB0byBjb2VyY2UgYXR0cmlidXRlIHN0cmluZ3MgaW50byB0aGUgYXBwcm9wcmlhdGUgdHlwZVxuZXhwb3J0IHR5cGUgSlNDb21wb25lbnRQYXJhbWV0ZXJUeXBlID0gJ3N0cmluZycgfCAnYm9vbGVhbicgfCAnYm9vbGVhbj8nIHwgJ251bWJlcicgfCAnbnVtYmVyPycgfCAnb2JqZWN0JyB8ICdldmVudGNhbGxiYWNrJztcbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbmltcG9ydCB7IERvdE5ldCB9IGZyb20gJ0BtaWNyb3NvZnQvZG90bmV0LWpzLWludGVyb3AnO1xuaW1wb3J0IHsgRXZlbnREZXNjcmlwdG9yIH0gZnJvbSAnLi9FdmVudHMvRXZlbnREZWxlZ2F0b3InO1xuaW1wb3J0IHsgZW5hYmxlSlNSb290Q29tcG9uZW50cywgSlNDb21wb25lbnRQYXJhbWV0ZXJzQnlJZGVudGlmaWVyLCBKU0NvbXBvbmVudElkZW50aWZpZXJzQnlJbml0aWFsaXplciB9IGZyb20gJy4vSlNSb290Q29tcG9uZW50cyc7XG5cbmNvbnN0IGludGVyb3BNZXRob2RzQnlSZW5kZXJlcklkOiBEb3ROZXQuRG90TmV0T2JqZWN0W10gPSBbXTtcblxubGV0IHJlc29sdmVSZW5kZXJlckF0dGFjaGVkIDogKCkgPT4gdm9pZDtcblxuZXhwb3J0IGNvbnN0IHJlbmRlcmVyQXR0YWNoZWQgPSBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICByZXNvbHZlUmVuZGVyZXJBdHRhY2hlZCA9IHJlc29sdmU7XG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIGF0dGFjaFdlYlJlbmRlcmVySW50ZXJvcChcbiAgaW50ZXJvcE1ldGhvZHM6IERvdE5ldC5Eb3ROZXRPYmplY3QsXG4gIGpzQ29tcG9uZW50UGFyYW1ldGVyczogSlNDb21wb25lbnRQYXJhbWV0ZXJzQnlJZGVudGlmaWVyLFxuICBqc0NvbXBvbmVudEluaXRpYWxpemVyczogSlNDb21wb25lbnRJZGVudGlmaWVyc0J5SW5pdGlhbGl6ZXIsXG4pOiBudW1iZXIge1xuICBjb25zdCByZW5kZXJlcklkID0gaW50ZXJvcE1ldGhvZHNCeVJlbmRlcmVySWQubGVuZ3RoO1xuICBpbnRlcm9wTWV0aG9kc0J5UmVuZGVyZXJJZC5wdXNoKGludGVyb3BNZXRob2RzKTtcblxuICBpZiAoT2JqZWN0LmtleXMoanNDb21wb25lbnRQYXJhbWV0ZXJzKS5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgbWFuYWdlciA9IGdldEludGVyb3BNZXRob2RzKHJlbmRlcmVySWQpO1xuICAgIGVuYWJsZUpTUm9vdENvbXBvbmVudHMobWFuYWdlciwganNDb21wb25lbnRQYXJhbWV0ZXJzLCBqc0NvbXBvbmVudEluaXRpYWxpemVycyk7XG4gIH1cblxuICByZXNvbHZlUmVuZGVyZXJBdHRhY2hlZCgpO1xuICByZXR1cm4gcmVuZGVyZXJJZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoYnJvd3NlclJlbmRlcmVySWQ6IG51bWJlciwgZXZlbnREZXNjcmlwdG9yOiBFdmVudERlc2NyaXB0b3IsIGV2ZW50QXJnczogYW55KTogdm9pZCB7XG4gIHJldHVybiBkaXNwYXRjaEV2ZW50TWlkZGxld2FyZShicm93c2VyUmVuZGVyZXJJZCwgZXZlbnREZXNjcmlwdG9yLmV2ZW50SGFuZGxlcklkLCAoKSA9PiB7XG4gICAgY29uc3QgaW50ZXJvcE1ldGhvZHMgPSBnZXRJbnRlcm9wTWV0aG9kcyhicm93c2VyUmVuZGVyZXJJZCk7XG4gICAgcmV0dXJuIGludGVyb3BNZXRob2RzLmludm9rZU1ldGhvZEFzeW5jKCdEaXNwYXRjaEV2ZW50QXN5bmMnLCBldmVudERlc2NyaXB0b3IsIGV2ZW50QXJncyk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRJbnRlcm9wTWV0aG9kcyhyZW5kZXJlcklkOiBudW1iZXIpOiBEb3ROZXQuRG90TmV0T2JqZWN0IHtcbiAgY29uc3QgaW50ZXJvcE1ldGhvZHMgPSBpbnRlcm9wTWV0aG9kc0J5UmVuZGVyZXJJZFtyZW5kZXJlcklkXTtcbiAgaWYgKCFpbnRlcm9wTWV0aG9kcykge1xuICAgIHRocm93IG5ldyBFcnJvcihgTm8gaW50ZXJvcCBtZXRob2RzIGFyZSByZWdpc3RlcmVkIGZvciByZW5kZXJlciAke3JlbmRlcmVySWR9YCk7XG4gIH1cblxuICByZXR1cm4gaW50ZXJvcE1ldGhvZHM7XG59XG5cbi8vIE9uIHNvbWUgaG9zdGluZyBwbGF0Zm9ybXMsIHdlIG1heSBuZWVkIHRvIGRlZmVyIHRoZSBldmVudCBkaXNwYXRjaCwgc28gdGhleSBjYW4gcmVnaXN0ZXIgdGhpcyBtaWRkbGV3YXJlIHRvIGRvIHNvXG50eXBlIERpc3BhdGNoRXZlbnRNaWRkbHdhcmUgPSAoYnJvd3NlclJlbmRlcmVySWQ6IG51bWJlciwgZXZlbnRIYW5kbGVySWQ6IG51bWJlciwgY29udGludWF0aW9uOiAoKSA9PiB2b2lkKSA9PiB2b2lkO1xuXG5sZXQgZGlzcGF0Y2hFdmVudE1pZGRsZXdhcmU6IERpc3BhdGNoRXZlbnRNaWRkbHdhcmUgPSAoYnJvd3NlclJlbmRlcmVySWQsIGV2ZW50SGFuZGxlcklkLCBjb250aW51YXRpb24pID0+IGNvbnRpbnVhdGlvbigpO1xuZXhwb3J0IGZ1bmN0aW9uIGFkZERpc3BhdGNoRXZlbnRNaWRkbGV3YXJlKG1pZGRsZXdhcmU6IERpc3BhdGNoRXZlbnRNaWRkbHdhcmUpOiB2b2lkIHtcbiAgY29uc3QgbmV4dCA9IGRpc3BhdGNoRXZlbnRNaWRkbGV3YXJlO1xuICBkaXNwYXRjaEV2ZW50TWlkZGxld2FyZSA9IChicm93c2VyUmVuZGVyZXJJZCwgZXZlbnRIYW5kbGVySWQsIGNvbnRpbnVhdGlvbikgPT4ge1xuICAgIG1pZGRsZXdhcmUoYnJvd3NlclJlbmRlcmVySWQsIGV2ZW50SGFuZGxlcklkLCAoKSA9PiBuZXh0KGJyb3dzZXJSZW5kZXJlcklkLCBldmVudEhhbmRsZXJJZCwgY29udGludWF0aW9uKSk7XG4gIH07XG59XG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG5pbXBvcnQgeyBFdmVudEZpZWxkSW5mbyB9IGZyb20gJy4vRXZlbnRGaWVsZEluZm8nO1xuaW1wb3J0IHsgZXZlbnROYW1lQWxpYXNSZWdpc3RlcmVkQ2FsbGJhY2tzLCBnZXRCcm93c2VyRXZlbnROYW1lLCBnZXRFdmVudE5hbWVBbGlhc2VzLCBnZXRFdmVudFR5cGVPcHRpb25zIH0gZnJvbSAnLi9FdmVudFR5cGVzJztcbmltcG9ydCB7IGRpc3BhdGNoRXZlbnQgfSBmcm9tICcuLi9XZWJSZW5kZXJlckludGVyb3BNZXRob2RzJztcblxuY29uc3Qgbm9uQnViYmxpbmdFdmVudHMgPSB0b0xvb2t1cChbXG4gICdhYm9ydCcsXG4gICdibHVyJyxcbiAgJ2NhbnBsYXknLFxuICAnY2FucGxheXRocm91Z2gnLFxuICAnY2hhbmdlJyxcbiAgJ2N1ZWNoYW5nZScsXG4gICdkdXJhdGlvbmNoYW5nZScsXG4gICdlbXB0aWVkJyxcbiAgJ2VuZGVkJyxcbiAgJ2Vycm9yJyxcbiAgJ2ZvY3VzJyxcbiAgJ2xvYWQnLFxuICAnbG9hZGVkZGF0YScsXG4gICdsb2FkZWRtZXRhZGF0YScsXG4gICdsb2FkZW5kJyxcbiAgJ2xvYWRzdGFydCcsXG4gICdtb3VzZWVudGVyJyxcbiAgJ21vdXNlbGVhdmUnLFxuICAncG9pbnRlcmVudGVyJyxcbiAgJ3BvaW50ZXJsZWF2ZScsXG4gICdwYXVzZScsXG4gICdwbGF5JyxcbiAgJ3BsYXlpbmcnLFxuICAncHJvZ3Jlc3MnLFxuICAncmF0ZWNoYW5nZScsXG4gICdyZXNldCcsXG4gICdzY3JvbGwnLFxuICAnc2Vla2VkJyxcbiAgJ3NlZWtpbmcnLFxuICAnc3RhbGxlZCcsXG4gICdzdWJtaXQnLFxuICAnc3VzcGVuZCcsXG4gICd0aW1ldXBkYXRlJyxcbiAgJ3RvZ2dsZScsXG4gICd1bmxvYWQnLFxuICAndm9sdW1lY2hhbmdlJyxcbiAgJ3dhaXRpbmcnLFxuICAnRE9NTm9kZUluc2VydGVkSW50b0RvY3VtZW50JyxcbiAgJ0RPTU5vZGVSZW1vdmVkRnJvbURvY3VtZW50Jyxcbl0pO1xuXG5jb25zdCBhbHdheXNQcmV2ZW50RGVmYXVsdEV2ZW50czogeyBbZXZlbnRUeXBlOiBzdHJpbmddOiBib29sZWFuIH0gPSB7IHN1Ym1pdDogdHJ1ZSB9O1xuXG5jb25zdCBkaXNhYmxlYWJsZUV2ZW50TmFtZXMgPSB0b0xvb2t1cChbXG4gICdjbGljaycsXG4gICdkYmxjbGljaycsXG4gICdtb3VzZWRvd24nLFxuICAnbW91c2Vtb3ZlJyxcbiAgJ21vdXNldXAnLFxuXSk7XG5cbi8vIFJlc3BvbnNpYmxlIGZvciBhZGRpbmcvcmVtb3ZpbmcgdGhlIGV2ZW50SW5mbyBvbiBhbiBleHBhbmRvIHByb3BlcnR5IG9uIERPTSBlbGVtZW50cywgYW5kXG4vLyBjYWxsaW5nIGFuIEV2ZW50SW5mb1N0b3JlIHRoYXQgZGVhbHMgd2l0aCByZWdpc3RlcmluZy91bnJlZ2lzdGVyaW5nIHRoZSB1bmRlcmx5aW5nIGRlbGVnYXRlZFxuLy8gZXZlbnQgbGlzdGVuZXJzIGFzIHJlcXVpcmVkIChhbmQgYWxzbyBtYXBzIGFjdHVhbCBldmVudHMgYmFjayB0byB0aGUgZ2l2ZW4gY2FsbGJhY2spLlxuZXhwb3J0IGNsYXNzIEV2ZW50RGVsZWdhdG9yIHtcbiAgcHJpdmF0ZSBzdGF0aWMgbmV4dEV2ZW50RGVsZWdhdG9ySWQgPSAwO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgZXZlbnRzQ29sbGVjdGlvbktleTogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgYWZ0ZXJDbGlja0NhbGxiYWNrczogKChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZClbXSA9IFtdO1xuXG4gIHByaXZhdGUgZXZlbnRJbmZvU3RvcmU6IEV2ZW50SW5mb1N0b3JlO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgYnJvd3NlclJlbmRlcmVySWQ6IG51bWJlcikge1xuICAgIGNvbnN0IGV2ZW50RGVsZWdhdG9ySWQgPSArK0V2ZW50RGVsZWdhdG9yLm5leHRFdmVudERlbGVnYXRvcklkO1xuICAgIHRoaXMuZXZlbnRzQ29sbGVjdGlvbktleSA9IGBfYmxhem9yRXZlbnRzXyR7ZXZlbnREZWxlZ2F0b3JJZH1gO1xuICAgIHRoaXMuZXZlbnRJbmZvU3RvcmUgPSBuZXcgRXZlbnRJbmZvU3RvcmUodGhpcy5vbkdsb2JhbEV2ZW50LmJpbmQodGhpcykpO1xuICB9XG5cbiAgcHVibGljIHNldExpc3RlbmVyKGVsZW1lbnQ6IEVsZW1lbnQsIGV2ZW50TmFtZTogc3RyaW5nLCBldmVudEhhbmRsZXJJZDogbnVtYmVyLCByZW5kZXJpbmdDb21wb25lbnRJZDogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgaW5mb0ZvckVsZW1lbnQgPSB0aGlzLmdldEV2ZW50SGFuZGxlckluZm9zRm9yRWxlbWVudChlbGVtZW50LCB0cnVlKSE7XG4gICAgY29uc3QgZXhpc3RpbmdIYW5kbGVyID0gaW5mb0ZvckVsZW1lbnQuZ2V0SGFuZGxlcihldmVudE5hbWUpO1xuXG4gICAgaWYgKGV4aXN0aW5nSGFuZGxlcikge1xuICAgICAgLy8gV2UgY2FuIGNoZWFwbHkgdXBkYXRlIHRoZSBpbmZvIG9uIHRoZSBleGlzdGluZyBvYmplY3QgYW5kIGRvbid0IG5lZWQgYW55IG90aGVyIGhvdXNla2VlcGluZ1xuICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgYWxzbyB0YWtlcyBjYXJlIG9mIHVwZGF0aW5nIHRoZSBldmVudEhhbmRsZXJJZCBvbiB0aGUgZXhpc3RpbmcgaGFuZGxlciBvYmplY3RcbiAgICAgIHRoaXMuZXZlbnRJbmZvU3RvcmUudXBkYXRlKGV4aXN0aW5nSGFuZGxlci5ldmVudEhhbmRsZXJJZCwgZXZlbnRIYW5kbGVySWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBHbyB0aHJvdWdoIHRoZSB3aG9sZSBmbG93IHdoaWNoIG1pZ2h0IGludm9sdmUgcmVnaXN0ZXJpbmcgYSBuZXcgZ2xvYmFsIGhhbmRsZXJcbiAgICAgIGNvbnN0IG5ld0luZm8gPSB7IGVsZW1lbnQsIGV2ZW50TmFtZSwgZXZlbnRIYW5kbGVySWQsIHJlbmRlcmluZ0NvbXBvbmVudElkIH07XG4gICAgICB0aGlzLmV2ZW50SW5mb1N0b3JlLmFkZChuZXdJbmZvKTtcbiAgICAgIGluZm9Gb3JFbGVtZW50LnNldEhhbmRsZXIoZXZlbnROYW1lLCBuZXdJbmZvKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ2V0SGFuZGxlcihldmVudEhhbmRsZXJJZDogbnVtYmVyKTogRXZlbnRIYW5kbGVySW5mbyB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRJbmZvU3RvcmUuZ2V0KGV2ZW50SGFuZGxlcklkKTtcbiAgfVxuXG4gIHB1YmxpYyByZW1vdmVMaXN0ZW5lcihldmVudEhhbmRsZXJJZDogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gVGhpcyBtZXRob2QgZ2V0cyBjYWxsZWQgd2hlbmV2ZXIgdGhlIC5ORVQtc2lkZSBjb2RlIHJlcG9ydHMgdGhhdCBhIGNlcnRhaW4gZXZlbnQgaGFuZGxlclxuICAgIC8vIGhhcyBiZWVuIGRpc3Bvc2VkLiBIb3dldmVyIHdlIHdpbGwgYWxyZWFkeSBoYXZlIGRpc3Bvc2VkIHRoZSBpbmZvIGFib3V0IHRoYXQgaGFuZGxlciBpZlxuICAgIC8vIHRoZSBldmVudEhhbmRsZXJJZCBmb3IgdGhlIChlbGVtZW50LGV2ZW50TmFtZSkgcGFpciB3YXMgcmVwbGFjZWQgZHVyaW5nIGRpZmYgYXBwbGljYXRpb24uXG4gICAgY29uc3QgaW5mbyA9IHRoaXMuZXZlbnRJbmZvU3RvcmUucmVtb3ZlKGV2ZW50SGFuZGxlcklkKTtcbiAgICBpZiAoaW5mbykge1xuICAgICAgLy8gTG9va3MgbGlrZSB0aGlzIGV2ZW50IGhhbmRsZXIgd2Fzbid0IGFscmVhZHkgZGlzcG9zZWRcbiAgICAgIC8vIFJlbW92ZSB0aGUgYXNzb2NpYXRlZCBkYXRhIGZyb20gdGhlIERPTSBlbGVtZW50XG4gICAgICBjb25zdCBlbGVtZW50ID0gaW5mby5lbGVtZW50O1xuICAgICAgY29uc3QgZWxlbWVudEV2ZW50SW5mb3MgPSB0aGlzLmdldEV2ZW50SGFuZGxlckluZm9zRm9yRWxlbWVudChlbGVtZW50LCBmYWxzZSk7XG4gICAgICBpZiAoZWxlbWVudEV2ZW50SW5mb3MpIHtcbiAgICAgICAgZWxlbWVudEV2ZW50SW5mb3MucmVtb3ZlSGFuZGxlcihpbmZvLmV2ZW50TmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG5vdGlmeUFmdGVyQ2xpY2soY2FsbGJhY2s6IChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIC8vIFRoaXMgaXMgZXh0cmVtZWx5IHNwZWNpYWwtY2FzZS4gSXQncyBuZWVkZWQgc28gdGhhdCBuYXZpZ2F0aW9uIGxpbmsgY2xpY2sgaW50ZXJjZXB0aW9uXG4gICAgLy8gY2FuIGJlIHN1cmUgdG8gcnVuICphZnRlciogb3VyIHN5bnRoZXRpYyBidWJibGluZyBwcm9jZXNzLiBJZiBhIG5lZWQgYXJpc2VzLCB3ZSBjYW5cbiAgICAvLyBnZW5lcmFsaXNlIHRoaXMsIGJ1dCByaWdodCBub3cgaXQncyBhIHB1cmVseSBpbnRlcm5hbCBkZXRhaWwuXG4gICAgdGhpcy5hZnRlckNsaWNrQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHRoaXMuZXZlbnRJbmZvU3RvcmUuYWRkR2xvYmFsTGlzdGVuZXIoJ2NsaWNrJyk7IC8vIEVuc3VyZSB3ZSBhbHdheXMgbGlzdGVuIGZvciB0aGlzXG4gIH1cblxuICBwdWJsaWMgc2V0U3RvcFByb3BhZ2F0aW9uKGVsZW1lbnQ6IEVsZW1lbnQsIGV2ZW50TmFtZTogc3RyaW5nLCB2YWx1ZTogYm9vbGVhbik6IHZvaWQge1xuICAgIGNvbnN0IGluZm9Gb3JFbGVtZW50ID0gdGhpcy5nZXRFdmVudEhhbmRsZXJJbmZvc0ZvckVsZW1lbnQoZWxlbWVudCwgdHJ1ZSkhO1xuICAgIGluZm9Gb3JFbGVtZW50LnN0b3BQcm9wYWdhdGlvbihldmVudE5hbWUsIHZhbHVlKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRQcmV2ZW50RGVmYXVsdChlbGVtZW50OiBFbGVtZW50LCBldmVudE5hbWU6IHN0cmluZywgdmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBjb25zdCBpbmZvRm9yRWxlbWVudCA9IHRoaXMuZ2V0RXZlbnRIYW5kbGVySW5mb3NGb3JFbGVtZW50KGVsZW1lbnQsIHRydWUpITtcbiAgICBpbmZvRm9yRWxlbWVudC5wcmV2ZW50RGVmYXVsdChldmVudE5hbWUsIHZhbHVlKTtcbiAgfVxuXG4gIHByaXZhdGUgb25HbG9iYWxFdmVudChldnQ6IEV2ZW50KSB7XG4gICAgaWYgKCEoZXZ0LnRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWx3YXlzIGRpc3BhdGNoIHRvIGFueSBsaXN0ZW5lcnMgZm9yIHRoZSBvcmlnaW5hbCB1bmRlcmx5aW5nIGJyb3dzZXIgZXZlbnQgbmFtZVxuICAgIHRoaXMuZGlzcGF0Y2hHbG9iYWxFdmVudFRvQWxsRWxlbWVudHMoZXZ0LnR5cGUsIGV2dCk7XG5cbiAgICAvLyBJZiB0aGlzIGV2ZW50IG5hbWUgaGFzIGFsaWFzZXMsIGRpc3BhdGNoIGZvciB0aG9zZSBsaXN0ZW5lcnMgdG9vXG4gICAgY29uc3QgZXZlbnROYW1lQWxpYXNlcyA9IGdldEV2ZW50TmFtZUFsaWFzZXMoZXZ0LnR5cGUpO1xuICAgIGV2ZW50TmFtZUFsaWFzZXMgJiYgZXZlbnROYW1lQWxpYXNlcy5mb3JFYWNoKGFsaWFzID0+XG4gICAgICB0aGlzLmRpc3BhdGNoR2xvYmFsRXZlbnRUb0FsbEVsZW1lbnRzKGFsaWFzLCBldnQpKTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgbmF2aWdhdGlvbiBpbnRlcmNlcHRpb25cbiAgICBpZiAoZXZ0LnR5cGUgPT09ICdjbGljaycpIHtcbiAgICAgIHRoaXMuYWZ0ZXJDbGlja0NhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKGV2dCBhcyBNb3VzZUV2ZW50KSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBkaXNwYXRjaEdsb2JhbEV2ZW50VG9BbGxFbGVtZW50cyhldmVudE5hbWU6IHN0cmluZywgYnJvd3NlckV2ZW50OiBFdmVudCkge1xuICAgIC8vIE5vdGUgdGhhdCAnZXZlbnROYW1lJyBjYW4gYmUgYW4gYWxpYXMuIEZvciBleGFtcGxlLCBldmVudE5hbWUgbWF5IGJlICdjbGljay5zcGVjaWFsJ1xuICAgIC8vIHdoaWxlIGJyb3dzZXJFdmVudC50eXBlIG1heSBiZSAnY2xpY2snLlxuXG4gICAgLy8gVXNlIHRoZSBldmVudCdzICdwYXRoJyByYXRoZXIgdGhhbiB0aGUgY2hhaW4gb2YgcGFyZW50IG5vZGVzLCBzaW5jZSB0aGUgcGF0aCBnaXZlc1xuICAgIC8vIHZpc2liaWxpdHkgaW50byBzaGFkb3cgcm9vdHMuXG4gICAgY29uc3QgcGF0aCA9IGJyb3dzZXJFdmVudC5jb21wb3NlZFBhdGgoKTtcblxuICAgIC8vIFNjYW4gdXAgdGhlIGVsZW1lbnQgaGllcmFyY2h5LCBsb29raW5nIGZvciBhbnkgbWF0Y2hpbmcgcmVnaXN0ZXJlZCBldmVudCBoYW5kbGVyc1xuICAgIGxldCBjYW5kaWRhdGVFdmVudFRhcmdldCA9IHBhdGguc2hpZnQoKTtcbiAgICBsZXQgZXZlbnRBcmdzOiB1bmtub3duID0gbnVsbDsgLy8gUG9wdWxhdGUgbGF6aWx5XG4gICAgbGV0IGV2ZW50QXJnc0lzUG9wdWxhdGVkID0gZmFsc2U7XG4gICAgY29uc3QgZXZlbnRJc05vbkJ1YmJsaW5nID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5vbkJ1YmJsaW5nRXZlbnRzLCBldmVudE5hbWUpO1xuICAgIGxldCBzdG9wUHJvcGFnYXRpb25XYXNSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICB3aGlsZSAoY2FuZGlkYXRlRXZlbnRUYXJnZXQpIHtcbiAgICAgIGNvbnN0IGNhbmRpZGF0ZUVsZW1lbnQgPSBjYW5kaWRhdGVFdmVudFRhcmdldCBhcyBFbGVtZW50O1xuICAgICAgY29uc3QgaGFuZGxlckluZm9zID0gdGhpcy5nZXRFdmVudEhhbmRsZXJJbmZvc0ZvckVsZW1lbnQoY2FuZGlkYXRlRWxlbWVudCwgZmFsc2UpO1xuICAgICAgaWYgKGhhbmRsZXJJbmZvcykge1xuICAgICAgICBjb25zdCBoYW5kbGVySW5mbyA9IGhhbmRsZXJJbmZvcy5nZXRIYW5kbGVyKGV2ZW50TmFtZSk7XG4gICAgICAgIGlmIChoYW5kbGVySW5mbyAmJiAhZXZlbnRJc0Rpc2FibGVkT25FbGVtZW50KGNhbmRpZGF0ZUVsZW1lbnQsIGJyb3dzZXJFdmVudC50eXBlKSkge1xuICAgICAgICAgIC8vIFdlIGFyZSBnb2luZyB0byByYWlzZSBhbiBldmVudCBmb3IgdGhpcyBlbGVtZW50LCBzbyBwcmVwYXJlIGluZm8gbmVlZGVkIGJ5IHRoZSAuTkVUIGNvZGVcbiAgICAgICAgICBpZiAoIWV2ZW50QXJnc0lzUG9wdWxhdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBldmVudE9wdGlvbnNJZlJlZ2lzdGVyZWQgPSBnZXRFdmVudFR5cGVPcHRpb25zKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICAvLyBGb3IgYmFjay1jb21wYXQsIGlmIHRoZXJlJ3Mgbm8gcmVnaXN0ZXJlZCBjcmVhdGVFdmVudEFyZ3MsIHdlIHN1cHBseSBlbXB0eSBldmVudCBhcmdzIChub3QgbnVsbCkuXG4gICAgICAgICAgICAvLyBCdXQgaWYgdGhlcmUgaXMgYSByZWdpc3RlcmVkIGNyZWF0ZUV2ZW50QXJncywgaXQgY2FuIHN1cHBseSBhbnl0aGluZyAoaW5jbHVkaW5nIG51bGwpLlxuICAgICAgICAgICAgZXZlbnRBcmdzID0gZXZlbnRPcHRpb25zSWZSZWdpc3RlcmVkPy5jcmVhdGVFdmVudEFyZ3NcbiAgICAgICAgICAgICAgPyBldmVudE9wdGlvbnNJZlJlZ2lzdGVyZWQuY3JlYXRlRXZlbnRBcmdzKGJyb3dzZXJFdmVudClcbiAgICAgICAgICAgICAgOiB7fTtcbiAgICAgICAgICAgIGV2ZW50QXJnc0lzUG9wdWxhdGVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBGb3IgY2VydGFpbiBidWlsdC1pbiBldmVudHMsIGhhdmluZyBhbnkgLk5FVCBoYW5kbGVyIGltcGxpY2l0bHkgbWVhbnMgd2Ugd2lsbCBwcmV2ZW50XG4gICAgICAgICAgLy8gdGhlIGJyb3dzZXIncyBkZWZhdWx0IGJlaGF2aW9yLiBUaGlzIGhhcyB0byBiZSBiYXNlZCBvbiB0aGUgb3JpZ2luYWwgYnJvd3NlciBldmVudCB0eXBlIG5hbWUsXG4gICAgICAgICAgLy8gbm90IGFueSBhbGlhcyAoZS5nLiwgaWYgeW91IGNyZWF0ZSBhIGN1c3RvbSAnc3VibWl0JyB2YXJpYW50LCBpdCBzaG91bGQgc3RpbGwgcHJldmVudERlZmF1bHQpLlxuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYWx3YXlzUHJldmVudERlZmF1bHRFdmVudHMsIGJyb3dzZXJFdmVudC50eXBlKSkge1xuICAgICAgICAgICAgYnJvd3NlckV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGlzcGF0Y2hFdmVudCh0aGlzLmJyb3dzZXJSZW5kZXJlcklkLCB7XG4gICAgICAgICAgICBldmVudEhhbmRsZXJJZDogaGFuZGxlckluZm8uZXZlbnRIYW5kbGVySWQsXG4gICAgICAgICAgICBldmVudE5hbWU6IGV2ZW50TmFtZSxcbiAgICAgICAgICAgIGV2ZW50RmllbGRJbmZvOiBFdmVudEZpZWxkSW5mby5mcm9tRXZlbnQoaGFuZGxlckluZm8ucmVuZGVyaW5nQ29tcG9uZW50SWQsIGJyb3dzZXJFdmVudCksXG4gICAgICAgICAgfSwgZXZlbnRBcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYW5kbGVySW5mb3Muc3RvcFByb3BhZ2F0aW9uKGV2ZW50TmFtZSkpIHtcbiAgICAgICAgICBzdG9wUHJvcGFnYXRpb25XYXNSZXF1ZXN0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhbmRsZXJJbmZvcy5wcmV2ZW50RGVmYXVsdChldmVudE5hbWUpKSB7XG4gICAgICAgICAgYnJvd3NlckV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2FuZGlkYXRlRXZlbnRUYXJnZXQgPSAoZXZlbnRJc05vbkJ1YmJsaW5nIHx8IHN0b3BQcm9wYWdhdGlvbldhc1JlcXVlc3RlZCkgPyB1bmRlZmluZWQgOiBwYXRoLnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRFdmVudEhhbmRsZXJJbmZvc0ZvckVsZW1lbnQoZWxlbWVudDogRWxlbWVudCwgY3JlYXRlSWZOZWVkZWQ6IGJvb2xlYW4pOiBFdmVudEhhbmRsZXJJbmZvc0ZvckVsZW1lbnQgfCBudWxsIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGVsZW1lbnQsIHRoaXMuZXZlbnRzQ29sbGVjdGlvbktleSkpIHtcbiAgICAgIHJldHVybiBlbGVtZW50W3RoaXMuZXZlbnRzQ29sbGVjdGlvbktleV07XG4gICAgfSBlbHNlIGlmIChjcmVhdGVJZk5lZWRlZCkge1xuICAgICAgcmV0dXJuIChlbGVtZW50W3RoaXMuZXZlbnRzQ29sbGVjdGlvbktleV0gPSBuZXcgRXZlbnRIYW5kbGVySW5mb3NGb3JFbGVtZW50KCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuLy8gUmVzcG9uc2libGUgZm9yIGFkZGluZyBhbmQgcmVtb3ZpbmcgdGhlIGdsb2JhbCBsaXN0ZW5lciB3aGVuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzXG4vLyBmb3IgYSBnaXZlbiBldmVudCBuYW1lIGNoYW5nZXMgYmV0d2VlbiB6ZXJvIGFuZCBub256ZXJvXG5jbGFzcyBFdmVudEluZm9TdG9yZSB7XG4gIHByaXZhdGUgaW5mb3NCeUV2ZW50SGFuZGxlcklkOiB7IFtldmVudEhhbmRsZXJJZDogbnVtYmVyXTogRXZlbnRIYW5kbGVySW5mbyB9ID0ge307XG5cbiAgcHJpdmF0ZSBjb3VudEJ5RXZlbnROYW1lOiB7IFtldmVudE5hbWU6IHN0cmluZ106IG51bWJlciB9ID0ge307XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBnbG9iYWxMaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcikge1xuICAgIGV2ZW50TmFtZUFsaWFzUmVnaXN0ZXJlZENhbGxiYWNrcy5wdXNoKHRoaXMuaGFuZGxlRXZlbnROYW1lQWxpYXNBZGRlZC5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIHB1YmxpYyBhZGQoaW5mbzogRXZlbnRIYW5kbGVySW5mbykge1xuICAgIGlmICh0aGlzLmluZm9zQnlFdmVudEhhbmRsZXJJZFtpbmZvLmV2ZW50SGFuZGxlcklkXSkge1xuICAgICAgLy8gU2hvdWxkIG5ldmVyIGhhcHBlbiwgYnV0IHdlIHdhbnQgdG8ga25vdyBpZiBpdCBkb2VzXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEV2ZW50ICR7aW5mby5ldmVudEhhbmRsZXJJZH0gaXMgYWxyZWFkeSB0cmFja2VkYCk7XG4gICAgfVxuXG4gICAgdGhpcy5pbmZvc0J5RXZlbnRIYW5kbGVySWRbaW5mby5ldmVudEhhbmRsZXJJZF0gPSBpbmZvO1xuXG4gICAgdGhpcy5hZGRHbG9iYWxMaXN0ZW5lcihpbmZvLmV2ZW50TmFtZSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0KGV2ZW50SGFuZGxlcklkOiBudW1iZXIpIHtcbiAgICByZXR1cm4gdGhpcy5pbmZvc0J5RXZlbnRIYW5kbGVySWRbZXZlbnRIYW5kbGVySWRdO1xuICB9XG5cbiAgcHVibGljIGFkZEdsb2JhbExpc3RlbmVyKGV2ZW50TmFtZTogc3RyaW5nKSB7XG4gICAgLy8gSWYgdGhpcyBldmVudCBuYW1lIGlzIGFuIGFsaWFzLCB1cGRhdGUgdGhlIGdsb2JhbCBsaXN0ZW5lciBmb3IgdGhlIGNvcnJlc3BvbmRpbmcgYnJvd3NlciBldmVudFxuICAgIGV2ZW50TmFtZSA9IGdldEJyb3dzZXJFdmVudE5hbWUoZXZlbnROYW1lKTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jb3VudEJ5RXZlbnROYW1lLCBldmVudE5hbWUpKSB7XG4gICAgICB0aGlzLmNvdW50QnlFdmVudE5hbWVbZXZlbnROYW1lXSsrO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvdW50QnlFdmVudE5hbWVbZXZlbnROYW1lXSA9IDE7XG5cbiAgICAgIC8vIFRvIG1ha2UgZGVsZWdhdGlvbiB3b3JrIHdpdGggbm9uLWJ1YmJsaW5nIGV2ZW50cywgcmVnaXN0ZXIgYSAnY2FwdHVyZScgbGlzdGVuZXIuXG4gICAgICAvLyBXZSBwcmVzZXJ2ZSB0aGUgbm9uLWJ1YmJsaW5nIGJlaGF2aW9yIGJ5IG9ubHkgZGlzcGF0Y2hpbmcgc3VjaCBldmVudHMgdG8gdGhlIHRhcmdldGVkIGVsZW1lbnQuXG4gICAgICBjb25zdCB1c2VDYXB0dXJlID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5vbkJ1YmJsaW5nRXZlbnRzLCBldmVudE5hbWUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHRoaXMuZ2xvYmFsTGlzdGVuZXIsIHVzZUNhcHR1cmUpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGUob2xkRXZlbnRIYW5kbGVySWQ6IG51bWJlciwgbmV3RXZlbnRIYW5kbGVySWQ6IG51bWJlcikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5pbmZvc0J5RXZlbnRIYW5kbGVySWQsIG5ld0V2ZW50SGFuZGxlcklkKSkge1xuICAgICAgLy8gU2hvdWxkIG5ldmVyIGhhcHBlbiwgYnV0IHdlIHdhbnQgdG8ga25vdyBpZiBpdCBkb2VzXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEV2ZW50ICR7bmV3RXZlbnRIYW5kbGVySWR9IGlzIGFscmVhZHkgdHJhY2tlZGApO1xuICAgIH1cblxuICAgIC8vIFNpbmNlIHdlJ3JlIGp1c3QgdXBkYXRpbmcgdGhlIGV2ZW50IGhhbmRsZXIgSUQsIHRoZXJlJ3Mgbm8gbmVlZCB0byB1cGRhdGUgdGhlIGdsb2JhbCBjb3VudHNcbiAgICBjb25zdCBpbmZvID0gdGhpcy5pbmZvc0J5RXZlbnRIYW5kbGVySWRbb2xkRXZlbnRIYW5kbGVySWRdO1xuICAgIGRlbGV0ZSB0aGlzLmluZm9zQnlFdmVudEhhbmRsZXJJZFtvbGRFdmVudEhhbmRsZXJJZF07XG4gICAgaW5mby5ldmVudEhhbmRsZXJJZCA9IG5ld0V2ZW50SGFuZGxlcklkO1xuICAgIHRoaXMuaW5mb3NCeUV2ZW50SGFuZGxlcklkW25ld0V2ZW50SGFuZGxlcklkXSA9IGluZm87XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlKGV2ZW50SGFuZGxlcklkOiBudW1iZXIpOiBFdmVudEhhbmRsZXJJbmZvIHtcbiAgICBjb25zdCBpbmZvID0gdGhpcy5pbmZvc0J5RXZlbnRIYW5kbGVySWRbZXZlbnRIYW5kbGVySWRdO1xuICAgIGlmIChpbmZvKSB7XG4gICAgICBkZWxldGUgdGhpcy5pbmZvc0J5RXZlbnRIYW5kbGVySWRbZXZlbnRIYW5kbGVySWRdO1xuXG4gICAgICAvLyBJZiB0aGlzIGV2ZW50IG5hbWUgaXMgYW4gYWxpYXMsIHVwZGF0ZSB0aGUgZ2xvYmFsIGxpc3RlbmVyIGZvciB0aGUgY29ycmVzcG9uZGluZyBicm93c2VyIGV2ZW50XG4gICAgICBjb25zdCBldmVudE5hbWUgPSBnZXRCcm93c2VyRXZlbnROYW1lKGluZm8uZXZlbnROYW1lKTtcblxuICAgICAgaWYgKC0tdGhpcy5jb3VudEJ5RXZlbnROYW1lW2V2ZW50TmFtZV0gPT09IDApIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuY291bnRCeUV2ZW50TmFtZVtldmVudE5hbWVdO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgdGhpcy5nbG9iYWxMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZm87XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUV2ZW50TmFtZUFsaWFzQWRkZWQoYWxpYXNFdmVudE5hbWUsIGJyb3dzZXJFdmVudE5hbWUpIHtcbiAgICAvLyBJZiBhbiBldmVudCBuYW1lIGFsaWFzIGdldHMgcmVnaXN0ZXJlZCBsYXRlciwgd2UgbmVlZCB0byB1cGRhdGUgdGhlIGdsb2JhbCBsaXN0ZW5lclxuICAgIC8vIHJlZ2lzdHJhdGlvbnMgdG8gbWF0Y2guIFRoaXMgbWFrZXMgaXQgZXF1aXZhbGVudCB0byB0aGUgYWxpYXMgaGF2aW5nIGJlZW4gcmVnaXN0ZXJlZFxuICAgIC8vIGJlZm9yZSB0aGUgZWxlbWVudHMgd2l0aCBldmVudCBoYW5kbGVycyBnb3QgcmVuZGVyZWQuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmNvdW50QnlFdmVudE5hbWUsIGFsaWFzRXZlbnROYW1lKSkge1xuICAgICAgLy8gRGVsZXRlIG9sZFxuICAgICAgY29uc3QgY291bnRCeUFsaWFzRXZlbnROYW1lID0gdGhpcy5jb3VudEJ5RXZlbnROYW1lW2FsaWFzRXZlbnROYW1lXTtcbiAgICAgIGRlbGV0ZSB0aGlzLmNvdW50QnlFdmVudE5hbWVbYWxpYXNFdmVudE5hbWVdO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhbGlhc0V2ZW50TmFtZSwgdGhpcy5nbG9iYWxMaXN0ZW5lcik7XG5cbiAgICAgIC8vIEVuc3VyZSBjb3JyZXNwb25kaW5nIGNvdW50IGlzIGFkZGVkIHRvIG5ld1xuICAgICAgdGhpcy5hZGRHbG9iYWxMaXN0ZW5lcihicm93c2VyRXZlbnROYW1lKTtcbiAgICAgIHRoaXMuY291bnRCeUV2ZW50TmFtZVticm93c2VyRXZlbnROYW1lXSArPSBjb3VudEJ5QWxpYXNFdmVudE5hbWUgLSAxO1xuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBFdmVudEhhbmRsZXJJbmZvc0ZvckVsZW1lbnQge1xuICAvLyBBbHRob3VnaCB3ZSAqY291bGQqIHRyYWNrIG11bHRpcGxlIGV2ZW50IGhhbmRsZXJzIHBlciAoZWxlbWVudCwgZXZlbnROYW1lKSBwYWlyXG4gIC8vIChzaW5jZSB0aGV5IGhhdmUgZGlzdGluY3QgZXZlbnRIYW5kbGVySWQgdmFsdWVzKSwgdGhlcmUncyBubyBwb2ludCBkb2luZyBzbyBiZWNhdXNlXG4gIC8vIG91ciBwcm9ncmFtbWluZyBtb2RlbCBpcyB0aGF0IHlvdSBkZWNsYXJlIGV2ZW50IGhhbmRsZXJzIGFzIGF0dHJpYnV0ZXMuIEFuIGVsZW1lbnRcbiAgLy8gY2FuIG9ubHkgaGF2ZSBvbmUgYXR0cmlidXRlIHdpdGggYSBnaXZlbiBuYW1lLCBoZW5jZSBvbmx5IG9uZSBldmVudCBoYW5kbGVyIHdpdGhcbiAgLy8gdGhhdCBuYW1lIGF0IGFueSBvbmUgdGltZS5cbiAgLy8gU28gdG8ga2VlcCB0aGluZ3Mgc2ltcGxlLCBvbmx5IHRyYWNrIG9uZSBFdmVudEhhbmRsZXJJbmZvIHBlciAoZWxlbWVudCwgZXZlbnROYW1lKVxuICBwcml2YXRlIGhhbmRsZXJzOiB7IFtldmVudE5hbWU6IHN0cmluZ106IEV2ZW50SGFuZGxlckluZm8gfSA9IHt9O1xuXG4gIHByaXZhdGUgcHJldmVudERlZmF1bHRGbGFnczogeyBbZXZlbnROYW1lOiBzdHJpbmddOiBib29sZWFuIH0gfCBudWxsID0gbnVsbDtcblxuICBwcml2YXRlIHN0b3BQcm9wYWdhdGlvbkZsYWdzOiB7IFtldmVudE5hbWU6IHN0cmluZ106IGJvb2xlYW4gfSB8IG51bGwgPSBudWxsO1xuXG4gIHB1YmxpYyBnZXRIYW5kbGVyKGV2ZW50TmFtZTogc3RyaW5nKTogRXZlbnRIYW5kbGVySW5mbyB8IG51bGwge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5oYW5kbGVycywgZXZlbnROYW1lKSA/IHRoaXMuaGFuZGxlcnNbZXZlbnROYW1lXSA6IG51bGw7XG4gIH1cblxuICBwdWJsaWMgc2V0SGFuZGxlcihldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogRXZlbnRIYW5kbGVySW5mbykge1xuICAgIHRoaXMuaGFuZGxlcnNbZXZlbnROYW1lXSA9IGhhbmRsZXI7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlSGFuZGxlcihldmVudE5hbWU6IHN0cmluZykge1xuICAgIGRlbGV0ZSB0aGlzLmhhbmRsZXJzW2V2ZW50TmFtZV07XG4gIH1cblxuICBwdWJsaWMgcHJldmVudERlZmF1bHQoZXZlbnROYW1lOiBzdHJpbmcsIHNldFZhbHVlPzogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgIGlmIChzZXRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnByZXZlbnREZWZhdWx0RmxhZ3MgPSB0aGlzLnByZXZlbnREZWZhdWx0RmxhZ3MgfHwge307XG4gICAgICB0aGlzLnByZXZlbnREZWZhdWx0RmxhZ3NbZXZlbnROYW1lXSA9IHNldFZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnByZXZlbnREZWZhdWx0RmxhZ3MgPyB0aGlzLnByZXZlbnREZWZhdWx0RmxhZ3NbZXZlbnROYW1lXSA6IGZhbHNlO1xuICB9XG5cbiAgcHVibGljIHN0b3BQcm9wYWdhdGlvbihldmVudE5hbWU6IHN0cmluZywgc2V0VmFsdWU/OiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgaWYgKHNldFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uRmxhZ3MgPSB0aGlzLnN0b3BQcm9wYWdhdGlvbkZsYWdzIHx8IHt9O1xuICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb25GbGFnc1tldmVudE5hbWVdID0gc2V0VmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RvcFByb3BhZ2F0aW9uRmxhZ3MgPyB0aGlzLnN0b3BQcm9wYWdhdGlvbkZsYWdzW2V2ZW50TmFtZV0gOiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50RGVzY3JpcHRvciB7XG4gIGV2ZW50SGFuZGxlcklkOiBudW1iZXI7XG4gIGV2ZW50TmFtZTogc3RyaW5nO1xuICBldmVudEZpZWxkSW5mbzogRXZlbnRGaWVsZEluZm8gfCBudWxsO1xufVxuXG5pbnRlcmZhY2UgRXZlbnRIYW5kbGVySW5mbyB7XG4gIGVsZW1lbnQ6IEVsZW1lbnQ7XG4gIGV2ZW50TmFtZTogc3RyaW5nO1xuICBldmVudEhhbmRsZXJJZDogbnVtYmVyO1xuXG4gIC8vIFRoZSBjb21wb25lbnQgd2hvc2UgdHJlZSBpbmNsdWRlcyB0aGUgZXZlbnQgaGFuZGxlciBhdHRyaWJ1dGUgZnJhbWUsICpub3QqIG5lY2Vzc2FyaWx5IHRoZVxuICAvLyBzYW1lIGNvbXBvbmVudCB0aGF0IHdpbGwgYmUgcmUtcmVuZGVyZWQgYWZ0ZXIgdGhlIGV2ZW50IGlzIGhhbmRsZWQgKHNpbmNlIHdlIHJlLXJlbmRlciB0aGVcbiAgLy8gY29tcG9uZW50IHRoYXQgc3VwcGxpZWQgdGhlIGRlbGVnYXRlLCBub3QgdGhlIG9uZSB0aGF0IHJlbmRlcmVkIHRoZSBldmVudCBoYW5kbGVyIGZyYW1lKVxuICByZW5kZXJpbmdDb21wb25lbnRJZDogbnVtYmVyO1xufVxuXG5mdW5jdGlvbiB0b0xvb2t1cChpdGVtczogc3RyaW5nW10pOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBpdGVtcy5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICByZXN1bHRbdmFsdWVdID0gdHJ1ZTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGV2ZW50SXNEaXNhYmxlZE9uRWxlbWVudChlbGVtZW50OiBFbGVtZW50LCByYXdCcm93c2VyRXZlbnROYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgLy8gV2Ugd2FudCB0byByZXBsaWNhdGUgdGhlIG5vcm1hbCBET00gZXZlbnQgYmVoYXZpb3IgdGhhdCwgZm9yICdpbnRlcmFjdGl2ZScgZWxlbWVudHNcbiAgLy8gd2l0aCBhICdkaXNhYmxlZCcgYXR0cmlidXRlLCBjZXJ0YWluIG1vdXNlIGV2ZW50cyBhcmUgc3VwcHJlc3NlZFxuICByZXR1cm4gKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MQnV0dG9uRWxlbWVudCB8fCBlbGVtZW50IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCB8fCBlbGVtZW50IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudCB8fCBlbGVtZW50IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQpXG4gICAgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRpc2FibGVhYmxlRXZlbnROYW1lcywgcmF3QnJvd3NlckV2ZW50TmFtZSlcbiAgICAmJiBlbGVtZW50LmRpc2FibGVkO1xufVxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuLypcbiAgQSBMb2dpY2FsRWxlbWVudCBwbGF5cyB0aGUgc2FtZSByb2xlIGFzIGFuIEVsZW1lbnQgaW5zdGFuY2UgZnJvbSB0aGUgcG9pbnQgb2YgdmlldyBvZiB0aGVcbiAgQVBJIGNvbnN1bWVyLiBJbnNlcnRpbmcgYW5kIHJlbW92aW5nIGxvZ2ljYWwgZWxlbWVudHMgdXBkYXRlcyB0aGUgYnJvd3NlciBET00ganVzdCB0aGUgc2FtZS5cblxuICBUaGUgZGlmZmVyZW5jZSBpcyB0aGF0LCB1bmxpa2UgcmVndWxhciBET00gbXV0YXRpb24gQVBJcywgdGhlIExvZ2ljYWxFbGVtZW50IEFQSXMgZG9uJ3QgdXNlXG4gIHRoZSB1bmRlcmx5aW5nIERPTSBzdHJ1Y3R1cmUgYXMgdGhlIGRhdGEgc3RvcmFnZSBmb3IgdGhlIGVsZW1lbnQgaGllcmFyY2h5LiBJbnN0ZWFkLCB0aGVcbiAgTG9naWNhbEVsZW1lbnQgQVBJcyB0YWtlIGNhcmUgb2YgdHJhY2tpbmcgaGllcmFyY2hpY2FsIHJlbGF0aW9uc2hpcHMgc2VwYXJhdGVseS4gVGhlIHBvaW50XG4gIG9mIHRoaXMgaXMgdG8gcGVybWl0IGEgbG9naWNhbCB0cmVlIHN0cnVjdHVyZSBpbiB3aGljaCBwYXJlbnQvY2hpbGQgcmVsYXRpb25zaGlwcyBkb24ndFxuICBoYXZlIHRvIGJlIG1hdGVyaWFsaXplZCBpbiB0ZXJtcyBvZiBET00gZWxlbWVudCBwYXJlbnQvY2hpbGQgcmVsYXRpb25zaGlwcy4gQW5kIHRoZSByZWFzb25cbiAgd2h5IHdlIHdhbnQgdGhhdCBpcyBzbyB0aGF0IGhpZXJhcmNoaWVzIG9mIFJhem9yIGNvbXBvbmVudHMgY2FuIGJlIHRyYWNrZWQgZXZlbiB3aGVuIHRob3NlXG4gIGNvbXBvbmVudHMnIHJlbmRlciBvdXRwdXQgbmVlZCBub3QgYmUgYSBzaW5nbGUgbGl0ZXJhbCBET00gZWxlbWVudC5cblxuICBDb25zdW1lcnMgb2YgdGhlIEFQSSBkb24ndCBuZWVkIHRvIGtub3cgYWJvdXQgdGhlIGltcGxlbWVudGF0aW9uLCBidXQgaG93IGl0J3MgZG9uZSBpczpcbiAgLSBFYWNoIExvZ2ljYWxFbGVtZW50IGlzIG1hdGVyaWFsaXplZCBpbiB0aGUgRE9NIGFzIGVpdGhlcjpcbiAgICAtIEEgTm9kZSBpbnN0YW5jZSwgZm9yIGFjdHVhbCBOb2RlIGluc3RhbmNlcyBpbnNlcnRlZCB1c2luZyAnaW5zZXJ0TG9naWNhbENoaWxkJyBvclxuICAgICAgZm9yIEVsZW1lbnQgaW5zdGFuY2VzIHByb21vdGVkIHRvIExvZ2ljYWxFbGVtZW50IHZpYSAndG9Mb2dpY2FsRWxlbWVudCdcbiAgICAtIEEgQ29tbWVudCBpbnN0YW5jZSwgZm9yICdsb2dpY2FsIGNvbnRhaW5lcicgaW5zdGFuY2VzIGluc2VydGVkIHVzaW5nICdjcmVhdGVBbmRJbnNlcnRMb2dpY2FsQ29udGFpbmVyJ1xuICAtIFRoZW4sIG9uIHRoYXQgaW5zdGFuY2UgKGkuZS4sIHRoZSBOb2RlIG9yIENvbW1lbnQpLCB3ZSBzdG9yZSBhbiBhcnJheSBvZiAnbG9naWNhbCBjaGlsZHJlbidcbiAgICBpbnN0YW5jZXMsIGUuZy4sXG4gICAgICBbZmlyc3RDaGlsZCwgc2Vjb25kQ2hpbGQsIHRoaXJkQ2hpbGQsIC4uLl1cbiAgICAuLi4gcGx1cyB3ZSBzdG9yZSBhIHJlZmVyZW5jZSB0byB0aGUgJ2xvZ2ljYWwgcGFyZW50JyAoaWYgYW55KVxuICAtIFRoZSAnbG9naWNhbCBjaGlsZHJlbicgYXJyYXkgbWVhbnMgd2UgY2FuIGxvb2sgdXAgaW4gTygxKTpcbiAgICAtIFRoZSBudW1iZXIgb2YgbG9naWNhbCBjaGlsZHJlbiAobm90IGN1cnJlbnRseSBpbXBsZW1lbnRlZCBiZWNhdXNlIG5vdCByZXF1aXJlZCwgYnV0IHRyaXZpYWwpXG4gICAgLSBUaGUgbG9naWNhbCBjaGlsZCBhdCBhbnkgZ2l2ZW4gaW5kZXhcbiAgLSBXaGVuZXZlciBhIGxvZ2ljYWwgY2hpbGQgaXMgYWRkZWQgb3IgcmVtb3ZlZCwgd2UgdXBkYXRlIHRoZSBwYXJlbnQncyBhcnJheSBvZiBsb2dpY2FsIGNoaWxkcmVuXG4qL1xuXG5jb25zdCBsb2dpY2FsQ2hpbGRyZW5Qcm9wbmFtZSA9IGNyZWF0ZVN5bWJvbE9yRmFsbGJhY2soJ19ibGF6b3JMb2dpY2FsQ2hpbGRyZW4nKTtcbmNvbnN0IGxvZ2ljYWxQYXJlbnRQcm9wbmFtZSA9IGNyZWF0ZVN5bWJvbE9yRmFsbGJhY2soJ19ibGF6b3JMb2dpY2FsUGFyZW50Jyk7XG5jb25zdCBsb2dpY2FsRW5kU2libGluZ1Byb3BuYW1lID0gY3JlYXRlU3ltYm9sT3JGYWxsYmFjaygnX2JsYXpvckxvZ2ljYWxFbmQnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRvTG9naWNhbFJvb3RDb21tZW50RWxlbWVudChzdGFydDogQ29tbWVudCwgZW5kOiBDb21tZW50KTogTG9naWNhbEVsZW1lbnQge1xuICAvLyBOb3cgdGhhdCB3ZSBzdXBwb3J0IHN0YXJ0L2VuZCBjb21tZW50cyBhcyBjb21wb25lbnQgZGVsaW1pdGVycyB3ZSBhcmUgZ29pbmcgdG8gYmUgc2V0dGluZyB1cFxuICAvLyBhZGRpbmcgdGhlIGNvbXBvbmVudHMgcmVuZGVyZWQgb3V0cHV0IGFzIHNpYmxpbmdzIG9mIHRoZSBzdGFydC9lbmQgdGFncyAoYmV0d2VlbikuXG4gIC8vIEZvciB0aGF0IHRvIHdvcmssIHdlIG5lZWQgdG8gYXBwcm9wcmlhdGVseSBjb25maWd1cmUgdGhlIHBhcmVudCBlbGVtZW50IHRvIGJlIGEgbG9naWNhbCBlbGVtZW50XG4gIC8vIHdpdGggYWxsIHRoZWlyIGNoaWxkcmVuIGJlaW5nIHRoZSBjaGlsZCBlbGVtZW50cy5cbiAgLy8gRm9yIGV4YW1wbGUsIGltYWdpbmUgeW91IGhhdmVcbiAgLy8gPGFwcD5cbiAgLy8gPGRpdj48cD5TdGF0aWMgY29udGVudDwvcD48L2Rpdj5cbiAgLy8gPCEtLSBzdGFydCBjb21wb25lbnRcbiAgLy8gPCEtLSBlbmQgY29tcG9uZW50XG4gIC8vIDxmb290ZXI+U29tZSBvdGhlciBjb250ZW50PC9mb290ZXI+XG4gIC8vIDxhcHA+XG4gIC8vIFdlIHdhbnQgdGhlIHBhcmVudCBlbGVtZW50IHRvIGJlIHNvbWV0aGluZyBsaWtlXG4gIC8vICphcHBcbiAgLy8gfC0gKmRpdlxuICAvLyB8LSAqY29tcG9uZW50XG4gIC8vIHwtICpmb290ZXJcbiAgaWYgKCFzdGFydC5wYXJlbnROb2RlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDb21tZW50IG5vdCBjb25uZWN0ZWQgdG8gdGhlIERPTSAke3N0YXJ0LnRleHRDb250ZW50fWApO1xuICB9XG5cbiAgY29uc3QgcGFyZW50ID0gc3RhcnQucGFyZW50Tm9kZTtcbiAgY29uc3QgcGFyZW50TG9naWNhbEVsZW1lbnQgPSB0b0xvZ2ljYWxFbGVtZW50KHBhcmVudCwgLyogYWxsb3cgZXhpc3RpbmcgY29udGVudHMgKi8gdHJ1ZSk7XG4gIGNvbnN0IGNoaWxkcmVuID0gZ2V0TG9naWNhbENoaWxkcmVuQXJyYXkocGFyZW50TG9naWNhbEVsZW1lbnQpO1xuICBBcnJheS5mcm9tKHBhcmVudC5jaGlsZE5vZGVzKS5mb3JFYWNoKG4gPT4gY2hpbGRyZW4ucHVzaChuIGFzIHVua25vd24gYXMgTG9naWNhbEVsZW1lbnQpKTtcblxuICBzdGFydFtsb2dpY2FsUGFyZW50UHJvcG5hbWVdID0gcGFyZW50TG9naWNhbEVsZW1lbnQ7XG4gIC8vIFdlIG1pZ2h0IG5vdCBoYXZlIGFuIGVuZCBjb21tZW50IGluIHRoZSBjYXNlIG9mIG5vbi1wcmVyZW5kZXJlZCBjb21wb25lbnRzLlxuICBpZiAoZW5kKSB7XG4gICAgc3RhcnRbbG9naWNhbEVuZFNpYmxpbmdQcm9wbmFtZV0gPSBlbmQ7XG4gICAgdG9Mb2dpY2FsRWxlbWVudChlbmQpO1xuICB9XG4gIHJldHVybiB0b0xvZ2ljYWxFbGVtZW50KHN0YXJ0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvTG9naWNhbEVsZW1lbnQoZWxlbWVudDogTm9kZSwgYWxsb3dFeGlzdGluZ0NvbnRlbnRzPzogYm9vbGVhbik6IExvZ2ljYWxFbGVtZW50IHtcbiAgLy8gTm9ybWFsbHkgaXQncyBnb29kIHRvIGFzc2VydCB0aGF0IHRoZSBlbGVtZW50IGhhcyBzdGFydGVkIGVtcHR5LCBiZWNhdXNlIHRoYXQncyB0aGUgdXN1YWxcbiAgLy8gc2l0dWF0aW9uIGFuZCB3ZSBwcm9iYWJseSBoYXZlIGEgYnVnIGlmIGl0J3Mgbm90LiBCdXQgZm9yIHRoZSBlbGVtZW50IHRoYXQgY29udGFpbiBwcmVyZW5kZXJlZFxuICAvLyByb290IGNvbXBvbmVudHMsIHdlIHdhbnQgdG8gbGV0IHRoZW0ga2VlcCB0aGVpciBjb250ZW50IHVudGlsIHdlIHJlcGxhY2UgaXQuXG4gIGlmIChlbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoID4gMCAmJiAhYWxsb3dFeGlzdGluZ0NvbnRlbnRzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOZXcgbG9naWNhbCBlbGVtZW50cyBtdXN0IHN0YXJ0IGVtcHR5LCBvciBhbGxvd0V4aXN0aW5nQ29udGVudHMgbXVzdCBiZSB0cnVlJyk7XG4gIH1cblxuICBpZiAoIShsb2dpY2FsQ2hpbGRyZW5Qcm9wbmFtZSBpbiBlbGVtZW50KSkgeyAvLyBJZiBpdCdzIGFscmVhZHkgYSBsb2dpY2FsIGVsZW1lbnQsIGxlYXZlIGl0IGFsb25lXG4gICAgZWxlbWVudFtsb2dpY2FsQ2hpbGRyZW5Qcm9wbmFtZV0gPSBbXTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50IGFzIHVua25vd24gYXMgTG9naWNhbEVsZW1lbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eUxvZ2ljYWxFbGVtZW50KGVsZW1lbnQ6IExvZ2ljYWxFbGVtZW50KTogdm9pZCB7XG4gIGNvbnN0IGNoaWxkcmVuQXJyYXkgPSBnZXRMb2dpY2FsQ2hpbGRyZW5BcnJheShlbGVtZW50KTtcbiAgd2hpbGUgKGNoaWxkcmVuQXJyYXkubGVuZ3RoKSB7XG4gICAgcmVtb3ZlTG9naWNhbENoaWxkKGVsZW1lbnQsIDApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBbmRJbnNlcnRMb2dpY2FsQ29udGFpbmVyKHBhcmVudDogTG9naWNhbEVsZW1lbnQsIGNoaWxkSW5kZXg6IG51bWJlcik6IExvZ2ljYWxFbGVtZW50IHtcbiAgY29uc3QgY29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJyEnKTtcbiAgaW5zZXJ0TG9naWNhbENoaWxkKGNvbnRhaW5lckVsZW1lbnQsIHBhcmVudCwgY2hpbGRJbmRleCk7XG4gIHJldHVybiBjb250YWluZXJFbGVtZW50IGFzIHVua25vd24gYXMgTG9naWNhbEVsZW1lbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRMb2dpY2FsQ2hpbGQoY2hpbGQ6IE5vZGUsIHBhcmVudDogTG9naWNhbEVsZW1lbnQsIGNoaWxkSW5kZXg6IG51bWJlcik6IHZvaWQge1xuICBjb25zdCBjaGlsZEFzTG9naWNhbEVsZW1lbnQgPSBjaGlsZCBhcyB1bmtub3duIGFzIExvZ2ljYWxFbGVtZW50O1xuICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBDb21tZW50KSB7XG4gICAgY29uc3QgZXhpc3RpbmdHcmFuZGNoaWxkcmVuID0gZ2V0TG9naWNhbENoaWxkcmVuQXJyYXkoY2hpbGRBc0xvZ2ljYWxFbGVtZW50KTtcbiAgICBpZiAoZXhpc3RpbmdHcmFuZGNoaWxkcmVuICYmIGdldExvZ2ljYWxDaGlsZHJlbkFycmF5KGNoaWxkQXNMb2dpY2FsRWxlbWVudCkubGVuZ3RoID4gMCkge1xuICAgICAgLy8gVGhlcmUncyBub3RoaW5nIHRvIHN0b3AgdXMgaW1wbGVtZW50aW5nIHN1cHBvcnQgZm9yIHRoaXMgc2NlbmFyaW8sIGFuZCBpdCdzIG5vdCBkaWZmaWN1bHRcbiAgICAgIC8vIChhZnRlciBpbnNlcnRpbmcgJ2NoaWxkJyBpdHNlbGYsIGFsc28gaXRlcmF0ZSB0aHJvdWdoIGl0cyBsb2dpY2FsIGNoaWxkcmVuIGFuZCBwaHlzaWNhbGx5XG4gICAgICAvLyBwdXQgdGhlbSBhcyBmb2xsb3dpbmctc2libGluZ3MgaW4gdGhlIERPTSkuIEhvd2V2ZXIgdGhlcmUncyBubyBzY2VuYXJpbyB0aGF0IHJlcXVpcmVzIGl0XG4gICAgICAvLyBwcmVzZW50bHksIHNvIGlmIHdlIGRpZCBpbXBsZW1lbnQgaXQgdGhlcmUnZCBiZSBubyBnb29kIHdheSB0byBoYXZlIHRlc3RzIGZvciBpdC5cbiAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkOiBpbnNlcnRpbmcgbm9uLWVtcHR5IGxvZ2ljYWwgY29udGFpbmVyJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGdldExvZ2ljYWxQYXJlbnQoY2hpbGRBc0xvZ2ljYWxFbGVtZW50KSkge1xuICAgIC8vIExpa2V3aXNlLCB3ZSBjb3VsZCBlYXNpbHkgc3VwcG9ydCB0aGlzIHNjZW5hcmlvIHRvbyAoaW4gdGhpcyAnaWYnIGJsb2NrLCBqdXN0IHNwbGljZVxuICAgIC8vIG91dCAnY2hpbGQnIGZyb20gdGhlIGxvZ2ljYWwgY2hpbGRyZW4gYXJyYXkgb2YgaXRzIHByZXZpb3VzIGxvZ2ljYWwgcGFyZW50IGJ5IHVzaW5nXG4gICAgLy8gQXJyYXkucHJvdG90eXBlLmluZGV4T2YgdG8gZGV0ZXJtaW5lIGl0cyBwcmV2aW91cyBzaWJsaW5nIGluZGV4KS5cbiAgICAvLyBCdXQgYWdhaW4sIHNpbmNlIHRoZXJlJ3Mgbm90IGN1cnJlbnRseSBhbnkgc2NlbmFyaW8gdGhhdCB3b3VsZCB1c2UgaXQsIHdlIHdvdWxkIG5vdFxuICAgIC8vIGhhdmUgYW55IHRlc3QgY292ZXJhZ2UgZm9yIHN1Y2ggYW4gaW1wbGVtZW50YXRpb24uXG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQ6IG1vdmluZyBleGlzdGluZyBsb2dpY2FsIGNoaWxkcmVuJyk7XG4gIH1cblxuICBjb25zdCBuZXdTaWJsaW5ncyA9IGdldExvZ2ljYWxDaGlsZHJlbkFycmF5KHBhcmVudCk7XG4gIGlmIChjaGlsZEluZGV4IDwgbmV3U2libGluZ3MubGVuZ3RoKSB7XG4gICAgLy8gSW5zZXJ0XG4gICAgY29uc3QgbmV4dFNpYmxpbmcgPSBuZXdTaWJsaW5nc1tjaGlsZEluZGV4XSBhcyBhbnkgYXMgTm9kZTtcbiAgICBuZXh0U2libGluZy5wYXJlbnROb2RlIS5pbnNlcnRCZWZvcmUoY2hpbGQsIG5leHRTaWJsaW5nKTtcbiAgICBuZXdTaWJsaW5ncy5zcGxpY2UoY2hpbGRJbmRleCwgMCwgY2hpbGRBc0xvZ2ljYWxFbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBBcHBlbmRcbiAgICBhcHBlbmREb21Ob2RlKGNoaWxkLCBwYXJlbnQpO1xuICAgIG5ld1NpYmxpbmdzLnB1c2goY2hpbGRBc0xvZ2ljYWxFbGVtZW50KTtcbiAgfVxuXG4gIGNoaWxkQXNMb2dpY2FsRWxlbWVudFtsb2dpY2FsUGFyZW50UHJvcG5hbWVdID0gcGFyZW50O1xuICBpZiAoIShsb2dpY2FsQ2hpbGRyZW5Qcm9wbmFtZSBpbiBjaGlsZEFzTG9naWNhbEVsZW1lbnQpKSB7XG4gICAgY2hpbGRBc0xvZ2ljYWxFbGVtZW50W2xvZ2ljYWxDaGlsZHJlblByb3BuYW1lXSA9IFtdO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVMb2dpY2FsQ2hpbGQocGFyZW50OiBMb2dpY2FsRWxlbWVudCwgY2hpbGRJbmRleDogbnVtYmVyKTogdm9pZCB7XG4gIGNvbnN0IGNoaWxkcmVuQXJyYXkgPSBnZXRMb2dpY2FsQ2hpbGRyZW5BcnJheShwYXJlbnQpO1xuICBjb25zdCBjaGlsZFRvUmVtb3ZlID0gY2hpbGRyZW5BcnJheS5zcGxpY2UoY2hpbGRJbmRleCwgMSlbMF07XG5cbiAgLy8gSWYgaXQncyBhIGxvZ2ljYWwgY29udGFpbmVyLCBhbHNvIHJlbW92ZSBpdHMgZGVzY2VuZGFudHNcbiAgaWYgKGNoaWxkVG9SZW1vdmUgaW5zdGFuY2VvZiBDb21tZW50KSB7XG4gICAgY29uc3QgZ3JhbmRjaGlsZHJlbkFycmF5ID0gZ2V0TG9naWNhbENoaWxkcmVuQXJyYXkoY2hpbGRUb1JlbW92ZSk7XG4gICAgaWYgKGdyYW5kY2hpbGRyZW5BcnJheSkge1xuICAgICAgd2hpbGUgKGdyYW5kY2hpbGRyZW5BcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJlbW92ZUxvZ2ljYWxDaGlsZChjaGlsZFRvUmVtb3ZlLCAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBGaW5hbGx5LCByZW1vdmUgdGhlIG5vZGUgaXRzZWxmXG4gIGNvbnN0IGRvbU5vZGVUb1JlbW92ZSA9IGNoaWxkVG9SZW1vdmUgYXMgYW55IGFzIE5vZGU7XG4gIGRvbU5vZGVUb1JlbW92ZS5wYXJlbnROb2RlIS5yZW1vdmVDaGlsZChkb21Ob2RlVG9SZW1vdmUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9naWNhbFBhcmVudChlbGVtZW50OiBMb2dpY2FsRWxlbWVudCk6IExvZ2ljYWxFbGVtZW50IHwgbnVsbCB7XG4gIHJldHVybiAoZWxlbWVudFtsb2dpY2FsUGFyZW50UHJvcG5hbWVdIGFzIExvZ2ljYWxFbGVtZW50KSB8fCBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9naWNhbFNpYmxpbmdFbmQoZWxlbWVudDogTG9naWNhbEVsZW1lbnQpOiBMb2dpY2FsRWxlbWVudCB8IG51bGwge1xuICByZXR1cm4gKGVsZW1lbnRbbG9naWNhbEVuZFNpYmxpbmdQcm9wbmFtZV0gYXMgTG9naWNhbEVsZW1lbnQpIHx8IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2dpY2FsQ2hpbGQocGFyZW50OiBMb2dpY2FsRWxlbWVudCwgY2hpbGRJbmRleDogbnVtYmVyKTogTG9naWNhbEVsZW1lbnQge1xuICByZXR1cm4gZ2V0TG9naWNhbENoaWxkcmVuQXJyYXkocGFyZW50KVtjaGlsZEluZGV4XTtcbn1cblxuLy8gU1ZHIGVsZW1lbnRzIHN1cHBvcnQgYGZvcmVpZ25PYmplY3RgIGNoaWxkcmVuIHRoYXQgY2FuIGhvbGQgYXJiaXRyYXJ5IEhUTUwuXG4vLyBGb3IgdGhlc2Ugc2NlbmFyaW9zLCB0aGUgcGFyZW50IFNWRyBhbmQgYGZvcmVpZ25PYmplY3RgIGVsZW1lbnRzIHNob3VsZFxuLy8gYmUgcmVuZGVyZWQgdW5kZXIgdGhlIFNWRyBuYW1lc3BhY2UsIHdoaWxlIHRoZSBIVE1MIGNvbnRlbnQgc2hvdWxkIGJlIHJlbmRlcmVkXG4vLyB1bmRlciB0aGUgWEhUTUwgbmFtZXNwYWNlLiBJZiB0aGUgY29ycmVjdCBuYW1lc3BhY2VzIGFyZSBub3QgcHJvdmlkZWQsIG1vc3Rcbi8vIGJyb3dzZXJzIHdpbGwgZmFpbCB0byByZW5kZXIgdGhlIGZvcmVpZ24gb2JqZWN0IGNvbnRlbnQuIEhlcmUsIHdlIGVuc3VyZSB0aGF0IGlmXG4vLyB3ZSBlbmNvdW50ZXIgYSBgZm9yZWlnbk9iamVjdGAgaW4gdGhlIFNWRywgdGhlbiBhbGwgaXRzIGNoaWxkcmVuIHdpbGwgYmUgcGxhY2VkXG4vLyB1bmRlciB0aGUgWEhUTUwgbmFtZXNwYWNlLlxuZXhwb3J0IGZ1bmN0aW9uIGlzU3ZnRWxlbWVudChlbGVtZW50OiBMb2dpY2FsRWxlbWVudCk6IGJvb2xlYW4ge1xuICAvLyBOb3RlOiBUaGlzIGNoZWNrIGlzIGludGVudGlvbmFsbHkgY2FzZS1zZW5zaXRpdmUgc2luY2Ugd2UgZXhwZWN0IHRoaXMgZWxlbWVudFxuICAvLyB0byBhcHBlYXIgYXMgYSBjaGlsZCBvZiBhbiBTVkcgZWxlbWVudCBhbmQgU1ZHcyBhcmUgY2FzZS1zZW5zaXRpdmUuXG4gIGNvbnN0IGNsb3Nlc3RFbGVtZW50ID0gZ2V0Q2xvc2VzdERvbUVsZW1lbnQoZWxlbWVudCkgYXMgYW55O1xuICByZXR1cm4gY2xvc2VzdEVsZW1lbnQubmFtZXNwYWNlVVJJID09PSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnICYmIGNsb3Nlc3RFbGVtZW50Wyd0YWdOYW1lJ10gIT09ICdmb3JlaWduT2JqZWN0Jztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExvZ2ljYWxDaGlsZHJlbkFycmF5KGVsZW1lbnQ6IExvZ2ljYWxFbGVtZW50KTogTG9naWNhbEVsZW1lbnRbXSB7XG4gIHJldHVybiBlbGVtZW50W2xvZ2ljYWxDaGlsZHJlblByb3BuYW1lXSBhcyBMb2dpY2FsRWxlbWVudFtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGVybXV0ZUxvZ2ljYWxDaGlsZHJlbihwYXJlbnQ6IExvZ2ljYWxFbGVtZW50LCBwZXJtdXRhdGlvbkxpc3Q6IFBlcm11dGF0aW9uTGlzdEVudHJ5W10pOiB2b2lkIHtcbiAgLy8gVGhlIHBlcm11dGF0aW9uTGlzdCBtdXN0IHJlcHJlc2VudCBhIHZhbGlkIHBlcm11dGF0aW9uLCBpLmUuLCB0aGUgbGlzdCBvZiAnZnJvbScgaW5kaWNlc1xuICAvLyBpcyBkaXN0aW5jdCwgYW5kIHRoZSBsaXN0IG9mICd0bycgaW5kaWNlcyBpcyBhIHBlcm11dGF0aW9uIG9mIGl0LiBUaGUgYWxnb3JpdGhtIGhlcmVcbiAgLy8gcmVsaWVzIG9uIHRoYXQgYXNzdW1wdGlvbi5cblxuICAvLyBFYWNoIG9mIHRoZSBwaGFzZXMgaGVyZSBoYXMgdG8gaGFwcGVuIHNlcGFyYXRlbHksIGJlY2F1c2UgZWFjaCBvbmUgaXMgZGVzaWduZWQgbm90IHRvXG4gIC8vIGludGVyZmVyZSB3aXRoIHRoZSBpbmRpY2VzIG9yIERPTSBlbnRyaWVzIHVzZWQgYnkgc3Vic2VxdWVudCBwaGFzZXMuXG5cbiAgLy8gUGhhc2UgMTogdHJhY2sgd2hpY2ggbm9kZXMgd2Ugd2lsbCBtb3ZlXG4gIGNvbnN0IHNpYmxpbmdzID0gZ2V0TG9naWNhbENoaWxkcmVuQXJyYXkocGFyZW50KTtcbiAgcGVybXV0YXRpb25MaXN0LmZvckVhY2goKGxpc3RFbnRyeTogUGVybXV0YXRpb25MaXN0RW50cnlXaXRoVHJhY2tpbmdEYXRhKSA9PiB7XG4gICAgbGlzdEVudHJ5Lm1vdmVSYW5nZVN0YXJ0ID0gc2libGluZ3NbbGlzdEVudHJ5LmZyb21TaWJsaW5nSW5kZXhdO1xuICAgIGxpc3RFbnRyeS5tb3ZlUmFuZ2VFbmQgPSBmaW5kTGFzdERvbU5vZGVJblJhbmdlKGxpc3RFbnRyeS5tb3ZlUmFuZ2VTdGFydCk7XG4gIH0pO1xuXG4gIC8vIFBoYXNlIDI6IGluc2VydCBtYXJrZXJzXG4gIHBlcm11dGF0aW9uTGlzdC5mb3JFYWNoKChsaXN0RW50cnk6IFBlcm11dGF0aW9uTGlzdEVudHJ5V2l0aFRyYWNraW5nRGF0YSkgPT4ge1xuICAgIGNvbnN0IG1hcmtlciA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJ21hcmtlcicpO1xuICAgIGxpc3RFbnRyeS5tb3ZlVG9CZWZvcmVNYXJrZXIgPSBtYXJrZXI7XG4gICAgY29uc3QgaW5zZXJ0QmVmb3JlTm9kZSA9IHNpYmxpbmdzW2xpc3RFbnRyeS50b1NpYmxpbmdJbmRleCArIDFdIGFzIGFueSBhcyBOb2RlO1xuICAgIGlmIChpbnNlcnRCZWZvcmVOb2RlKSB7XG4gICAgICBpbnNlcnRCZWZvcmVOb2RlLnBhcmVudE5vZGUhLmluc2VydEJlZm9yZShtYXJrZXIsIGluc2VydEJlZm9yZU5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcHBlbmREb21Ob2RlKG1hcmtlciwgcGFyZW50KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFBoYXNlIDM6IG1vdmUgZGVzY2VuZGFudHMgJiByZW1vdmUgbWFya2Vyc1xuICBwZXJtdXRhdGlvbkxpc3QuZm9yRWFjaCgobGlzdEVudHJ5OiBQZXJtdXRhdGlvbkxpc3RFbnRyeVdpdGhUcmFja2luZ0RhdGEpID0+IHtcbiAgICBjb25zdCBpbnNlcnRCZWZvcmUgPSBsaXN0RW50cnkubW92ZVRvQmVmb3JlTWFya2VyITtcbiAgICBjb25zdCBwYXJlbnREb21Ob2RlID0gaW5zZXJ0QmVmb3JlLnBhcmVudE5vZGUhO1xuICAgIGNvbnN0IGVsZW1lbnRUb01vdmUgPSBsaXN0RW50cnkubW92ZVJhbmdlU3RhcnQhO1xuICAgIGNvbnN0IG1vdmVFbmROb2RlID0gbGlzdEVudHJ5Lm1vdmVSYW5nZUVuZCE7XG4gICAgbGV0IG5leHRUb01vdmUgPSBlbGVtZW50VG9Nb3ZlIGFzIHVua25vd24gYXMgTm9kZSB8IG51bGw7XG4gICAgd2hpbGUgKG5leHRUb01vdmUpIHtcbiAgICAgIGNvbnN0IG5leHROZXh0ID0gbmV4dFRvTW92ZS5uZXh0U2libGluZztcbiAgICAgIHBhcmVudERvbU5vZGUuaW5zZXJ0QmVmb3JlKG5leHRUb01vdmUsIGluc2VydEJlZm9yZSk7XG5cbiAgICAgIGlmIChuZXh0VG9Nb3ZlID09PSBtb3ZlRW5kTm9kZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRUb01vdmUgPSBuZXh0TmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwYXJlbnREb21Ob2RlLnJlbW92ZUNoaWxkKGluc2VydEJlZm9yZSk7XG4gIH0pO1xuXG4gIC8vIFBoYXNlIDQ6IHVwZGF0ZSBzaWJsaW5ncyBpbmRleFxuICBwZXJtdXRhdGlvbkxpc3QuZm9yRWFjaCgobGlzdEVudHJ5OiBQZXJtdXRhdGlvbkxpc3RFbnRyeVdpdGhUcmFja2luZ0RhdGEpID0+IHtcbiAgICBzaWJsaW5nc1tsaXN0RW50cnkudG9TaWJsaW5nSW5kZXhdID0gbGlzdEVudHJ5Lm1vdmVSYW5nZVN0YXJ0ITtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDbG9zZXN0RG9tRWxlbWVudChsb2dpY2FsRWxlbWVudDogTG9naWNhbEVsZW1lbnQpOiBFbGVtZW50IHwgKExvZ2ljYWxFbGVtZW50ICYgRG9jdW1lbnRGcmFnbWVudCkge1xuICBpZiAobG9naWNhbEVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50IHx8IGxvZ2ljYWxFbGVtZW50IGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCkge1xuICAgIHJldHVybiBsb2dpY2FsRWxlbWVudDtcbiAgfSBlbHNlIGlmIChsb2dpY2FsRWxlbWVudCBpbnN0YW5jZW9mIENvbW1lbnQpIHtcbiAgICByZXR1cm4gbG9naWNhbEVsZW1lbnQucGFyZW50Tm9kZSEgYXMgRWxlbWVudDtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhIHZhbGlkIGxvZ2ljYWwgZWxlbWVudCcpO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVybXV0YXRpb25MaXN0RW50cnkge1xuICBmcm9tU2libGluZ0luZGV4OiBudW1iZXIsXG4gIHRvU2libGluZ0luZGV4OiBudW1iZXIsXG59XG5cbmludGVyZmFjZSBQZXJtdXRhdGlvbkxpc3RFbnRyeVdpdGhUcmFja2luZ0RhdGEgZXh0ZW5kcyBQZXJtdXRhdGlvbkxpc3RFbnRyeSB7XG4gIC8vIFRoZXNlIGV4dHJhIHByb3BlcnRpZXMgYXJlIHVzZWQgaW50ZXJuYWxseSB3aGVuIHByb2Nlc3NpbmcgdGhlIHBlcm11dGF0aW9uIGxpc3RcbiAgbW92ZVJhbmdlU3RhcnQ/OiBMb2dpY2FsRWxlbWVudCxcbiAgbW92ZVJhbmdlRW5kPzogTm9kZSxcbiAgbW92ZVRvQmVmb3JlTWFya2VyPzogTm9kZSxcbn1cblxuZnVuY3Rpb24gZ2V0TG9naWNhbE5leHRTaWJsaW5nKGVsZW1lbnQ6IExvZ2ljYWxFbGVtZW50KTogTG9naWNhbEVsZW1lbnQgfCBudWxsIHtcbiAgY29uc3Qgc2libGluZ3MgPSBnZXRMb2dpY2FsQ2hpbGRyZW5BcnJheShnZXRMb2dpY2FsUGFyZW50KGVsZW1lbnQpISk7XG4gIGNvbnN0IHNpYmxpbmdJbmRleCA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoc2libGluZ3MsIGVsZW1lbnQpO1xuICByZXR1cm4gc2libGluZ3Nbc2libGluZ0luZGV4ICsgMV0gfHwgbnVsbDtcbn1cblxuZnVuY3Rpb24gYXBwZW5kRG9tTm9kZShjaGlsZDogTm9kZSwgcGFyZW50OiBMb2dpY2FsRWxlbWVudCkge1xuICAvLyBUaGlzIGZ1bmN0aW9uIG9ubHkgcHV0cyAnY2hpbGQnIGludG8gdGhlIERPTSBpbiB0aGUgcmlnaHQgcGxhY2UgcmVsYXRpdmUgdG8gJ3BhcmVudCdcbiAgLy8gSXQgZG9lcyBub3QgdXBkYXRlIHRoZSBsb2dpY2FsIGNoaWxkcmVuIGFycmF5IG9mIGFueXRoaW5nXG4gIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBFbGVtZW50IHx8IHBhcmVudCBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpIHtcbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICB9IGVsc2UgaWYgKHBhcmVudCBpbnN0YW5jZW9mIENvbW1lbnQpIHtcbiAgICBjb25zdCBwYXJlbnRMb2dpY2FsTmV4dFNpYmxpbmcgPSBnZXRMb2dpY2FsTmV4dFNpYmxpbmcocGFyZW50KSBhcyBhbnkgYXMgTm9kZTtcbiAgICBpZiAocGFyZW50TG9naWNhbE5leHRTaWJsaW5nKSB7XG4gICAgICAvLyBTaW5jZSB0aGUgcGFyZW50IGhhcyBhIGxvZ2ljYWwgbmV4dC1zaWJsaW5nLCBpdHMgYXBwZW5kZWQgY2hpbGQgZ29lcyByaWdodCBiZWZvcmUgdGhhdFxuICAgICAgcGFyZW50TG9naWNhbE5leHRTaWJsaW5nLnBhcmVudE5vZGUhLmluc2VydEJlZm9yZShjaGlsZCwgcGFyZW50TG9naWNhbE5leHRTaWJsaW5nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2luY2UgdGhlIHBhcmVudCBoYXMgbm8gbG9naWNhbCBuZXh0LXNpYmxpbmcsIGtlZXAgcmVjdXJzaW5nIHVwd2FyZHMgdW50aWwgd2UgZmluZFxuICAgICAgLy8gYSBsb2dpY2FsIGFuY2VzdG9yIHRoYXQgZG9lcyBoYXZlIGEgbmV4dC1zaWJsaW5nIG9yIGlzIGEgcGh5c2ljYWwgZWxlbWVudC5cbiAgICAgIGFwcGVuZERvbU5vZGUoY2hpbGQsIGdldExvZ2ljYWxQYXJlbnQocGFyZW50KSEpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBTaG91bGQgbmV2ZXIgaGFwcGVuXG4gICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgYXBwZW5kIG5vZGUgYmVjYXVzZSB0aGUgcGFyZW50IGlzIG5vdCBhIHZhbGlkIGxvZ2ljYWwgZWxlbWVudC4gUGFyZW50OiAke3BhcmVudH1gKTtcbiAgfVxufVxuXG4vLyBSZXR1cm5zIHRoZSBmaW5hbCBub2RlIChpbiBkZXB0aC1maXJzdCBldmFsdWF0aW9uIG9yZGVyKSB0aGF0IGlzIGEgZGVzY2VuZGFudCBvZiB0aGUgbG9naWNhbCBlbGVtZW50LlxuLy8gQXMgc3VjaCwgdGhlIGVudGlyZSBzdWJ0cmVlIGlzIGJldHdlZW4gJ2VsZW1lbnQnIGFuZCAnZmluZExhc3REb21Ob2RlSW5SYW5nZShlbGVtZW50KScgaW5jbHVzaXZlLlxuZnVuY3Rpb24gZmluZExhc3REb21Ob2RlSW5SYW5nZShlbGVtZW50OiBMb2dpY2FsRWxlbWVudCkge1xuICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgZWxlbWVudCBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIGNvbnN0IG5leHRTaWJsaW5nID0gZ2V0TG9naWNhbE5leHRTaWJsaW5nKGVsZW1lbnQpO1xuICBpZiAobmV4dFNpYmxpbmcpIHtcbiAgICAvLyBTaW1wbGUgY2FzZTogbm90IHRoZSBsYXN0IGxvZ2ljYWwgc2libGluZywgc28gdGFrZSB0aGUgbm9kZSBiZWZvcmUgdGhlIG5leHQgc2libGluZ1xuICAgIHJldHVybiAobmV4dFNpYmxpbmcgYXMgYW55IGFzIE5vZGUpLnByZXZpb3VzU2libGluZztcbiAgfSBlbHNlIHtcbiAgICAvLyBIYXJkZXIgY2FzZTogdGhlcmUncyBubyBsb2dpY2FsIG5leHQtc2libGluZywgc28gcmVjdXJzZSB1cHdhcmRzIHVudGlsIHdlIGZpbmRcbiAgICAvLyBhIGxvZ2ljYWwgYW5jZXN0b3IgdGhhdCBkb2VzIGhhdmUgb25lLCBvciBhIHBoeXNpY2FsIGVsZW1lbnRcbiAgICBjb25zdCBsb2dpY2FsUGFyZW50ID0gZ2V0TG9naWNhbFBhcmVudChlbGVtZW50KSE7XG4gICAgcmV0dXJuIGxvZ2ljYWxQYXJlbnQgaW5zdGFuY2VvZiBFbGVtZW50IHx8IGxvZ2ljYWxQYXJlbnQgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50XG4gICAgICA/IGxvZ2ljYWxQYXJlbnQubGFzdENoaWxkXG4gICAgICA6IGZpbmRMYXN0RG9tTm9kZUluUmFuZ2UobG9naWNhbFBhcmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3ltYm9sT3JGYWxsYmFjayhmYWxsYmFjazogc3RyaW5nKTogc3ltYm9sIHwgc3RyaW5nIHtcbiAgcmV0dXJuIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgPyBTeW1ib2woKSA6IGZhbGxiYWNrO1xufVxuXG4vLyBOb21pbmFsIHR5cGUgdG8gcmVwcmVzZW50IGEgbG9naWNhbCBlbGVtZW50IHdpdGhvdXQgbmVlZGluZyB0byBhbGxvY2F0ZSBhbnkgb2JqZWN0IGZvciBpbnN0YW5jZXNcbmV4cG9ydCBpbnRlcmZhY2UgTG9naWNhbEVsZW1lbnQgeyBMb2dpY2FsRWxlbWVudF9fRE9fTk9UX0lNUExFTUVOVDogYW55IH1cbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbmltcG9ydCB7IERvdE5ldCB9IGZyb20gJ0BtaWNyb3NvZnQvZG90bmV0LWpzLWludGVyb3AnO1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlDYXB0dXJlSWRUb0VsZW1lbnQoZWxlbWVudDogRWxlbWVudCwgcmVmZXJlbmNlQ2FwdHVyZUlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoZ2V0Q2FwdHVyZUlkQXR0cmlidXRlTmFtZShyZWZlcmVuY2VDYXB0dXJlSWQpLCAnJyk7XG59XG5cbmZ1bmN0aW9uIGdldEVsZW1lbnRCeUNhcHR1cmVJZChyZWZlcmVuY2VDYXB0dXJlSWQ6IHN0cmluZykge1xuICBjb25zdCBzZWxlY3RvciA9IGBbJHtnZXRDYXB0dXJlSWRBdHRyaWJ1dGVOYW1lKHJlZmVyZW5jZUNhcHR1cmVJZCl9XWA7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2FwdHVyZUlkQXR0cmlidXRlTmFtZShyZWZlcmVuY2VDYXB0dXJlSWQ6IHN0cmluZykge1xuICByZXR1cm4gYF9ibF8ke3JlZmVyZW5jZUNhcHR1cmVJZH1gO1xufVxuXG4vLyBTdXBwb3J0IHJlY2VpdmluZyBFbGVtZW50UmVmIGluc3RhbmNlcyBhcyBhcmdzIGluIGludGVyb3AgY2FsbHNcbmNvbnN0IGVsZW1lbnRSZWZLZXkgPSAnX19pbnRlcm5hbElkJzsgLy8gS2VlcCBpbiBzeW5jIHdpdGggRWxlbWVudFJlZi5jc1xuRG90TmV0LmF0dGFjaFJldml2ZXIoKGtleSwgdmFsdWUpID0+IHtcbiAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBlbGVtZW50UmVmS2V5KSAmJiB0eXBlb2YgdmFsdWVbZWxlbWVudFJlZktleV0gPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGdldEVsZW1lbnRCeUNhcHR1cmVJZCh2YWx1ZVtlbGVtZW50UmVmS2V5XSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59KTtcbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbmltcG9ydCB7IFJlbmRlckJhdGNoLCBBcnJheUJ1aWxkZXJTZWdtZW50LCBSZW5kZXJUcmVlRWRpdCwgUmVuZGVyVHJlZUZyYW1lLCBFZGl0VHlwZSwgRnJhbWVUeXBlLCBBcnJheVZhbHVlcyB9IGZyb20gJy4vUmVuZGVyQmF0Y2gvUmVuZGVyQmF0Y2gnO1xuaW1wb3J0IHsgRXZlbnREZWxlZ2F0b3IgfSBmcm9tICcuL0V2ZW50cy9FdmVudERlbGVnYXRvcic7XG5pbXBvcnQgeyBMb2dpY2FsRWxlbWVudCwgUGVybXV0YXRpb25MaXN0RW50cnksIHRvTG9naWNhbEVsZW1lbnQsIGluc2VydExvZ2ljYWxDaGlsZCwgcmVtb3ZlTG9naWNhbENoaWxkLCBnZXRMb2dpY2FsUGFyZW50LCBnZXRMb2dpY2FsQ2hpbGQsIGNyZWF0ZUFuZEluc2VydExvZ2ljYWxDb250YWluZXIsIGlzU3ZnRWxlbWVudCwgZ2V0TG9naWNhbENoaWxkcmVuQXJyYXksIGdldExvZ2ljYWxTaWJsaW5nRW5kLCBwZXJtdXRlTG9naWNhbENoaWxkcmVuLCBnZXRDbG9zZXN0RG9tRWxlbWVudCwgZW1wdHlMb2dpY2FsRWxlbWVudCB9IGZyb20gJy4vTG9naWNhbEVsZW1lbnRzJztcbmltcG9ydCB7IGFwcGx5Q2FwdHVyZUlkVG9FbGVtZW50IH0gZnJvbSAnLi9FbGVtZW50UmVmZXJlbmNlQ2FwdHVyZSc7XG5pbXBvcnQgeyBhdHRhY2hUb0V2ZW50RGVsZWdhdG9yIGFzIGF0dGFjaE5hdmlnYXRpb25NYW5hZ2VyVG9FdmVudERlbGVnYXRvciB9IGZyb20gJy4uL1NlcnZpY2VzL05hdmlnYXRpb25NYW5hZ2VyJztcbmNvbnN0IGRlZmVycmVkVmFsdWVQcm9wbmFtZSA9ICdfYmxhem9yRGVmZXJyZWRWYWx1ZSc7XG5jb25zdCBzaGFyZWRUZW1wbGF0ZUVsZW1Gb3JQYXJzaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbmNvbnN0IHNoYXJlZFN2Z0VsZW1Gb3JQYXJzaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyk7XG5jb25zdCBlbGVtZW50c1RvQ2xlYXJPblJvb3RDb21wb25lbnRSZW5kZXI6IHsgW2NvbXBvbmVudElkOiBudW1iZXJdOiBMb2dpY2FsRWxlbWVudCB9ID0ge307XG5jb25zdCBpbnRlcm5hbEF0dHJpYnV0ZU5hbWVQcmVmaXggPSAnX19pbnRlcm5hbF8nO1xuY29uc3QgZXZlbnRQcmV2ZW50RGVmYXVsdEF0dHJpYnV0ZU5hbWVQcmVmaXggPSAncHJldmVudERlZmF1bHRfJztcbmNvbnN0IGV2ZW50U3RvcFByb3BhZ2F0aW9uQXR0cmlidXRlTmFtZVByZWZpeCA9ICdzdG9wUHJvcGFnYXRpb25fJztcblxuZXhwb3J0IGNsYXNzIEJyb3dzZXJSZW5kZXJlciB7XG4gIHB1YmxpYyBldmVudERlbGVnYXRvcjogRXZlbnREZWxlZ2F0b3I7XG5cbiAgcHJpdmF0ZSByb290Q29tcG9uZW50SWRzID0gbmV3IFNldDxudW1iZXI+KCk7XG5cbiAgcHJpdmF0ZSBjaGlsZENvbXBvbmVudExvY2F0aW9uczogeyBbY29tcG9uZW50SWQ6IG51bWJlcl06IExvZ2ljYWxFbGVtZW50IH0gPSB7fTtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoYnJvd3NlclJlbmRlcmVySWQ6IG51bWJlcikge1xuICAgIHRoaXMuZXZlbnREZWxlZ2F0b3IgPSBuZXcgRXZlbnREZWxlZ2F0b3IoYnJvd3NlclJlbmRlcmVySWQpO1xuXG4gICAgLy8gV2UgZG9uJ3QgeWV0IGtub3cgd2hldGhlciBvciBub3QgbmF2aWdhdGlvbiBpbnRlcmNlcHRpb24gd2lsbCBiZSBlbmFibGVkLCBidXQgaW4gY2FzZSBpdCB3aWxsIGJlLFxuICAgIC8vIHdlIHdpcmUgdXAgdGhlIG5hdmlnYXRpb24gbWFuYWdlciB0byB0aGUgZXZlbnQgZGVsZWdhdG9yIHNvIGl0IGhhcyB0aGUgb3B0aW9uIHRvIHBhcnRpY2lwYXRlXG4gICAgLy8gaW4gdGhlIHN5bnRoZXRpYyBldmVudCBidWJibGluZyBwcm9jZXNzIGxhdGVyXG4gICAgYXR0YWNoTmF2aWdhdGlvbk1hbmFnZXJUb0V2ZW50RGVsZWdhdG9yKHRoaXMuZXZlbnREZWxlZ2F0b3IpO1xuICB9XG5cbiAgcHVibGljIGF0dGFjaFJvb3RDb21wb25lbnRUb0xvZ2ljYWxFbGVtZW50KGNvbXBvbmVudElkOiBudW1iZXIsIGVsZW1lbnQ6IExvZ2ljYWxFbGVtZW50LCBhcHBlbmRDb250ZW50OiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5hdHRhY2hDb21wb25lbnRUb0VsZW1lbnQoY29tcG9uZW50SWQsIGVsZW1lbnQpO1xuICAgIHRoaXMucm9vdENvbXBvbmVudElkcy5hZGQoY29tcG9uZW50SWQpO1xuXG4gICAgLy8gSWYgd2Ugd2FudCB0byBwcmVzZXJ2ZSBleGlzdGluZyBIVE1MIGNvbnRlbnQgb2YgdGhlIHJvb3QgZWxlbWVudCwgd2UgZG9uJ3QgYXBwbHkgdGhlIG1lY2hhbmlzbSBmb3JcbiAgICAvLyBjbGVhcmluZyBleGlzdGluZyBjaGlsZHJlbi4gUmVuZGVyZWQgY29udGVudCB3aWxsIHRoZW4gYXBwZW5kIHJhdGhlciB0aGFuIHJlcGxhY2UgdGhlIGV4aXN0aW5nIEhUTUwgY29udGVudC5cbiAgICBpZiAoIWFwcGVuZENvbnRlbnQpIHtcbiAgICAgIGVsZW1lbnRzVG9DbGVhck9uUm9vdENvbXBvbmVudFJlbmRlcltjb21wb25lbnRJZF0gPSBlbGVtZW50O1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVDb21wb25lbnQoYmF0Y2g6IFJlbmRlckJhdGNoLCBjb21wb25lbnRJZDogbnVtYmVyLCBlZGl0czogQXJyYXlCdWlsZGVyU2VnbWVudDxSZW5kZXJUcmVlRWRpdD4sIHJlZmVyZW5jZUZyYW1lczogQXJyYXlWYWx1ZXM8UmVuZGVyVHJlZUZyYW1lPik6IHZvaWQge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmNoaWxkQ29tcG9uZW50TG9jYXRpb25zW2NvbXBvbmVudElkXTtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gZWxlbWVudCBpcyBjdXJyZW50bHkgYXNzb2NpYXRlZCB3aXRoIGNvbXBvbmVudCAke2NvbXBvbmVudElkfWApO1xuICAgIH1cblxuICAgIC8vIE9uIHRoZSBmaXJzdCByZW5kZXIgZm9yIGVhY2ggcm9vdCBjb21wb25lbnQsIGNsZWFyIGFueSBleGlzdGluZyBjb250ZW50IChlLmcuLCBwcmVyZW5kZXJlZClcbiAgICBjb25zdCByb290RWxlbWVudFRvQ2xlYXIgPSBlbGVtZW50c1RvQ2xlYXJPblJvb3RDb21wb25lbnRSZW5kZXJbY29tcG9uZW50SWRdO1xuICAgIGlmIChyb290RWxlbWVudFRvQ2xlYXIpIHtcbiAgICAgIGNvbnN0IHJvb3RFbGVtZW50VG9DbGVhckVuZCA9IGdldExvZ2ljYWxTaWJsaW5nRW5kKHJvb3RFbGVtZW50VG9DbGVhcik7XG4gICAgICBkZWxldGUgZWxlbWVudHNUb0NsZWFyT25Sb290Q29tcG9uZW50UmVuZGVyW2NvbXBvbmVudElkXTtcblxuICAgICAgaWYgKCFyb290RWxlbWVudFRvQ2xlYXJFbmQpIHtcbiAgICAgICAgY2xlYXJFbGVtZW50KHJvb3RFbGVtZW50VG9DbGVhciBhcyB1bmtub3duIGFzIEVsZW1lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xlYXJCZXR3ZWVuKHJvb3RFbGVtZW50VG9DbGVhciBhcyB1bmtub3duIGFzIE5vZGUsIHJvb3RFbGVtZW50VG9DbGVhckVuZCBhcyB1bmtub3duIGFzIENvbW1lbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG93bmVyRG9jdW1lbnQgPSBnZXRDbG9zZXN0RG9tRWxlbWVudChlbGVtZW50KT8uZ2V0Um9vdE5vZGUoKSBhcyBEb2N1bWVudDtcbiAgICBjb25zdCBhY3RpdmVFbGVtZW50QmVmb3JlID0gb3duZXJEb2N1bWVudCAmJiBvd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cbiAgICB0aGlzLmFwcGx5RWRpdHMoYmF0Y2gsIGNvbXBvbmVudElkLCBlbGVtZW50LCAwLCBlZGl0cywgcmVmZXJlbmNlRnJhbWVzKTtcblxuICAgIC8vIFRyeSB0byByZXN0b3JlIGZvY3VzIGluIGNhc2UgaXQgd2FzIGxvc3QgZHVlIHRvIGFuIGVsZW1lbnQgbW92ZVxuICAgIGlmICgoYWN0aXZlRWxlbWVudEJlZm9yZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSAmJiBvd25lckRvY3VtZW50ICYmIG93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gYWN0aXZlRWxlbWVudEJlZm9yZSkge1xuICAgICAgYWN0aXZlRWxlbWVudEJlZm9yZS5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBkaXNwb3NlQ29tcG9uZW50KGNvbXBvbmVudElkOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5yb290Q29tcG9uZW50SWRzLmRlbGV0ZShjb21wb25lbnRJZCkpIHtcbiAgICAgIC8vIFdoZW4gZGlzcG9zaW5nIGEgcm9vdCBjb21wb25lbnQsIHRoZSBjb250YWluZXIgZWxlbWVudCB3b24ndCBiZSByZW1vdmVkIGZyb20gdGhlIERPTSAoYmVjYXVzZSB0aGVyZSdzXG4gICAgICAvLyBubyBwYXJlbnQgdG8gcmVtb3ZlIHRoYXQgY2hpbGQpLCBzbyB3ZSBlbXB0eSBpdCB0byByZXN0b3JlIGl0IHRvIHRoZSBzdGF0ZSBpdCB3YXMgaW4gYmVmb3JlIHRoZSByb290XG4gICAgICAvLyBjb21wb25lbnQgd2FzIGFkZGVkLlxuICAgICAgZW1wdHlMb2dpY2FsRWxlbWVudCh0aGlzLmNoaWxkQ29tcG9uZW50TG9jYXRpb25zW2NvbXBvbmVudElkXSk7XG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMuY2hpbGRDb21wb25lbnRMb2NhdGlvbnNbY29tcG9uZW50SWRdO1xuICB9XG5cbiAgcHVibGljIGRpc3Bvc2VFdmVudEhhbmRsZXIoZXZlbnRIYW5kbGVySWQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuZXZlbnREZWxlZ2F0b3IucmVtb3ZlTGlzdGVuZXIoZXZlbnRIYW5kbGVySWQpO1xuICB9XG5cbiAgcHJpdmF0ZSBhdHRhY2hDb21wb25lbnRUb0VsZW1lbnQoY29tcG9uZW50SWQ6IG51bWJlciwgZWxlbWVudDogTG9naWNhbEVsZW1lbnQpIHtcbiAgICB0aGlzLmNoaWxkQ29tcG9uZW50TG9jYXRpb25zW2NvbXBvbmVudElkXSA9IGVsZW1lbnQ7XG4gIH1cblxuICBwcml2YXRlIGFwcGx5RWRpdHMoYmF0Y2g6IFJlbmRlckJhdGNoLCBjb21wb25lbnRJZDogbnVtYmVyLCBwYXJlbnQ6IExvZ2ljYWxFbGVtZW50LCBjaGlsZEluZGV4OiBudW1iZXIsIGVkaXRzOiBBcnJheUJ1aWxkZXJTZWdtZW50PFJlbmRlclRyZWVFZGl0PiwgcmVmZXJlbmNlRnJhbWVzOiBBcnJheVZhbHVlczxSZW5kZXJUcmVlRnJhbWU+KSB7XG4gICAgbGV0IGN1cnJlbnREZXB0aCA9IDA7XG4gICAgbGV0IGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCA9IGNoaWxkSW5kZXg7XG4gICAgbGV0IHBlcm11dGF0aW9uTGlzdDogUGVybXV0YXRpb25MaXN0RW50cnlbXSB8IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IGFycmF5QnVpbGRlclNlZ21lbnRSZWFkZXIgPSBiYXRjaC5hcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyO1xuICAgIGNvbnN0IGVkaXRSZWFkZXIgPSBiYXRjaC5lZGl0UmVhZGVyO1xuICAgIGNvbnN0IGZyYW1lUmVhZGVyID0gYmF0Y2guZnJhbWVSZWFkZXI7XG4gICAgY29uc3QgZWRpdHNWYWx1ZXMgPSBhcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyLnZhbHVlcyhlZGl0cyk7XG4gICAgY29uc3QgZWRpdHNPZmZzZXQgPSBhcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyLm9mZnNldChlZGl0cyk7XG4gICAgY29uc3QgZWRpdHNMZW5ndGggPSBhcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyLmNvdW50KGVkaXRzKTtcbiAgICBjb25zdCBtYXhFZGl0SW5kZXhFeGNsID0gZWRpdHNPZmZzZXQgKyBlZGl0c0xlbmd0aDtcblxuICAgIGZvciAobGV0IGVkaXRJbmRleCA9IGVkaXRzT2Zmc2V0OyBlZGl0SW5kZXggPCBtYXhFZGl0SW5kZXhFeGNsOyBlZGl0SW5kZXgrKykge1xuICAgICAgY29uc3QgZWRpdCA9IGJhdGNoLmRpZmZSZWFkZXIuZWRpdHNFbnRyeShlZGl0c1ZhbHVlcywgZWRpdEluZGV4KTtcbiAgICAgIGNvbnN0IGVkaXRUeXBlID0gZWRpdFJlYWRlci5lZGl0VHlwZShlZGl0KTtcbiAgICAgIHN3aXRjaCAoZWRpdFR5cGUpIHtcbiAgICAgICAgY2FzZSBFZGl0VHlwZS5wcmVwZW5kRnJhbWU6IHtcbiAgICAgICAgICBjb25zdCBmcmFtZUluZGV4ID0gZWRpdFJlYWRlci5uZXdUcmVlSW5kZXgoZWRpdCk7XG4gICAgICAgICAgY29uc3QgZnJhbWUgPSBiYXRjaC5yZWZlcmVuY2VGcmFtZXNFbnRyeShyZWZlcmVuY2VGcmFtZXMsIGZyYW1lSW5kZXgpO1xuICAgICAgICAgIGNvbnN0IHNpYmxpbmdJbmRleCA9IGVkaXRSZWFkZXIuc2libGluZ0luZGV4KGVkaXQpO1xuICAgICAgICAgIHRoaXMuaW5zZXJ0RnJhbWUoYmF0Y2gsIGNvbXBvbmVudElkLCBwYXJlbnQsIGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCArIHNpYmxpbmdJbmRleCwgcmVmZXJlbmNlRnJhbWVzLCBmcmFtZSwgZnJhbWVJbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBFZGl0VHlwZS5yZW1vdmVGcmFtZToge1xuICAgICAgICAgIGNvbnN0IHNpYmxpbmdJbmRleCA9IGVkaXRSZWFkZXIuc2libGluZ0luZGV4KGVkaXQpO1xuICAgICAgICAgIHJlbW92ZUxvZ2ljYWxDaGlsZChwYXJlbnQsIGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCArIHNpYmxpbmdJbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBFZGl0VHlwZS5zZXRBdHRyaWJ1dGU6IHtcbiAgICAgICAgICBjb25zdCBmcmFtZUluZGV4ID0gZWRpdFJlYWRlci5uZXdUcmVlSW5kZXgoZWRpdCk7XG4gICAgICAgICAgY29uc3QgZnJhbWUgPSBiYXRjaC5yZWZlcmVuY2VGcmFtZXNFbnRyeShyZWZlcmVuY2VGcmFtZXMsIGZyYW1lSW5kZXgpO1xuICAgICAgICAgIGNvbnN0IHNpYmxpbmdJbmRleCA9IGVkaXRSZWFkZXIuc2libGluZ0luZGV4KGVkaXQpO1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBnZXRMb2dpY2FsQ2hpbGQocGFyZW50LCBjaGlsZEluZGV4QXRDdXJyZW50RGVwdGggKyBzaWJsaW5nSW5kZXgpO1xuICAgICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5hcHBseUF0dHJpYnV0ZShiYXRjaCwgY29tcG9uZW50SWQsIGVsZW1lbnQsIGZyYW1lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc2V0IGF0dHJpYnV0ZSBvbiBub24tZWxlbWVudCBjaGlsZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEVkaXRUeXBlLnJlbW92ZUF0dHJpYnV0ZToge1xuICAgICAgICAgIC8vIE5vdGUgdGhhdCB3ZSBkb24ndCBoYXZlIHRvIGRpc3Bvc2UgdGhlIGluZm8gd2UgdHJhY2sgYWJvdXQgZXZlbnQgaGFuZGxlcnMgaGVyZSwgYmVjYXVzZSB0aGVcbiAgICAgICAgICAvLyBkaXNwb3NlZCBldmVudCBoYW5kbGVyIElEcyBhcmUgZGVsaXZlcmVkIHNlcGFyYXRlbHkgKGluIHRoZSAnZGlzcG9zZWRFdmVudEhhbmRsZXJJZHMnIGFycmF5KVxuICAgICAgICAgIGNvbnN0IHNpYmxpbmdJbmRleCA9IGVkaXRSZWFkZXIuc2libGluZ0luZGV4KGVkaXQpO1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBnZXRMb2dpY2FsQ2hpbGQocGFyZW50LCBjaGlsZEluZGV4QXRDdXJyZW50RGVwdGggKyBzaWJsaW5nSW5kZXgpO1xuICAgICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTmFtZSA9IGVkaXRSZWFkZXIucmVtb3ZlZEF0dHJpYnV0ZU5hbWUoZWRpdCkhO1xuICAgICAgICAgICAgLy8gRmlyc3QgdHJ5IHRvIHJlbW92ZSBhbnkgc3BlY2lhbCBwcm9wZXJ0eSB3ZSB1c2UgZm9yIHRoaXMgYXR0cmlidXRlXG4gICAgICAgICAgICBpZiAoIXRoaXMudHJ5QXBwbHlTcGVjaWFsUHJvcGVydHkoYmF0Y2gsIGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIG51bGwpKSB7XG4gICAgICAgICAgICAgIC8vIElmIHRoYXQncyBub3QgYXBwbGljYWJsZSwgaXQncyBhIHJlZ3VsYXIgRE9NIGF0dHJpYnV0ZSBzbyByZW1vdmUgdGhhdFxuICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcmVtb3ZlIGF0dHJpYnV0ZSBmcm9tIG5vbi1lbGVtZW50IGNoaWxkJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRWRpdFR5cGUudXBkYXRlVGV4dDoge1xuICAgICAgICAgIGNvbnN0IGZyYW1lSW5kZXggPSBlZGl0UmVhZGVyLm5ld1RyZWVJbmRleChlZGl0KTtcbiAgICAgICAgICBjb25zdCBmcmFtZSA9IGJhdGNoLnJlZmVyZW5jZUZyYW1lc0VudHJ5KHJlZmVyZW5jZUZyYW1lcywgZnJhbWVJbmRleCk7XG4gICAgICAgICAgY29uc3Qgc2libGluZ0luZGV4ID0gZWRpdFJlYWRlci5zaWJsaW5nSW5kZXgoZWRpdCk7XG4gICAgICAgICAgY29uc3QgdGV4dE5vZGUgPSBnZXRMb2dpY2FsQ2hpbGQocGFyZW50LCBjaGlsZEluZGV4QXRDdXJyZW50RGVwdGggKyBzaWJsaW5nSW5kZXgpO1xuICAgICAgICAgIGlmICh0ZXh0Tm9kZSBpbnN0YW5jZW9mIFRleHQpIHtcbiAgICAgICAgICAgIHRleHROb2RlLnRleHRDb250ZW50ID0gZnJhbWVSZWFkZXIudGV4dENvbnRlbnQoZnJhbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBzZXQgdGV4dCBjb250ZW50IG9uIG5vbi10ZXh0IGNoaWxkJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRWRpdFR5cGUudXBkYXRlTWFya3VwOiB7XG4gICAgICAgICAgY29uc3QgZnJhbWVJbmRleCA9IGVkaXRSZWFkZXIubmV3VHJlZUluZGV4KGVkaXQpO1xuICAgICAgICAgIGNvbnN0IGZyYW1lID0gYmF0Y2gucmVmZXJlbmNlRnJhbWVzRW50cnkocmVmZXJlbmNlRnJhbWVzLCBmcmFtZUluZGV4KTtcbiAgICAgICAgICBjb25zdCBzaWJsaW5nSW5kZXggPSBlZGl0UmVhZGVyLnNpYmxpbmdJbmRleChlZGl0KTtcbiAgICAgICAgICByZW1vdmVMb2dpY2FsQ2hpbGQocGFyZW50LCBjaGlsZEluZGV4QXRDdXJyZW50RGVwdGggKyBzaWJsaW5nSW5kZXgpO1xuICAgICAgICAgIHRoaXMuaW5zZXJ0TWFya3VwKGJhdGNoLCBwYXJlbnQsIGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCArIHNpYmxpbmdJbmRleCwgZnJhbWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRWRpdFR5cGUuc3RlcEluOiB7XG4gICAgICAgICAgY29uc3Qgc2libGluZ0luZGV4ID0gZWRpdFJlYWRlci5zaWJsaW5nSW5kZXgoZWRpdCk7XG4gICAgICAgICAgcGFyZW50ID0gZ2V0TG9naWNhbENoaWxkKHBhcmVudCwgY2hpbGRJbmRleEF0Q3VycmVudERlcHRoICsgc2libGluZ0luZGV4KTtcbiAgICAgICAgICBjdXJyZW50RGVwdGgrKztcbiAgICAgICAgICBjaGlsZEluZGV4QXRDdXJyZW50RGVwdGggPSAwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRWRpdFR5cGUuc3RlcE91dDoge1xuICAgICAgICAgIHBhcmVudCA9IGdldExvZ2ljYWxQYXJlbnQocGFyZW50KSE7XG4gICAgICAgICAgY3VycmVudERlcHRoLS07XG4gICAgICAgICAgY2hpbGRJbmRleEF0Q3VycmVudERlcHRoID0gY3VycmVudERlcHRoID09PSAwID8gY2hpbGRJbmRleCA6IDA7IC8vIFRoZSBjaGlsZEluZGV4IGlzIG9ubHkgZXZlciBub256ZXJvIGF0IHplcm8gZGVwdGhcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEVkaXRUeXBlLnBlcm11dGF0aW9uTGlzdEVudHJ5OiB7XG4gICAgICAgICAgcGVybXV0YXRpb25MaXN0ID0gcGVybXV0YXRpb25MaXN0IHx8IFtdO1xuICAgICAgICAgIHBlcm11dGF0aW9uTGlzdC5wdXNoKHtcbiAgICAgICAgICAgIGZyb21TaWJsaW5nSW5kZXg6IGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCArIGVkaXRSZWFkZXIuc2libGluZ0luZGV4KGVkaXQpLFxuICAgICAgICAgICAgdG9TaWJsaW5nSW5kZXg6IGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCArIGVkaXRSZWFkZXIubW92ZVRvU2libGluZ0luZGV4KGVkaXQpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgRWRpdFR5cGUucGVybXV0YXRpb25MaXN0RW5kOiB7XG4gICAgICAgICAgcGVybXV0ZUxvZ2ljYWxDaGlsZHJlbihwYXJlbnQsIHBlcm11dGF0aW9uTGlzdCEpO1xuICAgICAgICAgIHBlcm11dGF0aW9uTGlzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgdW5rbm93blR5cGU6IG5ldmVyID0gZWRpdFR5cGU7IC8vIENvbXBpbGUtdGltZSB2ZXJpZmljYXRpb24gdGhhdCB0aGUgc3dpdGNoIHdhcyBleGhhdXN0aXZlXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGVkaXQgdHlwZTogJHt1bmtub3duVHlwZX1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaW5zZXJ0RnJhbWUoYmF0Y2g6IFJlbmRlckJhdGNoLCBjb21wb25lbnRJZDogbnVtYmVyLCBwYXJlbnQ6IExvZ2ljYWxFbGVtZW50LCBjaGlsZEluZGV4OiBudW1iZXIsIGZyYW1lczogQXJyYXlWYWx1ZXM8UmVuZGVyVHJlZUZyYW1lPiwgZnJhbWU6IFJlbmRlclRyZWVGcmFtZSwgZnJhbWVJbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCBmcmFtZVJlYWRlciA9IGJhdGNoLmZyYW1lUmVhZGVyO1xuICAgIGNvbnN0IGZyYW1lVHlwZSA9IGZyYW1lUmVhZGVyLmZyYW1lVHlwZShmcmFtZSk7XG4gICAgc3dpdGNoIChmcmFtZVR5cGUpIHtcbiAgICAgIGNhc2UgRnJhbWVUeXBlLmVsZW1lbnQ6XG4gICAgICAgIHRoaXMuaW5zZXJ0RWxlbWVudChiYXRjaCwgY29tcG9uZW50SWQsIHBhcmVudCwgY2hpbGRJbmRleCwgZnJhbWVzLCBmcmFtZSwgZnJhbWVJbmRleCk7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgY2FzZSBGcmFtZVR5cGUudGV4dDpcbiAgICAgICAgdGhpcy5pbnNlcnRUZXh0KGJhdGNoLCBwYXJlbnQsIGNoaWxkSW5kZXgsIGZyYW1lKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICBjYXNlIEZyYW1lVHlwZS5hdHRyaWJ1dGU6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQXR0cmlidXRlIGZyYW1lcyBzaG91bGQgb25seSBiZSBwcmVzZW50IGFzIGxlYWRpbmcgY2hpbGRyZW4gb2YgZWxlbWVudCBmcmFtZXMuJyk7XG4gICAgICBjYXNlIEZyYW1lVHlwZS5jb21wb25lbnQ6XG4gICAgICAgIHRoaXMuaW5zZXJ0Q29tcG9uZW50KGJhdGNoLCBwYXJlbnQsIGNoaWxkSW5kZXgsIGZyYW1lKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICBjYXNlIEZyYW1lVHlwZS5yZWdpb246XG4gICAgICAgIHJldHVybiB0aGlzLmluc2VydEZyYW1lUmFuZ2UoYmF0Y2gsIGNvbXBvbmVudElkLCBwYXJlbnQsIGNoaWxkSW5kZXgsIGZyYW1lcywgZnJhbWVJbmRleCArIDEsIGZyYW1lSW5kZXggKyBmcmFtZVJlYWRlci5zdWJ0cmVlTGVuZ3RoKGZyYW1lKSk7XG4gICAgICBjYXNlIEZyYW1lVHlwZS5lbGVtZW50UmVmZXJlbmNlQ2FwdHVyZTpcbiAgICAgICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICBhcHBseUNhcHR1cmVJZFRvRWxlbWVudChwYXJlbnQsIGZyYW1lUmVhZGVyLmVsZW1lbnRSZWZlcmVuY2VDYXB0dXJlSWQoZnJhbWUpISk7XG4gICAgICAgICAgcmV0dXJuIDA7IC8vIEEgXCJjYXB0dXJlXCIgaXMgYSBjaGlsZCBpbiB0aGUgZGlmZiwgYnV0IGhhcyBubyBub2RlIGluIHRoZSBET01cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZmVyZW5jZSBjYXB0dXJlIGZyYW1lcyBjYW4gb25seSBiZSBjaGlsZHJlbiBvZiBlbGVtZW50IGZyYW1lcy4nKTtcbiAgICAgICAgfVxuICAgICAgY2FzZSBGcmFtZVR5cGUubWFya3VwOlxuICAgICAgICB0aGlzLmluc2VydE1hcmt1cChiYXRjaCwgcGFyZW50LCBjaGlsZEluZGV4LCBmcmFtZSk7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCB1bmtub3duVHlwZTogbmV2ZXIgPSBmcmFtZVR5cGU7IC8vIENvbXBpbGUtdGltZSB2ZXJpZmljYXRpb24gdGhhdCB0aGUgc3dpdGNoIHdhcyBleGhhdXN0aXZlXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBmcmFtZSB0eXBlOiAke3Vua25vd25UeXBlfWApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaW5zZXJ0RWxlbWVudChiYXRjaDogUmVuZGVyQmF0Y2gsIGNvbXBvbmVudElkOiBudW1iZXIsIHBhcmVudDogTG9naWNhbEVsZW1lbnQsIGNoaWxkSW5kZXg6IG51bWJlciwgZnJhbWVzOiBBcnJheVZhbHVlczxSZW5kZXJUcmVlRnJhbWU+LCBmcmFtZTogUmVuZGVyVHJlZUZyYW1lLCBmcmFtZUluZGV4OiBudW1iZXIpIHtcbiAgICBjb25zdCBmcmFtZVJlYWRlciA9IGJhdGNoLmZyYW1lUmVhZGVyO1xuICAgIGNvbnN0IHRhZ05hbWUgPSBmcmFtZVJlYWRlci5lbGVtZW50TmFtZShmcmFtZSkhO1xuXG4gICAgY29uc3QgbmV3RG9tRWxlbWVudFJhdyA9ICh0YWdOYW1lID09PSAnc3ZnJyB8fCBpc1N2Z0VsZW1lbnQocGFyZW50KSkgP1xuICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIHRhZ05hbWUpIDpcbiAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gICAgY29uc3QgbmV3RWxlbWVudCA9IHRvTG9naWNhbEVsZW1lbnQobmV3RG9tRWxlbWVudFJhdyk7XG5cbiAgICBsZXQgaW5zZXJ0ZWQgPSBmYWxzZTtcblxuICAgIC8vIEFwcGx5IGF0dHJpYnV0ZXNcbiAgICBjb25zdCBkZXNjZW5kYW50c0VuZEluZGV4RXhjbCA9IGZyYW1lSW5kZXggKyBmcmFtZVJlYWRlci5zdWJ0cmVlTGVuZ3RoKGZyYW1lKTtcbiAgICBmb3IgKGxldCBkZXNjZW5kYW50SW5kZXggPSBmcmFtZUluZGV4ICsgMTsgZGVzY2VuZGFudEluZGV4IDwgZGVzY2VuZGFudHNFbmRJbmRleEV4Y2w7IGRlc2NlbmRhbnRJbmRleCsrKSB7XG4gICAgICBjb25zdCBkZXNjZW5kYW50RnJhbWUgPSBiYXRjaC5yZWZlcmVuY2VGcmFtZXNFbnRyeShmcmFtZXMsIGRlc2NlbmRhbnRJbmRleCk7XG4gICAgICBpZiAoZnJhbWVSZWFkZXIuZnJhbWVUeXBlKGRlc2NlbmRhbnRGcmFtZSkgPT09IEZyYW1lVHlwZS5hdHRyaWJ1dGUpIHtcbiAgICAgICAgdGhpcy5hcHBseUF0dHJpYnV0ZShiYXRjaCwgY29tcG9uZW50SWQsIG5ld0RvbUVsZW1lbnRSYXcsIGRlc2NlbmRhbnRGcmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnNlcnRMb2dpY2FsQ2hpbGQobmV3RG9tRWxlbWVudFJhdywgcGFyZW50LCBjaGlsZEluZGV4KTtcbiAgICAgICAgaW5zZXJ0ZWQgPSB0cnVlO1xuICAgICAgICAvLyBBcyBzb29uIGFzIHdlIHNlZSBhIG5vbi1hdHRyaWJ1dGUgY2hpbGQsIGFsbCB0aGUgc3Vic2VxdWVudCBjaGlsZCBmcmFtZXMgYXJlXG4gICAgICAgIC8vIG5vdCBhdHRyaWJ1dGVzLCBzbyBiYWlsIG91dCBhbmQgaW5zZXJ0IHRoZSByZW1uYW50cyByZWN1cnNpdmVseVxuICAgICAgICB0aGlzLmluc2VydEZyYW1lUmFuZ2UoYmF0Y2gsIGNvbXBvbmVudElkLCBuZXdFbGVtZW50LCAwLCBmcmFtZXMsIGRlc2NlbmRhbnRJbmRleCwgZGVzY2VuZGFudHNFbmRJbmRleEV4Y2wpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB0aGlzIGVsZW1lbnQgZGlkIG5vdCBoYXZlIGFueSBjaGlsZHJlbiwgc28gaXQncyBub3QgaW5zZXJ0ZWQgeWV0LlxuICAgIGlmICghaW5zZXJ0ZWQpIHtcbiAgICAgIGluc2VydExvZ2ljYWxDaGlsZChuZXdEb21FbGVtZW50UmF3LCBwYXJlbnQsIGNoaWxkSW5kZXgpO1xuICAgIH1cblxuICAgIC8vIFdlIGhhbmRsZSBzZXR0aW5nICd2YWx1ZScgb24gYSA8c2VsZWN0PiBpbiB0aHJlZSBkaWZmZXJlbnQgd2F5czpcbiAgICAvLyBbMV0gV2hlbiBpbnNlcnRpbmcgYSBjb3JyZXNwb25kaW5nIDxvcHRpb24+LCBpbiBjYXNlIHlvdSdyZSBkeW5hbWljYWxseSBhZGRpbmcgb3B0aW9ucy5cbiAgICAvLyAgICAgVGhpcyBpcyB0aGUgY2FzZSBiZWxvdy5cbiAgICAvLyBbMl0gQWZ0ZXIgd2UgZmluaXNoIGluc2VydGluZyB0aGUgPHNlbGVjdD4sIGluIGNhc2UgdGhlIGRlc2NlbmRhbnQgb3B0aW9ucyBhcmUgYmVpbmdcbiAgICAvLyAgICAgYWRkZWQgYXMgYW4gb3BhcXVlIG1hcmt1cCBibG9jayByYXRoZXIgdGhhbiBpbmRpdmlkdWFsbHkuIFRoaXMgaXMgdGhlIG90aGVyIGNhc2UgYmVsb3cuXG4gICAgLy8gWzNdIEluIGNhc2UgdGhlIHRoZSB2YWx1ZSBvZiB0aGUgc2VsZWN0IGFuZCB0aGUgb3B0aW9uIHZhbHVlIGlzIGNoYW5nZWQgaW4gdGhlIHNhbWUgYmF0Y2guXG4gICAgLy8gICAgIFdlIGp1c3QgcmVjZWl2ZSBhbiBhdHRyaWJ1dGUgZnJhbWUgYW5kIGhhdmUgdG8gc2V0IHRoZSBzZWxlY3QgdmFsdWUgYWZ0ZXJ3YXJkcy5cblxuICAgIC8vIFdlIGFsc28gZGVmZXIgc2V0dGluZyB0aGUgJ3ZhbHVlJyBwcm9wZXJ0eSBmb3IgPGlucHV0PiBiZWNhdXNlIGNlcnRhaW4gdHlwZXMgb2YgaW5wdXRzIGhhdmVcbiAgICAvLyBkZWZhdWx0IGF0dHJpYnV0ZSB2YWx1ZXMgdGhhdCBtYXkgaW5jb3JyZWN0bHkgY29uc3RhaW4gdGhlIHNwZWNpZmllZCAndmFsdWUnLlxuICAgIC8vIEZvciBleGFtcGxlLCByYW5nZSBpbnB1dHMgaGF2ZSBkZWZhdWx0ICdtaW4nIGFuZCAnbWF4JyBhdHRyaWJ1dGVzIHRoYXQgbWF5IGluY29ycmVjdGx5XG4gICAgLy8gY2xhbXAgdGhlICd2YWx1ZScgcHJvcGVydHkgaWYgaXQgaXMgYXBwbGllZCBiZWZvcmUgY3VzdG9tICdtaW4nIGFuZCAnbWF4JyBhdHRyaWJ1dGVzLlxuXG4gICAgaWYgKG5ld0RvbUVsZW1lbnRSYXcgaW5zdGFuY2VvZiBIVE1MT3B0aW9uRWxlbWVudCkge1xuICAgICAgLy8gU2l0dWF0aW9uIDFcbiAgICAgIHRoaXMudHJ5U2V0U2VsZWN0VmFsdWVGcm9tT3B0aW9uRWxlbWVudChuZXdEb21FbGVtZW50UmF3KTtcbiAgICB9IGVsc2UgaWYgKGRlZmVycmVkVmFsdWVQcm9wbmFtZSBpbiBuZXdEb21FbGVtZW50UmF3KSB7XG4gICAgICAvLyBTaXR1YXRpb24gMlxuICAgICAgc2V0RGVmZXJyZWRFbGVtZW50VmFsdWUobmV3RG9tRWxlbWVudFJhdywgbmV3RG9tRWxlbWVudFJhd1tkZWZlcnJlZFZhbHVlUHJvcG5hbWVdKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHRyeVNldFNlbGVjdFZhbHVlRnJvbU9wdGlvbkVsZW1lbnQob3B0aW9uRWxlbWVudDogSFRNTE9wdGlvbkVsZW1lbnQpIHtcbiAgICBjb25zdCBzZWxlY3RFbGVtID0gdGhpcy5maW5kQ2xvc2VzdEFuY2VzdG9yU2VsZWN0RWxlbWVudChvcHRpb25FbGVtZW50KTtcblxuICAgIGlmICghaXNCbGF6b3JTZWxlY3RFbGVtZW50KHNlbGVjdEVsZW0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGlzTXVsdGlwbGVTZWxlY3RFbGVtZW50KHNlbGVjdEVsZW0pKSB7XG4gICAgICBvcHRpb25FbGVtZW50LnNlbGVjdGVkID0gc2VsZWN0RWxlbS5fYmxhem9yRGVmZXJyZWRWYWx1ZSEuaW5kZXhPZihvcHRpb25FbGVtZW50LnZhbHVlKSAhPT0gLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzZWxlY3RFbGVtLl9ibGF6b3JEZWZlcnJlZFZhbHVlICE9PSBvcHRpb25FbGVtZW50LnZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgc2V0U2luZ2xlU2VsZWN0RWxlbWVudFZhbHVlKHNlbGVjdEVsZW0sIG9wdGlvbkVsZW1lbnQudmFsdWUpO1xuICAgICAgZGVsZXRlIHNlbGVjdEVsZW0uX2JsYXpvckRlZmVycmVkVmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG5cbiAgICBmdW5jdGlvbiBpc0JsYXpvclNlbGVjdEVsZW1lbnQoc2VsZWN0RWxlbTogSFRNTFNlbGVjdEVsZW1lbnQgfCBudWxsKSA6IHNlbGVjdEVsZW0gaXMgQmxhem9ySHRtbFNlbGVjdEVsZW1lbnQge1xuICAgICAgcmV0dXJuICEhc2VsZWN0RWxlbSAmJiAoZGVmZXJyZWRWYWx1ZVByb3BuYW1lIGluIHNlbGVjdEVsZW0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaW5zZXJ0Q29tcG9uZW50KGJhdGNoOiBSZW5kZXJCYXRjaCwgcGFyZW50OiBMb2dpY2FsRWxlbWVudCwgY2hpbGRJbmRleDogbnVtYmVyLCBmcmFtZTogUmVuZGVyVHJlZUZyYW1lKSB7XG4gICAgY29uc3QgY29udGFpbmVyRWxlbWVudCA9IGNyZWF0ZUFuZEluc2VydExvZ2ljYWxDb250YWluZXIocGFyZW50LCBjaGlsZEluZGV4KTtcblxuICAgIC8vIEFsbCB3ZSBoYXZlIHRvIGRvIGlzIGFzc29jaWF0ZSB0aGUgY2hpbGQgY29tcG9uZW50IElEIHdpdGggaXRzIGxvY2F0aW9uLiBXZSBkb24ndCBhY3R1YWxseVxuICAgIC8vIGRvIGFueSByZW5kZXJpbmcgaGVyZSwgYmVjYXVzZSB0aGUgZGlmZiBmb3IgdGhlIGNoaWxkIHdpbGwgYXBwZWFyIGxhdGVyIGluIHRoZSByZW5kZXIgYmF0Y2guXG4gICAgY29uc3QgY2hpbGRDb21wb25lbnRJZCA9IGJhdGNoLmZyYW1lUmVhZGVyLmNvbXBvbmVudElkKGZyYW1lKTtcbiAgICB0aGlzLmF0dGFjaENvbXBvbmVudFRvRWxlbWVudChjaGlsZENvbXBvbmVudElkLCBjb250YWluZXJFbGVtZW50KTtcbiAgfVxuXG4gIHByaXZhdGUgaW5zZXJ0VGV4dChiYXRjaDogUmVuZGVyQmF0Y2gsIHBhcmVudDogTG9naWNhbEVsZW1lbnQsIGNoaWxkSW5kZXg6IG51bWJlciwgdGV4dEZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpIHtcbiAgICBjb25zdCB0ZXh0Q29udGVudCA9IGJhdGNoLmZyYW1lUmVhZGVyLnRleHRDb250ZW50KHRleHRGcmFtZSkhO1xuICAgIGNvbnN0IG5ld1RleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dENvbnRlbnQpO1xuICAgIGluc2VydExvZ2ljYWxDaGlsZChuZXdUZXh0Tm9kZSwgcGFyZW50LCBjaGlsZEluZGV4KTtcbiAgfVxuXG4gIHByaXZhdGUgaW5zZXJ0TWFya3VwKGJhdGNoOiBSZW5kZXJCYXRjaCwgcGFyZW50OiBMb2dpY2FsRWxlbWVudCwgY2hpbGRJbmRleDogbnVtYmVyLCBtYXJrdXBGcmFtZTogUmVuZGVyVHJlZUZyYW1lKSB7XG4gICAgY29uc3QgbWFya3VwQ29udGFpbmVyID0gY3JlYXRlQW5kSW5zZXJ0TG9naWNhbENvbnRhaW5lcihwYXJlbnQsIGNoaWxkSW5kZXgpO1xuXG4gICAgY29uc3QgbWFya3VwQ29udGVudCA9IGJhdGNoLmZyYW1lUmVhZGVyLm1hcmt1cENvbnRlbnQobWFya3VwRnJhbWUpO1xuICAgIGNvbnN0IHBhcnNlZE1hcmt1cCA9IHBhcnNlTWFya3VwKG1hcmt1cENvbnRlbnQsIGlzU3ZnRWxlbWVudChwYXJlbnQpKTtcbiAgICBsZXQgbG9naWNhbFNpYmxpbmdJbmRleCA9IDA7XG4gICAgd2hpbGUgKHBhcnNlZE1hcmt1cC5maXJzdENoaWxkKSB7XG4gICAgICBpbnNlcnRMb2dpY2FsQ2hpbGQocGFyc2VkTWFya3VwLmZpcnN0Q2hpbGQsIG1hcmt1cENvbnRhaW5lciwgbG9naWNhbFNpYmxpbmdJbmRleCsrKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFwcGx5QXR0cmlidXRlKGJhdGNoOiBSZW5kZXJCYXRjaCwgY29tcG9uZW50SWQ6IG51bWJlciwgdG9Eb21FbGVtZW50OiBFbGVtZW50LCBhdHRyaWJ1dGVGcmFtZTogUmVuZGVyVHJlZUZyYW1lKSB7XG4gICAgY29uc3QgZnJhbWVSZWFkZXIgPSBiYXRjaC5mcmFtZVJlYWRlcjtcbiAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gZnJhbWVSZWFkZXIuYXR0cmlidXRlTmFtZShhdHRyaWJ1dGVGcmFtZSkhO1xuICAgIGNvbnN0IGV2ZW50SGFuZGxlcklkID0gZnJhbWVSZWFkZXIuYXR0cmlidXRlRXZlbnRIYW5kbGVySWQoYXR0cmlidXRlRnJhbWUpO1xuXG4gICAgaWYgKGV2ZW50SGFuZGxlcklkKSB7XG4gICAgICBjb25zdCBldmVudE5hbWUgPSBzdHJpcE9uUHJlZml4KGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgdGhpcy5ldmVudERlbGVnYXRvci5zZXRMaXN0ZW5lcih0b0RvbUVsZW1lbnQsIGV2ZW50TmFtZSwgZXZlbnRIYW5kbGVySWQsIGNvbXBvbmVudElkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBGaXJzdCBzZWUgaWYgd2UgaGF2ZSBzcGVjaWFsIGhhbmRsaW5nIGZvciB0aGlzIGF0dHJpYnV0ZVxuICAgIGlmICghdGhpcy50cnlBcHBseVNwZWNpYWxQcm9wZXJ0eShiYXRjaCwgdG9Eb21FbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVGcmFtZSkpIHtcbiAgICAgIC8vIElmIG5vdCwgdHJlYXQgaXQgYXMgYSByZWd1bGFyIHN0cmluZy12YWx1ZWQgYXR0cmlidXRlXG4gICAgICB0b0RvbUVsZW1lbnQuc2V0QXR0cmlidXRlKFxuICAgICAgICBhdHRyaWJ1dGVOYW1lLFxuICAgICAgICBmcmFtZVJlYWRlci5hdHRyaWJ1dGVWYWx1ZShhdHRyaWJ1dGVGcmFtZSkhXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdHJ5QXBwbHlTcGVjaWFsUHJvcGVydHkoYmF0Y2g6IFJlbmRlckJhdGNoLCBlbGVtZW50OiBFbGVtZW50LCBhdHRyaWJ1dGVOYW1lOiBzdHJpbmcsIGF0dHJpYnV0ZUZyYW1lOiBSZW5kZXJUcmVlRnJhbWUgfCBudWxsKSB7XG4gICAgc3dpdGNoIChhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICBjYXNlICd2YWx1ZSc6XG4gICAgICAgIHJldHVybiB0aGlzLnRyeUFwcGx5VmFsdWVQcm9wZXJ0eShiYXRjaCwgZWxlbWVudCwgYXR0cmlidXRlRnJhbWUpO1xuICAgICAgY2FzZSAnY2hlY2tlZCc6XG4gICAgICAgIHJldHVybiB0aGlzLnRyeUFwcGx5Q2hlY2tlZFByb3BlcnR5KGJhdGNoLCBlbGVtZW50LCBhdHRyaWJ1dGVGcmFtZSk7XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lLnN0YXJ0c1dpdGgoaW50ZXJuYWxBdHRyaWJ1dGVOYW1lUHJlZml4KSkge1xuICAgICAgICAgIHRoaXMuYXBwbHlJbnRlcm5hbEF0dHJpYnV0ZShiYXRjaCwgZWxlbWVudCwgYXR0cmlidXRlTmFtZS5zdWJzdHJpbmcoaW50ZXJuYWxBdHRyaWJ1dGVOYW1lUHJlZml4Lmxlbmd0aCksIGF0dHJpYnV0ZUZyYW1lKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhcHBseUludGVybmFsQXR0cmlidXRlKGJhdGNoOiBSZW5kZXJCYXRjaCwgZWxlbWVudDogRWxlbWVudCwgaW50ZXJuYWxBdHRyaWJ1dGVOYW1lOiBzdHJpbmcsIGF0dHJpYnV0ZUZyYW1lOiBSZW5kZXJUcmVlRnJhbWUgfCBudWxsKSB7XG4gICAgY29uc3QgYXR0cmlidXRlVmFsdWUgPSBhdHRyaWJ1dGVGcmFtZSA/IGJhdGNoLmZyYW1lUmVhZGVyLmF0dHJpYnV0ZVZhbHVlKGF0dHJpYnV0ZUZyYW1lKSA6IG51bGw7XG5cbiAgICBpZiAoaW50ZXJuYWxBdHRyaWJ1dGVOYW1lLnN0YXJ0c1dpdGgoZXZlbnRTdG9wUHJvcGFnYXRpb25BdHRyaWJ1dGVOYW1lUHJlZml4KSkge1xuICAgICAgLy8gU3RvcCBwcm9wYWdhdGlvblxuICAgICAgY29uc3QgZXZlbnROYW1lID0gc3RyaXBPblByZWZpeChpbnRlcm5hbEF0dHJpYnV0ZU5hbWUuc3Vic3RyaW5nKGV2ZW50U3RvcFByb3BhZ2F0aW9uQXR0cmlidXRlTmFtZVByZWZpeC5sZW5ndGgpKTtcbiAgICAgIHRoaXMuZXZlbnREZWxlZ2F0b3Iuc2V0U3RvcFByb3BhZ2F0aW9uKGVsZW1lbnQsIGV2ZW50TmFtZSwgYXR0cmlidXRlVmFsdWUgIT09IG51bGwpO1xuICAgIH0gZWxzZSBpZiAoaW50ZXJuYWxBdHRyaWJ1dGVOYW1lLnN0YXJ0c1dpdGgoZXZlbnRQcmV2ZW50RGVmYXVsdEF0dHJpYnV0ZU5hbWVQcmVmaXgpKSB7XG4gICAgICAvLyBQcmV2ZW50IGRlZmF1bHRcbiAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IHN0cmlwT25QcmVmaXgoaW50ZXJuYWxBdHRyaWJ1dGVOYW1lLnN1YnN0cmluZyhldmVudFByZXZlbnREZWZhdWx0QXR0cmlidXRlTmFtZVByZWZpeC5sZW5ndGgpKTtcbiAgICAgIHRoaXMuZXZlbnREZWxlZ2F0b3Iuc2V0UHJldmVudERlZmF1bHQoZWxlbWVudCwgZXZlbnROYW1lLCBhdHRyaWJ1dGVWYWx1ZSAhPT0gbnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZSBwcmVmaXggbWFrZXMgdGhpcyBhdHRyaWJ1dGUgbmFtZSByZXNlcnZlZCwgc28gYW55IG90aGVyIHVzYWdlIGlzIGRpc2FsbG93ZWRcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgaW50ZXJuYWwgYXR0cmlidXRlICcke2ludGVybmFsQXR0cmlidXRlTmFtZX0nYCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB0cnlBcHBseVZhbHVlUHJvcGVydHkoYmF0Y2g6IFJlbmRlckJhdGNoLCBlbGVtZW50OiBFbGVtZW50LCBhdHRyaWJ1dGVGcmFtZTogUmVuZGVyVHJlZUZyYW1lIHwgbnVsbCk6IGJvb2xlYW4ge1xuICAgIC8vIENlcnRhaW4gZWxlbWVudHMgaGF2ZSBidWlsdC1pbiBiZWhhdmlvdXIgZm9yIHRoZWlyICd2YWx1ZScgcHJvcGVydHlcbiAgICBjb25zdCBmcmFtZVJlYWRlciA9IGJhdGNoLmZyYW1lUmVhZGVyO1xuXG4gICAgbGV0IHZhbHVlID0gYXR0cmlidXRlRnJhbWUgPyBmcmFtZVJlYWRlci5hdHRyaWJ1dGVWYWx1ZShhdHRyaWJ1dGVGcmFtZSkgOiBudWxsO1xuXG4gICAgaWYgKHZhbHVlICYmIGVsZW1lbnQudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xuICAgICAgdmFsdWUgPSBub3JtYWxpemVJbnB1dFZhbHVlKHZhbHVlLCBlbGVtZW50KTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGVsZW1lbnQudGFnTmFtZSkge1xuICAgICAgY2FzZSAnSU5QVVQnOlxuICAgICAgY2FzZSAnU0VMRUNUJzpcbiAgICAgIGNhc2UgJ1RFWFRBUkVBJzoge1xuICAgICAgICAvLyA8c2VsZWN0PiBpcyBzcGVjaWFsLCBpbiB0aGF0IGFueXRoaW5nIHdlIHdyaXRlIHRvIC52YWx1ZSB3aWxsIGJlIGxvc3QgaWYgdGhlcmVcbiAgICAgICAgLy8gaXNuJ3QgeWV0IGEgbWF0Y2hpbmcgPG9wdGlvbj4uIFRvIG1haW50YWluIHRoZSBleHBlY3RlZCBiZWhhdmlvciBubyBtYXR0ZXIgdGhlXG4gICAgICAgIC8vIGVsZW1lbnQgaW5zZXJ0aW9uL3VwZGF0ZSBvcmRlciwgcHJlc2VydmUgdGhlIGRlc2lyZWQgdmFsdWUgc2VwYXJhdGVseSBzb1xuICAgICAgICAvLyB3ZSBjYW4gcmVjb3ZlciBpdCB3aGVuIGluc2VydGluZyBhbnkgbWF0Y2hpbmcgPG9wdGlvbj4gb3IgYWZ0ZXIgaW5zZXJ0aW5nIGFuXG4gICAgICAgIC8vIGVudGlyZSBtYXJrdXAgYmxvY2sgb2YgZGVzY2VuZGFudHMuXG5cbiAgICAgICAgLy8gV2UgYWxzbyBkZWZlciBzZXR0aW5nIHRoZSAndmFsdWUnIHByb3BlcnR5IGZvciA8aW5wdXQ+IGJlY2F1c2UgY2VydGFpbiB0eXBlcyBvZiBpbnB1dHMgaGF2ZVxuICAgICAgICAvLyBkZWZhdWx0IGF0dHJpYnV0ZSB2YWx1ZXMgdGhhdCBtYXkgaW5jb3JyZWN0bHkgY29uc3RhaW4gdGhlIHNwZWNpZmllZCAndmFsdWUnLlxuICAgICAgICAvLyBGb3IgZXhhbXBsZSwgcmFuZ2UgaW5wdXRzIGhhdmUgZGVmYXVsdCAnbWluJyBhbmQgJ21heCcgYXR0cmlidXRlcyB0aGF0IG1heSBpbmNvcnJlY3RseVxuICAgICAgICAvLyBjbGFtcCB0aGUgJ3ZhbHVlJyBwcm9wZXJ0eSBpZiBpdCBpcyBhcHBsaWVkIGJlZm9yZSBjdXN0b20gJ21pbicgYW5kICdtYXgnIGF0dHJpYnV0ZXMuXG5cbiAgICAgICAgaWYgKHZhbHVlICYmIGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudCAmJiBpc011bHRpcGxlU2VsZWN0RWxlbWVudChlbGVtZW50KSkge1xuICAgICAgICAgIHZhbHVlID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXREZWZlcnJlZEVsZW1lbnRWYWx1ZShlbGVtZW50LCB2YWx1ZSk7XG4gICAgICAgIGVsZW1lbnRbZGVmZXJyZWRWYWx1ZVByb3BuYW1lXSA9IHZhbHVlO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgY2FzZSAnT1BUSU9OJzoge1xuICAgICAgICBpZiAodmFsdWUgfHwgdmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgdmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VlIGFib3ZlIGZvciB3aHkgd2UgaGF2ZSB0aGlzIHNwZWNpYWwgaGFuZGxpbmcgZm9yIDxzZWxlY3Q+LzxvcHRpb24+XG4gICAgICAgIC8vIFNpdHVhdGlvbiAzXG4gICAgICAgIHRoaXMudHJ5U2V0U2VsZWN0VmFsdWVGcm9tT3B0aW9uRWxlbWVudCg8SFRNTE9wdGlvbkVsZW1lbnQ+ZWxlbWVudCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdHJ5QXBwbHlDaGVja2VkUHJvcGVydHkoYmF0Y2g6IFJlbmRlckJhdGNoLCBlbGVtZW50OiBFbGVtZW50LCBhdHRyaWJ1dGVGcmFtZTogUmVuZGVyVHJlZUZyYW1lIHwgbnVsbCkge1xuICAgIC8vIENlcnRhaW4gZWxlbWVudHMgaGF2ZSBidWlsdC1pbiBiZWhhdmlvdXIgZm9yIHRoZWlyICdjaGVja2VkJyBwcm9wZXJ0eVxuICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gYXR0cmlidXRlRnJhbWUgPyBiYXRjaC5mcmFtZVJlYWRlci5hdHRyaWJ1dGVWYWx1ZShhdHRyaWJ1dGVGcmFtZSkgOiBudWxsO1xuICAgICAgKGVsZW1lbnQgYXMgYW55KS5jaGVja2VkID0gdmFsdWUgIT09IG51bGw7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZmluZENsb3Nlc3RBbmNlc3RvclNlbGVjdEVsZW1lbnQoZWxlbWVudDogRWxlbWVudCB8IG51bGwpIHtcbiAgICB3aGlsZSAoZWxlbWVudCkge1xuICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBwcml2YXRlIGluc2VydEZyYW1lUmFuZ2UoYmF0Y2g6IFJlbmRlckJhdGNoLCBjb21wb25lbnRJZDogbnVtYmVyLCBwYXJlbnQ6IExvZ2ljYWxFbGVtZW50LCBjaGlsZEluZGV4OiBudW1iZXIsIGZyYW1lczogQXJyYXlWYWx1ZXM8UmVuZGVyVHJlZUZyYW1lPiwgc3RhcnRJbmRleDogbnVtYmVyLCBlbmRJbmRleEV4Y2w6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3Qgb3JpZ0NoaWxkSW5kZXggPSBjaGlsZEluZGV4O1xuICAgIGZvciAobGV0IGluZGV4ID0gc3RhcnRJbmRleDsgaW5kZXggPCBlbmRJbmRleEV4Y2w7IGluZGV4KyspIHtcbiAgICAgIGNvbnN0IGZyYW1lID0gYmF0Y2gucmVmZXJlbmNlRnJhbWVzRW50cnkoZnJhbWVzLCBpbmRleCk7XG4gICAgICBjb25zdCBudW1DaGlsZHJlbkluc2VydGVkID0gdGhpcy5pbnNlcnRGcmFtZShiYXRjaCwgY29tcG9uZW50SWQsIHBhcmVudCwgY2hpbGRJbmRleCwgZnJhbWVzLCBmcmFtZSwgaW5kZXgpO1xuICAgICAgY2hpbGRJbmRleCArPSBudW1DaGlsZHJlbkluc2VydGVkO1xuXG4gICAgICAvLyBTa2lwIG92ZXIgYW55IGRlc2NlbmRhbnRzLCBzaW5jZSB0aGV5IGFyZSBhbHJlYWR5IGRlYWx0IHdpdGggcmVjdXJzaXZlbHlcbiAgICAgIGluZGV4ICs9IGNvdW50RGVzY2VuZGFudEZyYW1lcyhiYXRjaCwgZnJhbWUpO1xuICAgIH1cblxuICAgIHJldHVybiAoY2hpbGRJbmRleCAtIG9yaWdDaGlsZEluZGV4KTsgLy8gVG90YWwgbnVtYmVyIG9mIGNoaWxkcmVuIGluc2VydGVkXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnREZXNjcmlwdG9yIHtcbiAgc3RhcnQ6IE5vZGU7XG4gIGVuZDogTm9kZTtcbn1cblxuZnVuY3Rpb24gcGFyc2VNYXJrdXAobWFya3VwOiBzdHJpbmcsIGlzU3ZnOiBib29sZWFuKSB7XG4gIGlmIChpc1N2Zykge1xuICAgIHNoYXJlZFN2Z0VsZW1Gb3JQYXJzaW5nLmlubmVySFRNTCA9IG1hcmt1cCB8fCAnICc7XG4gICAgcmV0dXJuIHNoYXJlZFN2Z0VsZW1Gb3JQYXJzaW5nO1xuICB9IGVsc2Uge1xuICAgIHNoYXJlZFRlbXBsYXRlRWxlbUZvclBhcnNpbmcuaW5uZXJIVE1MID0gbWFya3VwIHx8ICcgJztcbiAgICByZXR1cm4gc2hhcmVkVGVtcGxhdGVFbGVtRm9yUGFyc2luZy5jb250ZW50O1xuICB9XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUlucHV0VmFsdWUodmFsdWU6IHN0cmluZywgZWxlbWVudDogRWxlbWVudCk6IHN0cmluZyB7XG4gIC8vIFRpbWUgaW5wdXRzIChlLmcuICd0aW1lJyBhbmQgJ2RhdGV0aW1lLWxvY2FsJykgbWlzYmVoYXZlIG9uIGNocm9taXVtLWJhc2VkXG4gIC8vIGJyb3dzZXJzIHdoZW4gYSB0aW1lIGlzIHNldCB0aGF0IGluY2x1ZGVzIGEgc2Vjb25kcyB2YWx1ZSBvZiAnMDAnLCBtb3N0IG5vdGFibHlcbiAgLy8gd2hlbiBlbnRlcmVkIGZyb20ga2V5Ym9hcmQgaW5wdXQuIFRoaXMgYmVoYXZpb3IgaXMgbm90IGxpbWl0ZWQgdG8gc3BlY2lmaWNcbiAgLy8gJ3N0ZXAnIGF0dHJpYnV0ZSB2YWx1ZXMsIHNvIHdlIGFsd2F5cyByZW1vdmUgdGhlIHRyYWlsaW5nIHNlY29uZHMgdmFsdWUgaWYgdGhlXG4gIC8vIHRpbWUgZW5kcyBpbiAnMDAnLlxuICAvLyBTaW1pbGFybHksIGlmIGEgdGltZS1yZWxhdGVkIGVsZW1lbnQgZG9lc24ndCBoYXZlIGFueSAnc3RlcCcgYXR0cmlidXRlLCBicm93c2Vyc1xuICAvLyB0cmVhdCB0aGlzIGFzIFwicm91bmQgdG8gd2hvbGUgbnVtYmVyIG9mIG1pbnV0ZXNcIiBtYWtpbmcgaXQgaW52YWxpZCB0byBwYXNzIGFueVxuICAvLyAnc2Vjb25kcycgdmFsdWUsIHNvIGluIHRoYXQgY2FzZSB3ZSBzdHJpcCBvZmYgdGhlICdzZWNvbmRzJyBwYXJ0IG9mIHRoZSB2YWx1ZS5cblxuICBzd2l0Y2ggKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0eXBlJykpIHtcbiAgICBjYXNlICd0aW1lJzpcbiAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPT09IDggJiYgKHZhbHVlLmVuZHNXaXRoKCcwMCcpIHx8ICFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnc3RlcCcpKVxuICAgICAgICA/IHZhbHVlLnN1YnN0cmluZygwLCA1KVxuICAgICAgICA6IHZhbHVlO1xuICAgIGNhc2UgJ2RhdGV0aW1lLWxvY2FsJzpcbiAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPT09IDE5ICYmICh2YWx1ZS5lbmRzV2l0aCgnMDAnKSB8fCAhZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3N0ZXAnKSlcbiAgICAgICAgPyB2YWx1ZS5zdWJzdHJpbmcoMCwgMTYpXG4gICAgICAgIDogdmFsdWU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb3VudERlc2NlbmRhbnRGcmFtZXMoYmF0Y2g6IFJlbmRlckJhdGNoLCBmcmFtZTogUmVuZGVyVHJlZUZyYW1lKTogbnVtYmVyIHtcbiAgY29uc3QgZnJhbWVSZWFkZXIgPSBiYXRjaC5mcmFtZVJlYWRlcjtcbiAgc3dpdGNoIChmcmFtZVJlYWRlci5mcmFtZVR5cGUoZnJhbWUpKSB7XG4gICAgLy8gVGhlIGZvbGxvd2luZyBmcmFtZSB0eXBlcyBoYXZlIGEgc3VidHJlZSBsZW5ndGguIE90aGVyIGZyYW1lcyBtYXkgdXNlIHRoYXQgbWVtb3J5IHNsb3RcbiAgICAvLyB0byBtZWFuIHNvbWV0aGluZyBlbHNlLCBzbyB3ZSBtdXN0IG5vdCByZWFkIGl0LiBXZSBzaG91bGQgY29uc2lkZXIgaGF2aW5nIG5vbWluYWwgc3VidHlwZXNcbiAgICAvLyBvZiBSZW5kZXJUcmVlRnJhbWVQb2ludGVyIHRoYXQgcHJldmVudCBhY2Nlc3MgdG8gbm9uLWFwcGxpY2FibGUgZmllbGRzLlxuICAgIGNhc2UgRnJhbWVUeXBlLmNvbXBvbmVudDpcbiAgICBjYXNlIEZyYW1lVHlwZS5lbGVtZW50OlxuICAgIGNhc2UgRnJhbWVUeXBlLnJlZ2lvbjpcbiAgICAgIHJldHVybiBmcmFtZVJlYWRlci5zdWJ0cmVlTGVuZ3RoKGZyYW1lKSAtIDE7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAwO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNsZWFyRWxlbWVudChlbGVtZW50OiBFbGVtZW50KSB7XG4gIGxldCBjaGlsZE5vZGU6IE5vZGUgfCBudWxsO1xuICB3aGlsZSAoKGNoaWxkTm9kZSA9IGVsZW1lbnQuZmlyc3RDaGlsZCkpIHtcbiAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xlYXJCZXR3ZWVuKHN0YXJ0OiBOb2RlLCBlbmQ6IE5vZGUpOiB2b2lkIHtcbiAgY29uc3QgbG9naWNhbFBhcmVudCA9IGdldExvZ2ljYWxQYXJlbnQoc3RhcnQgYXMgdW5rbm93biBhcyBMb2dpY2FsRWxlbWVudCk7XG4gIGlmICghbG9naWNhbFBhcmVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGNsZWFyIGJldHdlZW4gbm9kZXMuIFRoZSBzdGFydCBub2RlIGRvZXMgbm90IGhhdmUgYSBsb2dpY2FsIHBhcmVudC5cIik7XG4gIH1cbiAgY29uc3QgY2hpbGRyZW4gPSBnZXRMb2dpY2FsQ2hpbGRyZW5BcnJheShsb2dpY2FsUGFyZW50KTtcbiAgY29uc3QgcmVtb3ZlU3RhcnQgPSBjaGlsZHJlbi5pbmRleE9mKHN0YXJ0IGFzIHVua25vd24gYXMgTG9naWNhbEVsZW1lbnQpICsgMTtcbiAgY29uc3QgZW5kSW5kZXggPSBjaGlsZHJlbi5pbmRleE9mKGVuZCBhcyB1bmtub3duIGFzIExvZ2ljYWxFbGVtZW50KTtcblxuICAvLyBXZSByZW1vdmUgdGhlIGVuZCBjb21wb25lbnQgY29tbWVudCBmcm9tIHRoZSBET00gYXMgd2UgZG9uJ3QgbmVlZCBpdCBhZnRlciB0aGlzIHBvaW50LlxuICBmb3IgKGxldCBpID0gcmVtb3ZlU3RhcnQ7IGkgPD0gZW5kSW5kZXg7IGkrKykge1xuICAgIHJlbW92ZUxvZ2ljYWxDaGlsZChsb2dpY2FsUGFyZW50LCByZW1vdmVTdGFydCk7XG4gIH1cblxuICAvLyBXZSBzYW5pdGl6ZSB0aGUgc3RhcnQgY29tbWVudCBieSByZW1vdmluZyBhbGwgdGhlIGluZm9ybWF0aW9uIGZyb20gaXQgbm93IHRoYXQgd2UgZG9uJ3QgbmVlZCBpdCBhbnltb3JlXG4gIC8vIGFzIGl0IGFkZHMgbm9pc2UgdG8gdGhlIERPTS5cbiAgc3RhcnQudGV4dENvbnRlbnQgPSAnISc7XG59XG5cbmZ1bmN0aW9uIHN0cmlwT25QcmVmaXgoYXR0cmlidXRlTmFtZTogc3RyaW5nKSB7XG4gIGlmIChhdHRyaWJ1dGVOYW1lLnN0YXJ0c1dpdGgoJ29uJykpIHtcbiAgICByZXR1cm4gYXR0cmlidXRlTmFtZS5zdWJzdHJpbmcoMik7XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoYEF0dHJpYnV0ZSBzaG91bGQgYmUgYW4gZXZlbnQgbmFtZSwgYnV0IGRvZXNuJ3Qgc3RhcnQgd2l0aCAnb24nLiBWYWx1ZTogJyR7YXR0cmlidXRlTmFtZX0nYCk7XG59XG5cbnR5cGUgQmxhem9ySHRtbFNlbGVjdEVsZW1lbnQgPSBIVE1MU2VsZWN0RWxlbWVudCAmIHsgX2JsYXpvckRlZmVycmVkVmFsdWU/OiBzdHJpbmcgfTtcblxuZnVuY3Rpb24gaXNNdWx0aXBsZVNlbGVjdEVsZW1lbnQoZWxlbWVudDogSFRNTFNlbGVjdEVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQudHlwZSA9PT0gJ3NlbGVjdC1tdWx0aXBsZSc7XG59XG5cbmZ1bmN0aW9uIHNldFNpbmdsZVNlbGVjdEVsZW1lbnRWYWx1ZShlbGVtZW50OiBIVE1MU2VsZWN0RWxlbWVudCwgdmFsdWU6IHN0cmluZyB8IG51bGwpIHtcbiAgLy8gVGhlcmUncyBubyBzZW5zaWJsZSB3YXkgdG8gcmVwcmVzZW50IGEgc2VsZWN0IG9wdGlvbiB3aXRoIHZhbHVlICdudWxsJywgYmVjYXVzZVxuICAvLyAoMSkgSFRNTCBhdHRyaWJ1dGVzIGNhbid0IGhhdmUgbnVsbCB2YWx1ZXMgLSB0aGUgY2xvc2VzdCBlcXVpdmFsZW50IGlzIGFic2VuY2Ugb2YgdGhlIGF0dHJpYnV0ZVxuICAvLyAoMikgV2hlbiBwaWNraW5nIGFuIDxvcHRpb24+IHdpdGggbm8gJ3ZhbHVlJyBhdHRyaWJ1dGUsIHRoZSBicm93c2VyIHRyZWF0cyB0aGUgdmFsdWUgYXMgYmVpbmcgdGhlXG4gIC8vICAgICAqdGV4dCBjb250ZW50KiBvbiB0aGF0IDxvcHRpb24+IGVsZW1lbnQuIFRyeWluZyB0byBzdXBwcmVzcyB0aGF0IGRlZmF1bHQgYmVoYXZpb3Igd291bGQgaW52b2x2ZVxuICAvLyAgICAgYSBsb25nIGNoYWluIG9mIHNwZWNpYWwtY2FzZSBoYWNrcywgYXMgd2VsbCBhcyBiZWluZyBicmVha2luZyB2cyAzLnguXG4gIC8vIFNvLCB0aGUgbW9zdCBwbGF1c2libGUgJ251bGwnIGVxdWl2YWxlbnQgaXMgYW4gZW1wdHkgc3RyaW5nLiBJdCdzIHVuZm9ydHVuYXRlIHRoYXQgcGVvcGxlIGNhbid0XG4gIC8vIHdyaXRlIDxvcHRpb24gdmFsdWU9QHNvbWVOdWxsVmFyaWFibGU+LCBhbmQgdGhhdCB3ZSBjYW4gbmV2ZXIgZGlzdGluZ3Vpc2ggYmV0d2VlbiBudWxsIGFuZCBlbXB0eVxuICAvLyBzdHJpbmcgaW4gYSBib3VuZCA8c2VsZWN0PiwgYnV0IHRoYXQncyBhIGxpbWl0IGluIHRoZSByZXByZXNlbnRhdGlvbmFsIHBvd2VyIG9mIEhUTUwuXG4gIGVsZW1lbnQudmFsdWUgPSB2YWx1ZSB8fCAnJztcbn1cblxuZnVuY3Rpb24gc2V0TXVsdGlwbGVTZWxlY3RFbGVtZW50VmFsdWUoZWxlbWVudDogSFRNTFNlbGVjdEVsZW1lbnQsIHZhbHVlOiBzdHJpbmdbXSB8IG51bGwpIHtcbiAgdmFsdWUgfHw9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnQub3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIGVsZW1lbnQub3B0aW9uc1tpXS5zZWxlY3RlZCA9IHZhbHVlLmluZGV4T2YoZWxlbWVudC5vcHRpb25zW2ldLnZhbHVlKSAhPT0gLTE7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0RGVmZXJyZWRFbGVtZW50VmFsdWUoZWxlbWVudDogRWxlbWVudCwgdmFsdWU6IGFueSkge1xuICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50KSB7XG4gICAgaWYgKGlzTXVsdGlwbGVTZWxlY3RFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICBzZXRNdWx0aXBsZVNlbGVjdEVsZW1lbnRWYWx1ZShlbGVtZW50LCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFNpbmdsZVNlbGVjdEVsZW1lbnRWYWx1ZShlbGVtZW50LCB2YWx1ZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIChlbGVtZW50IGFzIGFueSkudmFsdWUgPSB2YWx1ZTtcbiAgfVxufVxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuaW1wb3J0ICdAbWljcm9zb2Z0L2RvdG5ldC1qcy1pbnRlcm9wJztcbmltcG9ydCB7IHJlc2V0U2Nyb2xsQWZ0ZXJOZXh0QmF0Y2ggfSBmcm9tICcuLi9SZW5kZXJpbmcvUmVuZGVyZXInO1xuaW1wb3J0IHsgRXZlbnREZWxlZ2F0b3IgfSBmcm9tICcuLi9SZW5kZXJpbmcvRXZlbnRzL0V2ZW50RGVsZWdhdG9yJztcblxubGV0IGhhc0VuYWJsZWROYXZpZ2F0aW9uSW50ZXJjZXB0aW9uID0gZmFsc2U7XG5sZXQgaGFzUmVnaXN0ZXJlZE5hdmlnYXRpb25FdmVudExpc3RlbmVycyA9IGZhbHNlO1xubGV0IGhhc0xvY2F0aW9uQ2hhbmdpbmdFdmVudExpc3RlbmVycyA9IGZhbHNlO1xubGV0IGN1cnJlbnRIaXN0b3J5SW5kZXggPSAwO1xubGV0IGN1cnJlbnRMb2NhdGlvbkNoYW5naW5nQ2FsbElkID0gMDtcblxuLy8gV2lsbCBiZSBpbml0aWFsaXplZCBvbmNlIHNvbWVvbmUgcmVnaXN0ZXJzXG5sZXQgbm90aWZ5TG9jYXRpb25DaGFuZ2VkQ2FsbGJhY2s6ICgodXJpOiBzdHJpbmcsIHN0YXRlOiBzdHJpbmcgfCB1bmRlZmluZWQsIGludGVyY2VwdGVkOiBib29sZWFuKSA9PiBQcm9taXNlPHZvaWQ+KSB8IG51bGwgPSBudWxsO1xubGV0IG5vdGlmeUxvY2F0aW9uQ2hhbmdpbmdDYWxsYmFjazogKChjYWxsSWQ6IG51bWJlciwgdXJpOiBzdHJpbmcsIHN0YXRlOiBzdHJpbmcgfCB1bmRlZmluZWQsIGludGVyY2VwdGVkOiBib29sZWFuKSA9PiBQcm9taXNlPHZvaWQ+KSB8IG51bGwgPSBudWxsO1xuXG5sZXQgcG9wU3RhdGVDYWxsYmFjazogKChzdGF0ZTogUG9wU3RhdGVFdmVudCkgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQpID0gb25Ccm93c2VySW5pdGlhdGVkUG9wU3RhdGU7XG5sZXQgcmVzb2x2ZUN1cnJlbnROYXZpZ2F0aW9uOiAoKHNob3VsZENvbnRpbnVlTmF2aWdhdGlvbjogYm9vbGVhbikgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcblxuLy8gVGhlc2UgYXJlIHRoZSBmdW5jdGlvbnMgd2UncmUgbWFraW5nIGF2YWlsYWJsZSBmb3IgaW52b2NhdGlvbiBmcm9tIC5ORVRcbmV4cG9ydCBjb25zdCBpbnRlcm5hbEZ1bmN0aW9ucyA9IHtcbiAgbGlzdGVuRm9yTmF2aWdhdGlvbkV2ZW50cyxcbiAgZW5hYmxlTmF2aWdhdGlvbkludGVyY2VwdGlvbixcbiAgc2V0SGFzTG9jYXRpb25DaGFuZ2luZ0xpc3RlbmVycyxcbiAgZW5kTG9jYXRpb25DaGFuZ2luZyxcbiAgbmF2aWdhdGVUbzogbmF2aWdhdGVUb0Zyb21Eb3ROZXQsXG4gIGdldEJhc2VVUkk6ICgpOiBzdHJpbmcgPT4gZG9jdW1lbnQuYmFzZVVSSSxcbiAgZ2V0TG9jYXRpb25IcmVmOiAoKTogc3RyaW5nID0+IGxvY2F0aW9uLmhyZWYsXG4gIHNjcm9sbFRvRWxlbWVudCxcbn07XG5cbmZ1bmN0aW9uIGxpc3RlbkZvck5hdmlnYXRpb25FdmVudHMoXG4gIGxvY2F0aW9uQ2hhbmdlZENhbGxiYWNrOiAodXJpOiBzdHJpbmcsIHN0YXRlOiBzdHJpbmcgfCB1bmRlZmluZWQsIGludGVyY2VwdGVkOiBib29sZWFuKSA9PiBQcm9taXNlPHZvaWQ+LFxuICBsb2NhdGlvbkNoYW5naW5nQ2FsbGJhY2s6IChjYWxsSWQ6IG51bWJlciwgdXJpOiBzdHJpbmcsIHN0YXRlOiBzdHJpbmcgfCB1bmRlZmluZWQsIGludGVyY2VwdGVkOiBib29sZWFuKSA9PiBQcm9taXNlPHZvaWQ+XG4pOiB2b2lkIHtcbiAgbm90aWZ5TG9jYXRpb25DaGFuZ2VkQ2FsbGJhY2sgPSBsb2NhdGlvbkNoYW5nZWRDYWxsYmFjaztcbiAgbm90aWZ5TG9jYXRpb25DaGFuZ2luZ0NhbGxiYWNrID0gbG9jYXRpb25DaGFuZ2luZ0NhbGxiYWNrO1xuXG4gIGlmIChoYXNSZWdpc3RlcmVkTmF2aWdhdGlvbkV2ZW50TGlzdGVuZXJzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaGFzUmVnaXN0ZXJlZE5hdmlnYXRpb25FdmVudExpc3RlbmVycyA9IHRydWU7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIG9uUG9wU3RhdGUpO1xuICBjdXJyZW50SGlzdG9yeUluZGV4ID0gaGlzdG9yeS5zdGF0ZT8uX2luZGV4ID8/IDA7XG59XG5cbmZ1bmN0aW9uIGVuYWJsZU5hdmlnYXRpb25JbnRlcmNlcHRpb24oKTogdm9pZCB7XG4gIGhhc0VuYWJsZWROYXZpZ2F0aW9uSW50ZXJjZXB0aW9uID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gc2V0SGFzTG9jYXRpb25DaGFuZ2luZ0xpc3RlbmVycyhoYXNMaXN0ZW5lcnM6IGJvb2xlYW4pIHtcbiAgaGFzTG9jYXRpb25DaGFuZ2luZ0V2ZW50TGlzdGVuZXJzID0gaGFzTGlzdGVuZXJzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2Nyb2xsVG9FbGVtZW50KGlkZW50aWZpZXI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRlbnRpZmllcik7XG5cbiAgaWYgKGVsZW1lbnQpIHtcbiAgICBlbGVtZW50LnNjcm9sbEludG9WaWV3KCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhdHRhY2hUb0V2ZW50RGVsZWdhdG9yKGV2ZW50RGVsZWdhdG9yOiBFdmVudERlbGVnYXRvcik6IHZvaWQge1xuICAvLyBXZSBuZWVkIHRvIHJlc3BvbmQgdG8gY2xpY2tzIG9uIDxhPiBlbGVtZW50cyAqYWZ0ZXIqIHRoZSBFdmVudERlbGVnYXRvciBoYXMgZmluaXNoZWRcbiAgLy8gcnVubmluZyBpdHMgc2ltdWxhdGVkIGJ1YmJsaW5nIHByb2Nlc3Mgc28gdGhhdCB3ZSBjYW4gcmVzcGVjdCBhbnkgcHJldmVudERlZmF1bHQgcmVxdWVzdHMuXG4gIC8vIFNvIGluc3RlYWQgb2YgcmVnaXN0ZXJpbmcgb3VyIG93biBuYXRpdmUgZXZlbnQsIHJlZ2lzdGVyIHVzaW5nIHRoZSBFdmVudERlbGVnYXRvci5cbiAgZXZlbnREZWxlZ2F0b3Iubm90aWZ5QWZ0ZXJDbGljayhldmVudCA9PiB7XG4gICAgaWYgKCFoYXNFbmFibGVkTmF2aWdhdGlvbkludGVyY2VwdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChldmVudC5idXR0b24gIT09IDAgfHwgZXZlbnRIYXNTcGVjaWFsS2V5KGV2ZW50KSkge1xuICAgICAgLy8gRG9uJ3Qgc3RvcCBjdHJsL21ldGEtY2xpY2sgKGV0YykgZnJvbSBvcGVuaW5nIGxpbmtzIGluIG5ldyB0YWJzL3dpbmRvd3NcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEludGVyY2VwdCBjbGlja3Mgb24gYWxsIDxhPiBlbGVtZW50cyB3aGVyZSB0aGUgaHJlZiBpcyB3aXRoaW4gdGhlIDxiYXNlIGhyZWY+IFVSSSBzcGFjZVxuICAgIC8vIFdlIG11c3QgZXhwbGljaXRseSBjaGVjayBpZiBpdCBoYXMgYW4gJ2hyZWYnIGF0dHJpYnV0ZSwgYmVjYXVzZSBpZiBpdCBkb2Vzbid0LCB0aGUgcmVzdWx0IG1pZ2h0IGJlIG51bGwgb3IgYW4gZW1wdHkgc3RyaW5nIGRlcGVuZGluZyBvbiB0aGUgYnJvd3NlclxuICAgIGNvbnN0IGFuY2hvclRhcmdldCA9IGZpbmRBbmNob3JUYXJnZXQoZXZlbnQpO1xuXG4gICAgaWYgKGFuY2hvclRhcmdldCAmJiBjYW5Qcm9jZXNzQW5jaG9yKGFuY2hvclRhcmdldCkpIHtcbiAgICAgIGNvbnN0IGFuY2hvckhyZWYgPSBhbmNob3JUYXJnZXQuZ2V0QXR0cmlidXRlKCdocmVmJykhO1xuXG4gICAgICBjb25zdCBhYnNvbHV0ZUhyZWYgPSB0b0Fic29sdXRlVXJpKGFuY2hvckhyZWYpO1xuXG4gICAgICBpZiAoaXNXaXRoaW5CYXNlVXJpU3BhY2UoYWJzb2x1dGVIcmVmKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBwZXJmb3JtSW50ZXJuYWxOYXZpZ2F0aW9uKGFic29sdXRlSHJlZiwgLyogaW50ZXJjZXB0ZWRMaW5rICovIHRydWUsIC8qIHJlcGxhY2UgKi8gZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGlzU2FtZVBhZ2VXaXRoSGFzaChhYnNvbHV0ZUhyZWY6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBjb25zdCBoYXNoSW5kZXggPSBhYnNvbHV0ZUhyZWYuaW5kZXhPZignIycpO1xuICByZXR1cm4gaGFzaEluZGV4ID4gLTEgJiYgbG9jYXRpb24uaHJlZi5yZXBsYWNlKGxvY2F0aW9uLmhhc2gsICcnKSA9PT0gYWJzb2x1dGVIcmVmLnN1YnN0cmluZygwLCBoYXNoSW5kZXgpO1xufVxuXG5mdW5jdGlvbiBwZXJmb3JtU2Nyb2xsVG9FbGVtZW50T25UaGVTYW1lUGFnZShhYnNvbHV0ZUhyZWYgOiBzdHJpbmcsIHJlcGxhY2U6IGJvb2xlYW4sIHN0YXRlOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpOiB2b2lkIHtcbiAgc2F2ZVRvQnJvd3Nlckhpc3RvcnkoYWJzb2x1dGVIcmVmLCByZXBsYWNlLCBzdGF0ZSk7XG5cbiAgY29uc3QgaGFzaEluZGV4ID0gYWJzb2x1dGVIcmVmLmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2hJbmRleCA9PT0gYWJzb2x1dGVIcmVmLmxlbmd0aCAtIDEpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBpZGVudGlmaWVyID0gYWJzb2x1dGVIcmVmLnN1YnN0cmluZyhoYXNoSW5kZXggKyAxKTtcbiAgc2Nyb2xsVG9FbGVtZW50KGlkZW50aWZpZXIpO1xufVxuXG4vLyBGb3IgYmFjay1jb21wYXQsIHdlIG5lZWQgdG8gYWNjZXB0IG11bHRpcGxlIG92ZXJsb2Fkc1xuZXhwb3J0IGZ1bmN0aW9uIG5hdmlnYXRlVG8odXJpOiBzdHJpbmcsIG9wdGlvbnM6IE5hdmlnYXRpb25PcHRpb25zKTogdm9pZDtcbmV4cG9ydCBmdW5jdGlvbiBuYXZpZ2F0ZVRvKHVyaTogc3RyaW5nLCBmb3JjZUxvYWQ6IGJvb2xlYW4pOiB2b2lkO1xuZXhwb3J0IGZ1bmN0aW9uIG5hdmlnYXRlVG8odXJpOiBzdHJpbmcsIGZvcmNlTG9hZDogYm9vbGVhbiwgcmVwbGFjZTogYm9vbGVhbik6IHZvaWQ7XG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVUbyh1cmk6IHN0cmluZywgZm9yY2VMb2FkT3JPcHRpb25zOiBOYXZpZ2F0aW9uT3B0aW9ucyB8IGJvb2xlYW4sIHJlcGxhY2VJZlVzaW5nT2xkT3ZlcmxvYWQgPSBmYWxzZSk6IHZvaWQge1xuICAvLyBOb3JtYWxpemUgdGhlIHBhcmFtZXRlcnMgdG8gdGhlIG5ld2VyIG92ZXJsb2FkIChpLmUuLCB1c2luZyBOYXZpZ2F0aW9uT3B0aW9ucylcbiAgY29uc3Qgb3B0aW9uczogTmF2aWdhdGlvbk9wdGlvbnMgPSBmb3JjZUxvYWRPck9wdGlvbnMgaW5zdGFuY2VvZiBPYmplY3RcbiAgICA/IGZvcmNlTG9hZE9yT3B0aW9uc1xuICAgIDogeyBmb3JjZUxvYWQ6IGZvcmNlTG9hZE9yT3B0aW9ucywgcmVwbGFjZUhpc3RvcnlFbnRyeTogcmVwbGFjZUlmVXNpbmdPbGRPdmVybG9hZCB9O1xuXG4gIG5hdmlnYXRlVG9Db3JlKHVyaSwgb3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIG5hdmlnYXRlVG9Gcm9tRG90TmV0KHVyaTogc3RyaW5nLCBvcHRpb25zOiBOYXZpZ2F0aW9uT3B0aW9ucyk6IHZvaWQge1xuICAvLyBUaGUgbG9jYXRpb24gY2hhbmdpbmcgY2FsbGJhY2sgaXMgY2FsbGVkIGZyb20gLk5FVCBmb3IgcHJvZ3JhbW1hdGljIG5hdmlnYXRpb25zIG9yaWdpbmF0aW5nIGZyb20gLk5FVC5cbiAgLy8gSW4gdGhpcyBjYXNlLCB3ZSBzaG91bGRuJ3QgaW52b2tlIHRoZSBjYWxsYmFjayBhZ2FpbiBmcm9tIHRoZSBKUyBzaWRlLlxuICBuYXZpZ2F0ZVRvQ29yZSh1cmksIG9wdGlvbnMsIC8qIHNraXBMb2NhdGlvbkNoYW5naW5nQ2FsbGJhY2sgKi8gdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIG5hdmlnYXRlVG9Db3JlKHVyaTogc3RyaW5nLCBvcHRpb25zOiBOYXZpZ2F0aW9uT3B0aW9ucywgc2tpcExvY2F0aW9uQ2hhbmdpbmdDYWxsYmFjayA9IGZhbHNlKTogdm9pZCB7XG4gIGNvbnN0IGFic29sdXRlVXJpID0gdG9BYnNvbHV0ZVVyaSh1cmkpO1xuXG4gIGlmICghb3B0aW9ucy5mb3JjZUxvYWQgJiYgaXNXaXRoaW5CYXNlVXJpU3BhY2UoYWJzb2x1dGVVcmkpKSB7XG4gICAgcGVyZm9ybUludGVybmFsTmF2aWdhdGlvbihhYnNvbHV0ZVVyaSwgZmFsc2UsIG9wdGlvbnMucmVwbGFjZUhpc3RvcnlFbnRyeSwgb3B0aW9ucy5oaXN0b3J5RW50cnlTdGF0ZSwgc2tpcExvY2F0aW9uQ2hhbmdpbmdDYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgLy8gRm9yIGV4dGVybmFsIG5hdmlnYXRpb24sIHdlIHdvcmsgaW4gdGVybXMgb2YgdGhlIG9yaWdpbmFsbHktc3VwcGxpZWQgdXJpIHN0cmluZyxcbiAgICAvLyBub3QgdGhlIGNvbXB1dGVkIGFic29sdXRlVXJpLiBUaGlzIGlzIGluIGNhc2UgdGhlcmUgYXJlIHNvbWUgc3BlY2lhbCBVUkkgZm9ybWF0c1xuICAgIC8vIHdlJ3JlIHVuYWJsZSB0byB0cmFuc2xhdGUgaW50byBhYnNvbHV0ZSBVUklzLlxuICAgIHBlcmZvcm1FeHRlcm5hbE5hdmlnYXRpb24odXJpLCBvcHRpb25zLnJlcGxhY2VIaXN0b3J5RW50cnkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBlcmZvcm1FeHRlcm5hbE5hdmlnYXRpb24odXJpOiBzdHJpbmcsIHJlcGxhY2U6IGJvb2xlYW4pIHtcbiAgaWYgKGxvY2F0aW9uLmhyZWYgPT09IHVyaSkge1xuICAgIC8vIElmIHlvdSdyZSBhbHJlYWR5IG9uIHRoaXMgVVJMLCB5b3UgY2FuJ3QgYXBwZW5kIGFub3RoZXIgY29weSBvZiBpdCB0byB0aGUgaGlzdG9yeSBzdGFjayxcbiAgICAvLyBzbyB3ZSBjYW4gaWdub3JlIHRoZSAncmVwbGFjZScgZmxhZy4gSG93ZXZlciwgcmVsb2FkaW5nIHRoZSBzYW1lIFVSTCB5b3UncmUgYWxyZWFkeSBvblxuICAgIC8vIHJlcXVpcmVzIHNwZWNpYWwgaGFuZGxpbmcgdG8gYXZvaWQgdHJpZ2dlcmluZyBicm93c2VyLXNwZWNpZmljIGJlaGF2aW9yIGlzc3Vlcy5cbiAgICAvLyBGb3IgZGV0YWlscyBhYm91dCB3aGF0IHRoaXMgZml4ZXMgYW5kIHdoeSwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9kb3RuZXQvYXNwbmV0Y29yZS9wdWxsLzEwODM5XG4gICAgY29uc3QgdGVtcG9yYXJ5VXJpID0gdXJpICsgJz8nO1xuICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsICcnLCB0ZW1wb3JhcnlVcmkpO1xuICAgIGxvY2F0aW9uLnJlcGxhY2UodXJpKTtcbiAgfSBlbHNlIGlmIChyZXBsYWNlKSB7XG4gICAgbG9jYXRpb24ucmVwbGFjZSh1cmkpO1xuICB9IGVsc2Uge1xuICAgIGxvY2F0aW9uLmhyZWYgPSB1cmk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcGVyZm9ybUludGVybmFsTmF2aWdhdGlvbihhYnNvbHV0ZUludGVybmFsSHJlZjogc3RyaW5nLCBpbnRlcmNlcHRlZExpbms6IGJvb2xlYW4sIHJlcGxhY2U6IGJvb2xlYW4sIHN0YXRlOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsIHNraXBMb2NhdGlvbkNoYW5naW5nQ2FsbGJhY2sgPSBmYWxzZSkge1xuICBpZ25vcmVQZW5kaW5nTmF2aWdhdGlvbigpO1xuXG4gIGlmIChpc1NhbWVQYWdlV2l0aEhhc2goYWJzb2x1dGVJbnRlcm5hbEhyZWYpKSB7XG4gICAgcGVyZm9ybVNjcm9sbFRvRWxlbWVudE9uVGhlU2FtZVBhZ2UoYWJzb2x1dGVJbnRlcm5hbEhyZWYsIHJlcGxhY2UsIHN0YXRlKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIXNraXBMb2NhdGlvbkNoYW5naW5nQ2FsbGJhY2sgJiYgaGFzTG9jYXRpb25DaGFuZ2luZ0V2ZW50TGlzdGVuZXJzKSB7XG4gICAgY29uc3Qgc2hvdWxkQ29udGludWVOYXZpZ2F0aW9uID0gYXdhaXQgbm90aWZ5TG9jYXRpb25DaGFuZ2luZyhhYnNvbHV0ZUludGVybmFsSHJlZiwgc3RhdGUsIGludGVyY2VwdGVkTGluayk7XG4gICAgaWYgKCFzaG91bGRDb250aW51ZU5hdmlnYXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICAvLyBTaW5jZSB0aGlzIHdhcyAqbm90KiB0cmlnZ2VyZWQgYnkgYSBiYWNrL2ZvcndhcmQgZ2VzdHVyZSAodGhhdCBnb2VzIHRocm91Z2ggYSBkaWZmZXJlbnRcbiAgLy8gY29kZSBwYXRoIHN0YXJ0aW5nIHdpdGggYSBwb3BzdGF0ZSBldmVudCksIHdlIGRvbid0IHdhbnQgdG8gcHJlc2VydmUgdGhlIGN1cnJlbnQgc2Nyb2xsXG4gIC8vIHBvc2l0aW9uLCBzbyByZXNldCBpdC5cbiAgLy8gVG8gYXZvaWQgdWdseSBmbGlja2VyaW5nIGVmZmVjdHMsIHdlIGRvbid0IHdhbnQgdG8gY2hhbmdlIHRoZSBzY3JvbGwgcG9zaXRpb24gdW50aWxcbiAgLy8gd2UgcmVuZGVyIHRoZSBuZXcgcGFnZS4gQXMgYSBiZXN0IGFwcHJveGltYXRpb24sIHdhaXQgdW50aWwgdGhlIG5leHQgYmF0Y2guXG4gIHJlc2V0U2Nyb2xsQWZ0ZXJOZXh0QmF0Y2goKTtcblxuICBzYXZlVG9Ccm93c2VySGlzdG9yeShhYnNvbHV0ZUludGVybmFsSHJlZiwgcmVwbGFjZSwgc3RhdGUpO1xuXG4gIGF3YWl0IG5vdGlmeUxvY2F0aW9uQ2hhbmdlZChpbnRlcmNlcHRlZExpbmspO1xufVxuXG5mdW5jdGlvbiBzYXZlVG9Ccm93c2VySGlzdG9yeShhYnNvbHV0ZUludGVybmFsSHJlZjogc3RyaW5nLCByZXBsYWNlOiBib29sZWFuLCBzdGF0ZTogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKTogdm9pZCB7XG4gIGlmICghcmVwbGFjZSkge1xuICAgIGN1cnJlbnRIaXN0b3J5SW5kZXgrKztcbiAgICBoaXN0b3J5LnB1c2hTdGF0ZSh7XG4gICAgICB1c2VyU3RhdGU6IHN0YXRlLFxuICAgICAgX2luZGV4OiBjdXJyZW50SGlzdG9yeUluZGV4LFxuICAgIH0sIC8qIGlnbm9yZWQgdGl0bGUgKi8gJycsIGFic29sdXRlSW50ZXJuYWxIcmVmKTtcbiAgfSBlbHNlIHtcbiAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZSh7XG4gICAgICB1c2VyU3RhdGU6IHN0YXRlLFxuICAgICAgX2luZGV4OiBjdXJyZW50SGlzdG9yeUluZGV4LFxuICAgIH0sIC8qIGlnbm9yZWQgdGl0bGUgKi8gJycsIGFic29sdXRlSW50ZXJuYWxIcmVmKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBuYXZpZ2F0ZUhpc3RvcnlXaXRob3V0UG9wU3RhdGVDYWxsYmFjayhkZWx0YTogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICBjb25zdCBvbGRQb3BTdGF0ZUNhbGxiYWNrID0gcG9wU3RhdGVDYWxsYmFjaztcblxuICAgIHBvcFN0YXRlQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICBwb3BTdGF0ZUNhbGxiYWNrID0gb2xkUG9wU3RhdGVDYWxsYmFjaztcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9O1xuXG4gICAgaGlzdG9yeS5nbyhkZWx0YSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBpZ25vcmVQZW5kaW5nTmF2aWdhdGlvbigpIHtcbiAgaWYgKHJlc29sdmVDdXJyZW50TmF2aWdhdGlvbikge1xuICAgIHJlc29sdmVDdXJyZW50TmF2aWdhdGlvbihmYWxzZSk7XG4gICAgcmVzb2x2ZUN1cnJlbnROYXZpZ2F0aW9uID0gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBub3RpZnlMb2NhdGlvbkNoYW5naW5nKHVyaTogc3RyaW5nLCBzdGF0ZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBpbnRlcmNlcHRlZDogYm9vbGVhbik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICByZXR1cm4gbmV3IFByb21pc2U8Ym9vbGVhbj4ocmVzb2x2ZSA9PiB7XG4gICAgaWdub3JlUGVuZGluZ05hdmlnYXRpb24oKTtcblxuICAgIGlmICghbm90aWZ5TG9jYXRpb25DaGFuZ2luZ0NhbGxiYWNrKSB7XG4gICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjdXJyZW50TG9jYXRpb25DaGFuZ2luZ0NhbGxJZCsrO1xuICAgIHJlc29sdmVDdXJyZW50TmF2aWdhdGlvbiA9IHJlc29sdmU7XG4gICAgbm90aWZ5TG9jYXRpb25DaGFuZ2luZ0NhbGxiYWNrKGN1cnJlbnRMb2NhdGlvbkNoYW5naW5nQ2FsbElkLCB1cmksIHN0YXRlLCBpbnRlcmNlcHRlZCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBlbmRMb2NhdGlvbkNoYW5naW5nKGNhbGxJZDogbnVtYmVyLCBzaG91bGRDb250aW51ZU5hdmlnYXRpb246IGJvb2xlYW4pIHtcbiAgaWYgKHJlc29sdmVDdXJyZW50TmF2aWdhdGlvbiAmJiBjYWxsSWQgPT09IGN1cnJlbnRMb2NhdGlvbkNoYW5naW5nQ2FsbElkKSB7XG4gICAgcmVzb2x2ZUN1cnJlbnROYXZpZ2F0aW9uKHNob3VsZENvbnRpbnVlTmF2aWdhdGlvbik7XG4gICAgcmVzb2x2ZUN1cnJlbnROYXZpZ2F0aW9uID0gbnVsbDtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBvbkJyb3dzZXJJbml0aWF0ZWRQb3BTdGF0ZShzdGF0ZTogUG9wU3RhdGVFdmVudCkge1xuICBpZ25vcmVQZW5kaW5nTmF2aWdhdGlvbigpO1xuXG4gIGlmIChoYXNMb2NhdGlvbkNoYW5naW5nRXZlbnRMaXN0ZW5lcnMpIHtcbiAgICBjb25zdCBpbmRleCA9IHN0YXRlLnN0YXRlPy5faW5kZXggPz8gMDtcbiAgICBjb25zdCB1c2VyU3RhdGUgPSBzdGF0ZS5zdGF0ZT8udXNlclN0YXRlO1xuICAgIGNvbnN0IGRlbHRhID0gaW5kZXggLSBjdXJyZW50SGlzdG9yeUluZGV4O1xuICAgIGNvbnN0IHVyaSA9IGxvY2F0aW9uLmhyZWY7XG5cbiAgICAvLyBUZW1wb3JhcmlseSByZXZlcnQgdGhlIG5hdmlnYXRpb24gdW50aWwgd2UgY29uZmlybSBpZiB0aGUgbmF2aWdhdGlvbiBzaG91bGQgY29udGludWUuXG4gICAgYXdhaXQgbmF2aWdhdGVIaXN0b3J5V2l0aG91dFBvcFN0YXRlQ2FsbGJhY2soLWRlbHRhKTtcblxuICAgIGNvbnN0IHNob3VsZENvbnRpbnVlTmF2aWdhdGlvbiA9IGF3YWl0IG5vdGlmeUxvY2F0aW9uQ2hhbmdpbmcodXJpLCB1c2VyU3RhdGUsIGZhbHNlKTtcbiAgICBpZiAoIXNob3VsZENvbnRpbnVlTmF2aWdhdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGF3YWl0IG5hdmlnYXRlSGlzdG9yeVdpdGhvdXRQb3BTdGF0ZUNhbGxiYWNrKGRlbHRhKTtcbiAgfVxuXG4gIGF3YWl0IG5vdGlmeUxvY2F0aW9uQ2hhbmdlZChmYWxzZSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIG5vdGlmeUxvY2F0aW9uQ2hhbmdlZChpbnRlcmNlcHRlZExpbms6IGJvb2xlYW4pIHtcbiAgaWYgKG5vdGlmeUxvY2F0aW9uQ2hhbmdlZENhbGxiYWNrKSB7XG4gICAgYXdhaXQgbm90aWZ5TG9jYXRpb25DaGFuZ2VkQ2FsbGJhY2sobG9jYXRpb24uaHJlZiwgaGlzdG9yeS5zdGF0ZT8udXNlclN0YXRlLCBpbnRlcmNlcHRlZExpbmspO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIG9uUG9wU3RhdGUoc3RhdGU6IFBvcFN0YXRlRXZlbnQpIHtcbiAgaWYgKHBvcFN0YXRlQ2FsbGJhY2spIHtcbiAgICBhd2FpdCBwb3BTdGF0ZUNhbGxiYWNrKHN0YXRlKTtcbiAgfVxuXG4gIGN1cnJlbnRIaXN0b3J5SW5kZXggPSBoaXN0b3J5LnN0YXRlPy5faW5kZXggPz8gMDtcbn1cblxubGV0IHRlc3RBbmNob3I6IEhUTUxBbmNob3JFbGVtZW50O1xuZXhwb3J0IGZ1bmN0aW9uIHRvQWJzb2x1dGVVcmkocmVsYXRpdmVVcmk6IHN0cmluZyk6IHN0cmluZyB7XG4gIHRlc3RBbmNob3IgPSB0ZXN0QW5jaG9yIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgdGVzdEFuY2hvci5ocmVmID0gcmVsYXRpdmVVcmk7XG4gIHJldHVybiB0ZXN0QW5jaG9yLmhyZWY7XG59XG5cbmZ1bmN0aW9uIGZpbmRBbmNob3JUYXJnZXQoZXZlbnQ6IE1vdXNlRXZlbnQpOiBIVE1MQW5jaG9yRWxlbWVudCB8IG51bGwge1xuICAvLyBfYmxhem9yRGlzYWJsZUNvbXBvc2VkUGF0aCBpcyBhIHRlbXBvcmFyeSBlc2NhcGUgaGF0Y2ggaW4gY2FzZSBhbnkgcHJvYmxlbXMgYXJlIGRpc2NvdmVyZWRcbiAgLy8gaW4gdGhpcyBsb2dpYy4gSXQgY2FuIGJlIHJlbW92ZWQgaW4gYSBsYXRlciByZWxlYXNlLCBhbmQgc2hvdWxkIG5vdCBiZSBjb25zaWRlcmVkIHN1cHBvcnRlZCBBUEkuXG4gIGNvbnN0IHBhdGggPSAhd2luZG93WydfYmxhem9yRGlzYWJsZUNvbXBvc2VkUGF0aCddICYmIGV2ZW50LmNvbXBvc2VkUGF0aCAmJiBldmVudC5jb21wb3NlZFBhdGgoKTtcbiAgaWYgKHBhdGgpIHtcbiAgICAvLyBUaGlzIGxvZ2ljIHdvcmtzIHdpdGggZXZlbnRzIHRoYXQgdGFyZ2V0IGVsZW1lbnRzIHdpdGhpbiBhIHNoYWRvdyByb290LFxuICAgIC8vIGFzIGxvbmcgYXMgdGhlIHNoYWRvdyBtb2RlIGlzICdvcGVuJy4gRm9yIGNsb3NlZCBzaGFkb3dzLCB3ZSBjYW4ndCBwb3NzaWJseVxuICAgIC8vIGtub3cgd2hhdCBpbnRlcm5hbCBlbGVtZW50IHdhcyBjbGlja2VkLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2FuZGlkYXRlID0gcGF0aFtpXTtcbiAgICAgIGlmIChjYW5kaWRhdGUgaW5zdGFuY2VvZiBFbGVtZW50ICYmIGNhbmRpZGF0ZS50YWdOYW1lID09PSAnQScpIHtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZSBhcyBIVE1MQW5jaG9yRWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSB7XG4gICAgLy8gU2luY2Ugd2UncmUgYWRkaW5nIHVzZSBvZiBjb21wb3NlZFBhdGggaW4gYSBwYXRjaCwgcmV0YWluIGNvbXBhdGliaWxpdHkgd2l0aCBhbnlcbiAgICAvLyBsZWdhY3kgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IGl0IGJ5IGZhbGxpbmcgYmFjayBvbiB0aGUgb2xkZXIgbG9naWMsIGV2ZW5cbiAgICAvLyB0aG91Z2ggaXQgd29uJ3Qgd29yayBwcm9wZXJseSB3aXRoIFNoYWRvd0RPTS4gVGhpcyBjYW4gYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dFxuICAgIC8vIG1ham9yIHJlbGVhc2UuXG4gICAgcmV0dXJuIGZpbmRDbG9zZXN0QW5jaG9yQW5jZXN0b3JMZWdhY3koZXZlbnQudGFyZ2V0IGFzIEVsZW1lbnQgfCBudWxsLCAnQScpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRDbG9zZXN0QW5jaG9yQW5jZXN0b3JMZWdhY3koZWxlbWVudDogRWxlbWVudCB8IG51bGwsIHRhZ05hbWU6IHN0cmluZykge1xuICByZXR1cm4gIWVsZW1lbnRcbiAgICA/IG51bGxcbiAgICA6IGVsZW1lbnQudGFnTmFtZSA9PT0gdGFnTmFtZVxuICAgICAgPyBlbGVtZW50XG4gICAgICA6IGZpbmRDbG9zZXN0QW5jaG9yQW5jZXN0b3JMZWdhY3koZWxlbWVudC5wYXJlbnRFbGVtZW50LCB0YWdOYW1lKTtcbn1cblxuZnVuY3Rpb24gaXNXaXRoaW5CYXNlVXJpU3BhY2UoaHJlZjogc3RyaW5nKSB7XG4gIGNvbnN0IGJhc2VVcmlXaXRob3V0VHJhaWxpbmdTbGFzaCA9IHRvQmFzZVVyaVdpdGhvdXRUcmFpbGluZ1NsYXNoKGRvY3VtZW50LmJhc2VVUkkhKTtcbiAgY29uc3QgbmV4dENoYXIgPSBocmVmLmNoYXJBdChiYXNlVXJpV2l0aG91dFRyYWlsaW5nU2xhc2gubGVuZ3RoKTtcblxuICByZXR1cm4gaHJlZi5zdGFydHNXaXRoKGJhc2VVcmlXaXRob3V0VHJhaWxpbmdTbGFzaClcbiAgICAmJiAobmV4dENoYXIgPT09ICcnIHx8IG5leHRDaGFyID09PSAnLycgfHwgbmV4dENoYXIgPT09ICc/JyB8fCBuZXh0Q2hhciA9PT0gJyMnKTtcbn1cblxuZnVuY3Rpb24gdG9CYXNlVXJpV2l0aG91dFRyYWlsaW5nU2xhc2goYmFzZVVyaTogc3RyaW5nKSB7XG4gIHJldHVybiBiYXNlVXJpLnN1YnN0cmluZygwLCBiYXNlVXJpLmxhc3RJbmRleE9mKCcvJykpO1xufVxuXG5mdW5jdGlvbiBldmVudEhhc1NwZWNpYWxLZXkoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgcmV0dXJuIGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXk7XG59XG5cbmZ1bmN0aW9uIGNhblByb2Nlc3NBbmNob3IoYW5jaG9yVGFyZ2V0OiBIVE1MQW5jaG9yRWxlbWVudCkge1xuICBjb25zdCB0YXJnZXRBdHRyaWJ1dGVWYWx1ZSA9IGFuY2hvclRhcmdldC5nZXRBdHRyaWJ1dGUoJ3RhcmdldCcpO1xuICBjb25zdCBvcGVuc0luU2FtZUZyYW1lID0gIXRhcmdldEF0dHJpYnV0ZVZhbHVlIHx8IHRhcmdldEF0dHJpYnV0ZVZhbHVlID09PSAnX3NlbGYnO1xuICByZXR1cm4gb3BlbnNJblNhbWVGcmFtZSAmJiBhbmNob3JUYXJnZXQuaGFzQXR0cmlidXRlKCdocmVmJykgJiYgIWFuY2hvclRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rvd25sb2FkJyk7XG59XG5cbi8vIEtlZXAgaW4gc3luYyB3aXRoIENvbXBvbmVudHMvc3JjL05hdmlnYXRpb25PcHRpb25zLmNzXG5leHBvcnQgaW50ZXJmYWNlIE5hdmlnYXRpb25PcHRpb25zIHtcbiAgZm9yY2VMb2FkOiBib29sZWFuO1xuICByZXBsYWNlSGlzdG9yeUVudHJ5OiBib29sZWFuO1xuICBoaXN0b3J5RW50cnlTdGF0ZT86IHN0cmluZztcbn1cbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbmltcG9ydCAnLi4vUGxhdGZvcm0vUGxhdGZvcm0nO1xuaW1wb3J0ICcuLi9FbnZpcm9ubWVudCc7XG5pbXBvcnQgeyBSZW5kZXJCYXRjaCB9IGZyb20gJy4vUmVuZGVyQmF0Y2gvUmVuZGVyQmF0Y2gnO1xuaW1wb3J0IHsgQnJvd3NlclJlbmRlcmVyIH0gZnJvbSAnLi9Ccm93c2VyUmVuZGVyZXInO1xuaW1wb3J0IHsgdG9Mb2dpY2FsRWxlbWVudCwgTG9naWNhbEVsZW1lbnQgfSBmcm9tICcuL0xvZ2ljYWxFbGVtZW50cyc7XG5pbXBvcnQgeyBnZXRBbmRSZW1vdmVQZW5kaW5nUm9vdENvbXBvbmVudENvbnRhaW5lciB9IGZyb20gJy4vSlNSb290Q29tcG9uZW50cyc7XG5cbmludGVyZmFjZSBCcm93c2VyUmVuZGVyZXJSZWdpc3RyeSB7XG4gIFticm93c2VyUmVuZGVyZXJJZDogbnVtYmVyXTogQnJvd3NlclJlbmRlcmVyO1xufVxuY29uc3QgYnJvd3NlclJlbmRlcmVyczogQnJvd3NlclJlbmRlcmVyUmVnaXN0cnkgPSB7fTtcbmxldCBzaG91bGRSZXNldFNjcm9sbEFmdGVyTmV4dEJhdGNoID0gZmFsc2U7XG5cbmV4cG9ydCBmdW5jdGlvbiBhdHRhY2hSb290Q29tcG9uZW50VG9Mb2dpY2FsRWxlbWVudChicm93c2VyUmVuZGVyZXJJZDogbnVtYmVyLCBsb2dpY2FsRWxlbWVudDogTG9naWNhbEVsZW1lbnQsIGNvbXBvbmVudElkOiBudW1iZXIsIGFwcGVuZENvbnRlbnQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgbGV0IGJyb3dzZXJSZW5kZXJlciA9IGJyb3dzZXJSZW5kZXJlcnNbYnJvd3NlclJlbmRlcmVySWRdO1xuICBpZiAoIWJyb3dzZXJSZW5kZXJlcikge1xuICAgIGJyb3dzZXJSZW5kZXJlciA9IG5ldyBCcm93c2VyUmVuZGVyZXIoYnJvd3NlclJlbmRlcmVySWQpO1xuICAgIGJyb3dzZXJSZW5kZXJlcnNbYnJvd3NlclJlbmRlcmVySWRdID0gYnJvd3NlclJlbmRlcmVyO1xuICB9XG5cbiAgYnJvd3NlclJlbmRlcmVyLmF0dGFjaFJvb3RDb21wb25lbnRUb0xvZ2ljYWxFbGVtZW50KGNvbXBvbmVudElkLCBsb2dpY2FsRWxlbWVudCwgYXBwZW5kQ29udGVudCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhdHRhY2hSb290Q29tcG9uZW50VG9FbGVtZW50KGVsZW1lbnRTZWxlY3Rvcjogc3RyaW5nLCBjb21wb25lbnRJZDogbnVtYmVyLCBicm93c2VyUmVuZGVyZXJJZD86IG51bWJlcik6IHZvaWQge1xuICBjb25zdCBhZnRlckVsZW1lbnRTZWxlY3RvciA9ICc6OmFmdGVyJztcbiAgY29uc3QgYmVmb3JlRWxlbWVudFNlbGVjdG9yID0gJzo6YmVmb3JlJztcbiAgbGV0IGFwcGVuZENvbnRlbnQgPSBmYWxzZTtcblxuICBpZiAoZWxlbWVudFNlbGVjdG9yLmVuZHNXaXRoKGFmdGVyRWxlbWVudFNlbGVjdG9yKSkge1xuICAgIGVsZW1lbnRTZWxlY3RvciA9IGVsZW1lbnRTZWxlY3Rvci5zbGljZSgwLCAtYWZ0ZXJFbGVtZW50U2VsZWN0b3IubGVuZ3RoKTtcbiAgICBhcHBlbmRDb250ZW50ID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChlbGVtZW50U2VsZWN0b3IuZW5kc1dpdGgoYmVmb3JlRWxlbWVudFNlbGVjdG9yKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgVGhlICcke2JlZm9yZUVsZW1lbnRTZWxlY3Rvcn0nIHNlbGVjdG9yIGlzIG5vdCBzdXBwb3J0ZWQuYCk7XG4gIH1cblxuICBjb25zdCBlbGVtZW50ID0gZ2V0QW5kUmVtb3ZlUGVuZGluZ1Jvb3RDb21wb25lbnRDb250YWluZXIoZWxlbWVudFNlbGVjdG9yKVxuICAgIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudFNlbGVjdG9yKTtcbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBhbnkgZWxlbWVudCBtYXRjaGluZyBzZWxlY3RvciAnJHtlbGVtZW50U2VsZWN0b3J9Jy5gKTtcbiAgfVxuXG4gIC8vICdhbGxvd0V4aXN0aW5nQ29udGVudHMnIHRvIGtlZXAgYW55IHByZXJlbmRlcmVkIGNvbnRlbnQgdW50aWwgd2UgZG8gdGhlIGZpcnN0IGNsaWVudC1zaWRlIHJlbmRlclxuICAvLyBPbmx5IGNsaWVudC1zaWRlIEJsYXpvciBzdXBwbGllcyBhIGJyb3dzZXIgcmVuZGVyZXIgSURcbiAgYXR0YWNoUm9vdENvbXBvbmVudFRvTG9naWNhbEVsZW1lbnQoYnJvd3NlclJlbmRlcmVySWQgfHwgMCwgdG9Mb2dpY2FsRWxlbWVudChlbGVtZW50LCAvKiBhbGxvdyBleGlzdGluZyBjb250ZW50cyAqLyB0cnVlKSwgY29tcG9uZW50SWQsIGFwcGVuZENvbnRlbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVuZGVyZXJlcihicm93c2VyUmVuZGVyZXJJZDogbnVtYmVyKTogQnJvd3NlclJlbmRlcmVyIHtcbiAgcmV0dXJuIGJyb3dzZXJSZW5kZXJlcnNbYnJvd3NlclJlbmRlcmVySWRdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyQmF0Y2goYnJvd3NlclJlbmRlcmVySWQ6IG51bWJlciwgYmF0Y2g6IFJlbmRlckJhdGNoKTogdm9pZCB7XG4gIGNvbnN0IGJyb3dzZXJSZW5kZXJlciA9IGJyb3dzZXJSZW5kZXJlcnNbYnJvd3NlclJlbmRlcmVySWRdO1xuICBpZiAoIWJyb3dzZXJSZW5kZXJlcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gYnJvd3NlciByZW5kZXJlciB3aXRoIElEICR7YnJvd3NlclJlbmRlcmVySWR9LmApO1xuICB9XG5cbiAgY29uc3QgYXJyYXlSYW5nZVJlYWRlciA9IGJhdGNoLmFycmF5UmFuZ2VSZWFkZXI7XG4gIGNvbnN0IHVwZGF0ZWRDb21wb25lbnRzUmFuZ2UgPSBiYXRjaC51cGRhdGVkQ29tcG9uZW50cygpO1xuICBjb25zdCB1cGRhdGVkQ29tcG9uZW50c1ZhbHVlcyA9IGFycmF5UmFuZ2VSZWFkZXIudmFsdWVzKHVwZGF0ZWRDb21wb25lbnRzUmFuZ2UpO1xuICBjb25zdCB1cGRhdGVkQ29tcG9uZW50c0xlbmd0aCA9IGFycmF5UmFuZ2VSZWFkZXIuY291bnQodXBkYXRlZENvbXBvbmVudHNSYW5nZSk7XG4gIGNvbnN0IHJlZmVyZW5jZUZyYW1lcyA9IGJhdGNoLnJlZmVyZW5jZUZyYW1lcygpO1xuICBjb25zdCByZWZlcmVuY2VGcmFtZXNWYWx1ZXMgPSBhcnJheVJhbmdlUmVhZGVyLnZhbHVlcyhyZWZlcmVuY2VGcmFtZXMpO1xuICBjb25zdCBkaWZmUmVhZGVyID0gYmF0Y2guZGlmZlJlYWRlcjtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHVwZGF0ZWRDb21wb25lbnRzTGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBkaWZmID0gYmF0Y2gudXBkYXRlZENvbXBvbmVudHNFbnRyeSh1cGRhdGVkQ29tcG9uZW50c1ZhbHVlcywgaSk7XG4gICAgY29uc3QgY29tcG9uZW50SWQgPSBkaWZmUmVhZGVyLmNvbXBvbmVudElkKGRpZmYpO1xuICAgIGNvbnN0IGVkaXRzID0gZGlmZlJlYWRlci5lZGl0cyhkaWZmKTtcbiAgICBicm93c2VyUmVuZGVyZXIudXBkYXRlQ29tcG9uZW50KGJhdGNoLCBjb21wb25lbnRJZCwgZWRpdHMsIHJlZmVyZW5jZUZyYW1lc1ZhbHVlcyk7XG4gIH1cblxuICBjb25zdCBkaXNwb3NlZENvbXBvbmVudElkc1JhbmdlID0gYmF0Y2guZGlzcG9zZWRDb21wb25lbnRJZHMoKTtcbiAgY29uc3QgZGlzcG9zZWRDb21wb25lbnRJZHNWYWx1ZXMgPSBhcnJheVJhbmdlUmVhZGVyLnZhbHVlcyhkaXNwb3NlZENvbXBvbmVudElkc1JhbmdlKTtcbiAgY29uc3QgZGlzcG9zZWRDb21wb25lbnRJZHNMZW5ndGggPSBhcnJheVJhbmdlUmVhZGVyLmNvdW50KGRpc3Bvc2VkQ29tcG9uZW50SWRzUmFuZ2UpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRpc3Bvc2VkQ29tcG9uZW50SWRzTGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjb21wb25lbnRJZCA9IGJhdGNoLmRpc3Bvc2VkQ29tcG9uZW50SWRzRW50cnkoZGlzcG9zZWRDb21wb25lbnRJZHNWYWx1ZXMsIGkpO1xuICAgIGJyb3dzZXJSZW5kZXJlci5kaXNwb3NlQ29tcG9uZW50KGNvbXBvbmVudElkKTtcbiAgfVxuXG4gIGNvbnN0IGRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzUmFuZ2UgPSBiYXRjaC5kaXNwb3NlZEV2ZW50SGFuZGxlcklkcygpO1xuICBjb25zdCBkaXNwb3NlZEV2ZW50SGFuZGxlcklkc1ZhbHVlcyA9IGFycmF5UmFuZ2VSZWFkZXIudmFsdWVzKGRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzUmFuZ2UpO1xuICBjb25zdCBkaXNwb3NlZEV2ZW50SGFuZGxlcklkc0xlbmd0aCA9IGFycmF5UmFuZ2VSZWFkZXIuY291bnQoZGlzcG9zZWRFdmVudEhhbmRsZXJJZHNSYW5nZSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGlzcG9zZWRFdmVudEhhbmRsZXJJZHNMZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGV2ZW50SGFuZGxlcklkID0gYmF0Y2guZGlzcG9zZWRFdmVudEhhbmRsZXJJZHNFbnRyeShkaXNwb3NlZEV2ZW50SGFuZGxlcklkc1ZhbHVlcywgaSk7XG4gICAgYnJvd3NlclJlbmRlcmVyLmRpc3Bvc2VFdmVudEhhbmRsZXIoZXZlbnRIYW5kbGVySWQpO1xuICB9XG5cbiAgcmVzZXRTY3JvbGxJZk5lZWRlZCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRTY3JvbGxBZnRlck5leHRCYXRjaCgpOiB2b2lkIHtcbiAgc2hvdWxkUmVzZXRTY3JvbGxBZnRlck5leHRCYXRjaCA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIHJlc2V0U2Nyb2xsSWZOZWVkZWQoKSB7XG4gIGlmIChzaG91bGRSZXNldFNjcm9sbEFmdGVyTmV4dEJhdGNoKSB7XG4gICAgc2hvdWxkUmVzZXRTY3JvbGxBZnRlck5leHRCYXRjaCA9IGZhbHNlO1xuXG4gICAgLy8gVGhpcyBhc3N1bWVzIHRoZSBzY3JvbGxlciBpcyBvbiB0aGUgd2luZG93IGl0c2VsZi4gVGhlcmUgaXNuJ3QgYSBnZW5lcmFsIHdheSB0byBrbm93XG4gICAgLy8gaWYgc29tZSBvdGhlciBlbGVtZW50IGlzIHBsYXlpbmcgdGhlIHJvbGUgb2YgdGhlIHByaW1hcnkgc2Nyb2xsIHJlZ2lvbi5cbiAgICB3aW5kb3cuc2Nyb2xsVG8gJiYgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICB9XG59XG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG5pbXBvcnQgJ0BtaWNyb3NvZnQvZG90bmV0LWpzLWludGVyb3AnO1xuXG5leHBvcnQgY29uc3QgZG9tRnVuY3Rpb25zID0ge1xuICBmb2N1cyxcbiAgZm9jdXNCeVNlbGVjdG9yXG59O1xuXG5mdW5jdGlvbiBmb2N1cyhlbGVtZW50OiBIVE1MT3JTVkdFbGVtZW50LCBwcmV2ZW50U2Nyb2xsOiBib29sZWFuKTogdm9pZCB7XG4gIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICBlbGVtZW50LmZvY3VzKHsgcHJldmVudFNjcm9sbCB9KTtcbiAgfSBlbHNlIGlmIChlbGVtZW50IGluc3RhbmNlb2YgU1ZHRWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZSgndGFiaW5kZXgnKSkge1xuICAgICAgZWxlbWVudC5mb2N1cyh7IHByZXZlbnRTY3JvbGwgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGZvY3VzIGFuIFNWRyBlbGVtZW50IHRoYXQgZG9lcyBub3QgaGF2ZSBhIHRhYmluZGV4LicpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBmb2N1cyBhbiBpbnZhbGlkIGVsZW1lbnQuJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZm9jdXNCeVNlbGVjdG9yKHNlbGVjdG9yOiBzdHJpbmcsIHByZXZlbnRTY3JvbGw6IGJvb2xlYW4pOiB2b2lkIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpIGFzIEhUTUxFbGVtZW50O1xuICBpZiAoZWxlbWVudCkge1xuICAgIC8vIElmIG5vIGV4cGxpY2l0IHRhYmluZGV4IGlzIGRlZmluZWQsIG1hcmsgaXQgYXMgcHJvZ3JhbW1hdGljYWxseS1mb2N1c2FibGUuXG4gICAgLy8gVGhpcyBkb2VzIGFjdHVhbGx5IGFkZCBhIG5ldyBIVE1MIGF0dHJpYnV0ZSwgYnV0IGl0IHNob3VsZG4ndCBpbnRlcmZlcmUgd2l0aFxuICAgIC8vIGRpZmZpbmcgYmVjYXVzZSBkaWZmaW5nIG9ubHkgZGVhbHMgd2l0aCB0aGUgYXR0cmlidXRlcyB5b3UgaGF2ZSBpbiB5b3VyIGNvZGUuXG4gICAgaWYgKCFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgndGFiaW5kZXgnKSkge1xuICAgICAgZWxlbWVudC50YWJJbmRleCA9IC0xO1xuICAgIH1cblxuICAgIGVsZW1lbnQuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICB9XG59IiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuZXhwb3J0IGNvbnN0IFZpcnR1YWxpemUgPSB7XG4gIGluaXQsXG4gIGRpc3Bvc2UsXG59O1xuXG5jb25zdCBvYnNlcnZlcnNCeURvdE5ldElkID0ge307XG5cbmZ1bmN0aW9uIGZpbmRDbG9zZXN0U2Nyb2xsQ29udGFpbmVyKGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XG4gIC8vIElmIHdlIHJlY3Vyc2UgdXAgYXMgZmFyIGFzIGJvZHkgb3IgdGhlIGRvY3VtZW50IHJvb3QsIHJldHVybiBudWxsIHNvIHRoYXQgdGhlXG4gIC8vIEludGVyc2VjdGlvbk9ic2VydmVyIG9ic2VydmVzIGludGVyc2VjdGlvbiB3aXRoIHRoZSB0b3AtbGV2ZWwgc2Nyb2xsIHZpZXdwb3J0XG4gIC8vIGluc3RlYWQgb2YgdGhlIHdpdGggYm9keS9kb2N1bWVudEVsZW1lbnQgd2hpY2ggY2FuIGJlIGFyYml0cmFyaWx5IHRhbGwuXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZG90bmV0L2FzcG5ldGNvcmUvaXNzdWVzLzM3NjU5IGZvciBtb3JlIGFib3V0IHdoYXQgdGhpcyBmaXhlcy5cbiAgaWYgKCFlbGVtZW50IHx8IGVsZW1lbnQgPT09IGRvY3VtZW50LmJvZHkgfHwgZWxlbWVudCA9PT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG5cbiAgaWYgKHN0eWxlLm92ZXJmbG93WSAhPT0gJ3Zpc2libGUnKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gZmluZENsb3Nlc3RTY3JvbGxDb250YWluZXIoZWxlbWVudC5wYXJlbnRFbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gaW5pdChkb3ROZXRIZWxwZXI6IGFueSwgc3BhY2VyQmVmb3JlOiBIVE1MRWxlbWVudCwgc3BhY2VyQWZ0ZXI6IEhUTUxFbGVtZW50LCByb290TWFyZ2luID0gNTApOiB2b2lkIHtcbiAgLy8gT3ZlcmZsb3cgYW5jaG9yaW5nIGNhbiBjYXVzZSBhbiBvbmdvaW5nIHNjcm9sbCBsb29wLCBiZWNhdXNlIHdoZW4gd2UgcmVzaXplIHRoZSBzcGFjZXJzLCB0aGUgYnJvd3NlclxuICAvLyB3b3VsZCB1cGRhdGUgdGhlIHNjcm9sbCBwb3NpdGlvbiB0byBjb21wZW5zYXRlLiBUaGVuIHRoZSBzcGFjZXIgd291bGQgcmVtYWluIHZpc2libGUgYW5kIHdlJ2Qga2VlcCBvblxuICAvLyB0cnlpbmcgdG8gcmVzaXplIGl0LlxuICBjb25zdCBzY3JvbGxDb250YWluZXIgPSBmaW5kQ2xvc2VzdFNjcm9sbENvbnRhaW5lcihzcGFjZXJCZWZvcmUpO1xuICAoc2Nyb2xsQ29udGFpbmVyIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuc3R5bGUub3ZlcmZsb3dBbmNob3IgPSAnbm9uZSc7XG5cbiAgY29uc3QgcmFuZ2VCZXR3ZWVuU3BhY2VycyA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG5cbiAgaWYgKGlzVmFsaWRUYWJsZUVsZW1lbnQoc3BhY2VyQWZ0ZXIucGFyZW50RWxlbWVudCkpIHtcbiAgICBzcGFjZXJCZWZvcmUuc3R5bGUuZGlzcGxheSA9ICd0YWJsZS1yb3cnO1xuICAgIHNwYWNlckFmdGVyLnN0eWxlLmRpc3BsYXkgPSAndGFibGUtcm93JztcbiAgfVxuXG4gIGNvbnN0IGludGVyc2VjdGlvbk9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGludGVyc2VjdGlvbkNhbGxiYWNrLCB7XG4gICAgcm9vdDogc2Nyb2xsQ29udGFpbmVyLFxuICAgIHJvb3RNYXJnaW46IGAke3Jvb3RNYXJnaW59cHhgLFxuICB9KTtcblxuICBpbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHNwYWNlckJlZm9yZSk7XG4gIGludGVyc2VjdGlvbk9ic2VydmVyLm9ic2VydmUoc3BhY2VyQWZ0ZXIpO1xuXG4gIGNvbnN0IG11dGF0aW9uT2JzZXJ2ZXJCZWZvcmUgPSBjcmVhdGVTcGFjZXJNdXRhdGlvbk9ic2VydmVyKHNwYWNlckJlZm9yZSk7XG4gIGNvbnN0IG11dGF0aW9uT2JzZXJ2ZXJBZnRlciA9IGNyZWF0ZVNwYWNlck11dGF0aW9uT2JzZXJ2ZXIoc3BhY2VyQWZ0ZXIpO1xuXG4gIG9ic2VydmVyc0J5RG90TmV0SWRbZG90TmV0SGVscGVyLl9pZF0gPSB7XG4gICAgaW50ZXJzZWN0aW9uT2JzZXJ2ZXIsXG4gICAgbXV0YXRpb25PYnNlcnZlckJlZm9yZSxcbiAgICBtdXRhdGlvbk9ic2VydmVyQWZ0ZXIsXG4gIH07XG5cbiAgZnVuY3Rpb24gY3JlYXRlU3BhY2VyTXV0YXRpb25PYnNlcnZlcihzcGFjZXI6IEhUTUxFbGVtZW50KTogTXV0YXRpb25PYnNlcnZlciB7XG4gICAgLy8gV2l0aG91dCB0aGUgdXNlIG9mIHRocmVzaG9sZHMsIEludGVyc2VjdGlvbk9ic2VydmVyIG9ubHkgZGV0ZWN0cyBiaW5hcnkgY2hhbmdlcyBpbiB2aXNpYmlsaXR5LFxuICAgIC8vIHNvIGlmIGEgc3BhY2VyIGdldHMgcmVzaXplZCBidXQgcmVtYWlucyB2aXNpYmxlLCBubyBhZGRpdGlvbmFsIGNhbGxiYWNrcyB3aWxsIG9jY3VyLiBCeSB1bm9ic2VydmluZ1xuICAgIC8vIGFuZCByZW9ic2VydmluZyBzcGFjZXJzIHdoZW4gdGhleSBnZXQgcmVzaXplZCwgdGhlIGludGVyc2VjdGlvbiBjYWxsYmFjayB3aWxsIHJlLXJ1biBpZiB0aGV5IHJlbWFpbiB2aXNpYmxlLlxuICAgIGNvbnN0IG9ic2VydmVyT3B0aW9ucyA9IHsgYXR0cmlidXRlczogdHJ1ZSB9O1xuICAgIGNvbnN0IG11dGF0aW9uT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zOiBNdXRhdGlvblJlY29yZFtdLCBvYnNlcnZlcjogTXV0YXRpb25PYnNlcnZlcik6IHZvaWQgPT4ge1xuICAgICAgaWYgKGlzVmFsaWRUYWJsZUVsZW1lbnQoc3BhY2VyLnBhcmVudEVsZW1lbnQpKSB7XG4gICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgc3BhY2VyLnN0eWxlLmRpc3BsYXkgPSAndGFibGUtcm93JztcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShzcGFjZXIsIG9ic2VydmVyT3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIGludGVyc2VjdGlvbk9ic2VydmVyLnVub2JzZXJ2ZShzcGFjZXIpO1xuICAgICAgaW50ZXJzZWN0aW9uT2JzZXJ2ZXIub2JzZXJ2ZShzcGFjZXIpO1xuICAgIH0pO1xuXG4gICAgbXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKHNwYWNlciwgb2JzZXJ2ZXJPcHRpb25zKTtcblxuICAgIHJldHVybiBtdXRhdGlvbk9ic2VydmVyO1xuICB9XG5cbiAgZnVuY3Rpb24gaW50ZXJzZWN0aW9uQ2FsbGJhY2soZW50cmllczogSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeVtdKTogdm9pZCB7XG4gICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSk6IHZvaWQgPT4ge1xuICAgICAgaWYgKCFlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRvIGNvbXB1dGUgdGhlIEl0ZW1TaXplLCB3b3JrIG91dCB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIHRoZSB0d28gc3BhY2Vycy4gV2UgY2FuJ3QganVzdCBtZWFzdXJlIGFuIGluZGl2aWR1YWwgZWxlbWVudFxuICAgICAgLy8gYmVjYXVzZSBlYWNoIGNvbmNlcHR1YWwgaXRlbSBjb3VsZCBiZSBtYWRlIGZyb20gbXVsdGlwbGUgZWxlbWVudHMuIFVzaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBhbGxvd3MgZm9yIHRoZSBzaXplIHRvIGJlXG4gICAgICAvLyBhIGZyYWN0aW9uYWwgdmFsdWUuIEl0J3MgaW1wb3J0YW50IG5vdCB0byBhZGQgb3Igc3VidHJhY3QgYW55IHN1Y2ggZnJhY3Rpb25hbCB2YWx1ZXMgKGUuZy4sIHRvIHN1YnRyYWN0IHRoZSAndG9wJyBvZlxuICAgICAgLy8gb25lIGl0ZW0gZnJvbSB0aGUgJ2JvdHRvbScgb2YgYW5vdGhlciB0byBnZXQgdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlbSkgYmVjYXVzZSBmbG9hdGluZyBwb2ludCBlcnJvcnMgd291bGQgY2F1c2VcbiAgICAgIC8vIHNjcm9sbGluZyBnbGl0Y2hlcy5cbiAgICAgIHJhbmdlQmV0d2VlblNwYWNlcnMuc2V0U3RhcnRBZnRlcihzcGFjZXJCZWZvcmUpO1xuICAgICAgcmFuZ2VCZXR3ZWVuU3BhY2Vycy5zZXRFbmRCZWZvcmUoc3BhY2VyQWZ0ZXIpO1xuICAgICAgY29uc3Qgc3BhY2VyU2VwYXJhdGlvbiA9IHJhbmdlQmV0d2VlblNwYWNlcnMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgICAgY29uc3QgY29udGFpbmVyU2l6ZSA9IGVudHJ5LnJvb3RCb3VuZHM/LmhlaWdodDtcblxuICAgICAgaWYgKGVudHJ5LnRhcmdldCA9PT0gc3BhY2VyQmVmb3JlKSB7XG4gICAgICAgIGRvdE5ldEhlbHBlci5pbnZva2VNZXRob2RBc3luYygnT25TcGFjZXJCZWZvcmVWaXNpYmxlJywgZW50cnkuaW50ZXJzZWN0aW9uUmVjdC50b3AgLSBlbnRyeS5ib3VuZGluZ0NsaWVudFJlY3QudG9wLCBzcGFjZXJTZXBhcmF0aW9uLCBjb250YWluZXJTaXplKTtcbiAgICAgIH0gZWxzZSBpZiAoZW50cnkudGFyZ2V0ID09PSBzcGFjZXJBZnRlciAmJiBzcGFjZXJBZnRlci5vZmZzZXRIZWlnaHQgPiAwKSB7XG4gICAgICAgIC8vIFdoZW4gd2UgZmlyc3Qgc3RhcnQgdXAsIGJvdGggdGhlIFwiYmVmb3JlXCIgYW5kIFwiYWZ0ZXJcIiBzcGFjZXJzIHdpbGwgYmUgdmlzaWJsZSwgYnV0IGl0J3Mgb25seSByZWxldmFudCB0byByYWlzZSBhXG4gICAgICAgIC8vIHNpbmdsZSBldmVudCB0byBsb2FkIHRoZSBpbml0aWFsIGRhdGEuIFRvIGF2b2lkIHJhaXNpbmcgdHdvIGV2ZW50cywgc2tpcCB0aGUgb25lIGZvciB0aGUgXCJhZnRlclwiIHNwYWNlciBpZiB3ZSBrbm93XG4gICAgICAgIC8vIGl0J3MgbWVhbmluZ2xlc3MgdG8gdGFsayBhYm91dCBhbnkgb3ZlcmxhcCBpbnRvIGl0LlxuICAgICAgICBkb3ROZXRIZWxwZXIuaW52b2tlTWV0aG9kQXN5bmMoJ09uU3BhY2VyQWZ0ZXJWaXNpYmxlJywgZW50cnkuYm91bmRpbmdDbGllbnRSZWN0LmJvdHRvbSAtIGVudHJ5LmludGVyc2VjdGlvblJlY3QuYm90dG9tLCBzcGFjZXJTZXBhcmF0aW9uLCBjb250YWluZXJTaXplKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzVmFsaWRUYWJsZUVsZW1lbnQoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsKTogYm9vbGVhbiB7XG4gICAgaWYgKGVsZW1lbnQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gKChlbGVtZW50IGluc3RhbmNlb2YgSFRNTFRhYmxlRWxlbWVudCAmJiBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPT09ICcnKSB8fCBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPT09ICd0YWJsZScpXG4gICAgICB8fCAoKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MVGFibGVTZWN0aW9uRWxlbWVudCAmJiBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPT09ICcnKSB8fCBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPT09ICd0YWJsZS1yb3ctZ3JvdXAnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkaXNwb3NlKGRvdE5ldEhlbHBlcjogYW55KTogdm9pZCB7XG4gIGNvbnN0IG9ic2VydmVycyA9IG9ic2VydmVyc0J5RG90TmV0SWRbZG90TmV0SGVscGVyLl9pZF07XG5cbiAgaWYgKG9ic2VydmVycykge1xuICAgIG9ic2VydmVycy5pbnRlcnNlY3Rpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgb2JzZXJ2ZXJzLm11dGF0aW9uT2JzZXJ2ZXJCZWZvcmUuZGlzY29ubmVjdCgpO1xuICAgIG9ic2VydmVycy5tdXRhdGlvbk9ic2VydmVyQWZ0ZXIuZGlzY29ubmVjdCgpO1xuXG4gICAgZG90TmV0SGVscGVyLmRpc3Bvc2UoKTtcblxuICAgIGRlbGV0ZSBvYnNlcnZlcnNCeURvdE5ldElkW2RvdE5ldEhlbHBlci5faWRdO1xuICB9XG59XG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG5pbXBvcnQgeyBnZXRMb2dpY2FsUGFyZW50LCBMb2dpY2FsRWxlbWVudCB9IGZyb20gJy4vUmVuZGVyaW5nL0xvZ2ljYWxFbGVtZW50cyc7XG5cbmV4cG9ydCBjb25zdCBQYWdlVGl0bGUgPSB7XG4gIGdldEFuZFJlbW92ZUV4aXN0aW5nVGl0bGUsXG59O1xuXG5mdW5jdGlvbiBnZXRBbmRSZW1vdmVFeGlzdGluZ1RpdGxlKCk6IHN0cmluZyB8IG51bGwge1xuICAvLyBPdGhlciA8dGl0bGU+IGVsZW1lbnRzIG1heSBleGlzdCBvdXRzaWRlIDxoZWFkPiAoZS5nLiwgaW5zaWRlIDxzdmc+IGVsZW1lbnRzKSBidXQgdGhleSBhcmVuJ3QgcGFnZSB0aXRsZXNcbiAgY29uc3QgdGl0bGVFbGVtZW50cyA9IGRvY3VtZW50LmhlYWQgPyBkb2N1bWVudC5oZWFkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0aXRsZScpIDogW107XG5cbiAgaWYgKHRpdGxlRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsZXQgZXhpc3RpbmdUaXRsZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgZm9yIChsZXQgaW5kZXggPSB0aXRsZUVsZW1lbnRzLmxlbmd0aCAtIDE7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICBjb25zdCBjdXJyZW50VGl0bGVFbGVtZW50ID0gdGl0bGVFbGVtZW50c1tpbmRleF07XG4gICAgY29uc3QgcHJldmlvdXNTaWJsaW5nID0gY3VycmVudFRpdGxlRWxlbWVudC5wcmV2aW91c1NpYmxpbmc7XG4gICAgY29uc3QgaXNCbGF6b3JUaXRsZSA9IHByZXZpb3VzU2libGluZyBpbnN0YW5jZW9mIENvbW1lbnQgJiYgZ2V0TG9naWNhbFBhcmVudChwcmV2aW91c1NpYmxpbmcgYXMgdW5rbm93biBhcyBMb2dpY2FsRWxlbWVudCkgIT09IG51bGw7XG5cbiAgICBpZiAoaXNCbGF6b3JUaXRsZSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGV4aXN0aW5nVGl0bGUgPT09IG51bGwpIHtcbiAgICAgIGV4aXN0aW5nVGl0bGUgPSBjdXJyZW50VGl0bGVFbGVtZW50LnRleHRDb250ZW50O1xuICAgIH1cblxuICAgIGN1cnJlbnRUaXRsZUVsZW1lbnQucGFyZW50Tm9kZT8ucmVtb3ZlQ2hpbGQoY3VycmVudFRpdGxlRWxlbWVudCk7XG4gIH1cblxuICByZXR1cm4gZXhpc3RpbmdUaXRsZTtcbn1cbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbmV4cG9ydCBjb25zdCBJbnB1dEZpbGUgPSB7XG4gIGluaXQsXG4gIHRvSW1hZ2VGaWxlLFxuICByZWFkRmlsZURhdGEsXG59O1xuXG5pbnRlcmZhY2UgQnJvd3NlckZpbGUge1xuICBpZDogbnVtYmVyO1xuICBsYXN0TW9kaWZpZWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBzaXplOiBudW1iZXI7XG4gIGNvbnRlbnRUeXBlOiBzdHJpbmc7XG4gIGJsb2I6IEJsb2I7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5wdXRFbGVtZW50IGV4dGVuZHMgSFRNTElucHV0RWxlbWVudCB7XG4gIF9ibGF6b3JJbnB1dEZpbGVOZXh0RmlsZUlkOiBudW1iZXI7XG4gIF9ibGF6b3JGaWxlc0J5SWQ6IHsgW2lkOiBudW1iZXJdOiBCcm93c2VyRmlsZSB9O1xufVxuXG5mdW5jdGlvbiBpbml0KGNhbGxiYWNrV3JhcHBlcjogYW55LCBlbGVtOiBJbnB1dEVsZW1lbnQpOiB2b2lkIHtcbiAgZWxlbS5fYmxhem9ySW5wdXRGaWxlTmV4dEZpbGVJZCA9IDA7XG5cbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgIC8vIFBlcm1pdHMgcmVwbGFjaW5nIGFuIGV4aXN0aW5nIGZpbGUgd2l0aCBhIG5ldyBvbmUgb2YgdGhlIHNhbWUgZmlsZSBuYW1lLlxuICAgIGVsZW0udmFsdWUgPSAnJztcbiAgfSk7XG5cbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAvLyBSZWR1Y2UgdG8gcHVyZWx5IHNlcmlhbGl6YWJsZSBkYXRhLCBwbHVzIGFuIGluZGV4IGJ5IElELlxuICAgIGVsZW0uX2JsYXpvckZpbGVzQnlJZCA9IHt9O1xuXG4gICAgY29uc3QgZmlsZUxpc3QgPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoZWxlbS5maWxlcywgZnVuY3Rpb24oZmlsZTogRmlsZSk6IEJyb3dzZXJGaWxlIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgaWQ6ICsrZWxlbS5fYmxhem9ySW5wdXRGaWxlTmV4dEZpbGVJZCxcbiAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZShmaWxlLmxhc3RNb2RpZmllZCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgbmFtZTogZmlsZS5uYW1lLFxuICAgICAgICBzaXplOiBmaWxlLnNpemUsXG4gICAgICAgIGNvbnRlbnRUeXBlOiBmaWxlLnR5cGUsXG4gICAgICAgIHJlYWRQcm9taXNlOiB1bmRlZmluZWQsXG4gICAgICAgIGFycmF5QnVmZmVyOiB1bmRlZmluZWQsXG4gICAgICAgIGJsb2I6IGZpbGUsXG4gICAgICB9O1xuXG4gICAgICBlbGVtLl9ibGF6b3JGaWxlc0J5SWRbcmVzdWx0LmlkXSA9IHJlc3VsdDtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIGNhbGxiYWNrV3JhcHBlci5pbnZva2VNZXRob2RBc3luYygnTm90aWZ5Q2hhbmdlJywgZmlsZUxpc3QpO1xuICB9KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdG9JbWFnZUZpbGUoZWxlbTogSW5wdXRFbGVtZW50LCBmaWxlSWQ6IG51bWJlciwgZm9ybWF0OiBzdHJpbmcsIG1heFdpZHRoOiBudW1iZXIsIG1heEhlaWdodDogbnVtYmVyKTogUHJvbWlzZTxCcm93c2VyRmlsZT4ge1xuICBjb25zdCBvcmlnaW5hbEZpbGUgPSBnZXRGaWxlQnlJZChlbGVtLCBmaWxlSWQpO1xuXG4gIGNvbnN0IGxvYWRlZEltYWdlID0gYXdhaXQgbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZTogKGxvYWRlZEltYWdlOiBIVE1MSW1hZ2VFbGVtZW50KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgY29uc3Qgb3JpZ2luYWxGaWxlSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICBvcmlnaW5hbEZpbGVJbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwob3JpZ2luYWxGaWxlSW1hZ2Uuc3JjKTtcbiAgICAgIHJlc29sdmUob3JpZ2luYWxGaWxlSW1hZ2UpO1xuICAgIH07XG4gICAgb3JpZ2luYWxGaWxlSW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgICAgb3JpZ2luYWxGaWxlSW1hZ2Uub25lcnJvciA9IG51bGw7XG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKG9yaWdpbmFsRmlsZUltYWdlLnNyYyk7XG4gICAgfTtcbiAgICBvcmlnaW5hbEZpbGVJbWFnZS5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG9yaWdpbmFsRmlsZVsnYmxvYiddKTtcbiAgfSk7XG5cbiAgY29uc3QgcmVzaXplZEltYWdlQmxvYiA9IGF3YWl0IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmU6IEJsb2JDYWxsYmFjayk6IHZvaWQge1xuICAgIGNvbnN0IGRlc2lyZWRXaWR0aFJhdGlvID0gTWF0aC5taW4oMSwgbWF4V2lkdGggLyBsb2FkZWRJbWFnZS53aWR0aCk7XG4gICAgY29uc3QgZGVzaXJlZEhlaWdodFJhdGlvID0gTWF0aC5taW4oMSwgbWF4SGVpZ2h0IC8gbG9hZGVkSW1hZ2UuaGVpZ2h0KTtcbiAgICBjb25zdCBjaG9zZW5TaXplUmF0aW8gPSBNYXRoLm1pbihkZXNpcmVkV2lkdGhSYXRpbywgZGVzaXJlZEhlaWdodFJhdGlvKTtcblxuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IE1hdGgucm91bmQobG9hZGVkSW1hZ2Uud2lkdGggKiBjaG9zZW5TaXplUmF0aW8pO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLnJvdW5kKGxvYWRlZEltYWdlLmhlaWdodCAqIGNob3NlblNpemVSYXRpbyk7XG4gICAgY2FudmFzLmdldENvbnRleHQoJzJkJyk/LmRyYXdJbWFnZShsb2FkZWRJbWFnZSwgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBjYW52YXMudG9CbG9iKHJlc29sdmUsIGZvcm1hdCk7XG4gIH0pO1xuXG4gIGNvbnN0IHJlc3VsdDogQnJvd3NlckZpbGUgPSB7XG4gICAgaWQ6ICsrZWxlbS5fYmxhem9ySW5wdXRGaWxlTmV4dEZpbGVJZCxcbiAgICBsYXN0TW9kaWZpZWQ6IG9yaWdpbmFsRmlsZS5sYXN0TW9kaWZpZWQsXG4gICAgbmFtZTogb3JpZ2luYWxGaWxlLm5hbWUsXG4gICAgc2l6ZTogcmVzaXplZEltYWdlQmxvYj8uc2l6ZSB8fCAwLFxuICAgIGNvbnRlbnRUeXBlOiBmb3JtYXQsXG4gICAgYmxvYjogcmVzaXplZEltYWdlQmxvYiA/IHJlc2l6ZWRJbWFnZUJsb2IgOiBvcmlnaW5hbEZpbGUuYmxvYixcbiAgfTtcblxuICBlbGVtLl9ibGF6b3JGaWxlc0J5SWRbcmVzdWx0LmlkXSA9IHJlc3VsdDtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5hc3luYyBmdW5jdGlvbiByZWFkRmlsZURhdGEoZWxlbTogSW5wdXRFbGVtZW50LCBmaWxlSWQ6IG51bWJlcik6IFByb21pc2U8QmxvYj4ge1xuICBjb25zdCBmaWxlID0gZ2V0RmlsZUJ5SWQoZWxlbSwgZmlsZUlkKTtcbiAgcmV0dXJuIGZpbGUuYmxvYjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVCeUlkKGVsZW06IElucHV0RWxlbWVudCwgZmlsZUlkOiBudW1iZXIpOiBCcm93c2VyRmlsZSB7XG4gIGNvbnN0IGZpbGUgPSBlbGVtLl9ibGF6b3JGaWxlc0J5SWRbZmlsZUlkXTtcblxuICBpZiAoIWZpbGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZXJlIGlzIG5vIGZpbGUgd2l0aCBJRCAke2ZpbGVJZH0uIFRoZSBmaWxlIGxpc3QgbWF5IGhhdmUgY2hhbmdlZC4gU2VlIGh0dHBzOi8vYWthLm1zL2FzcG5ldC9ibGF6b3ItaW5wdXQtZmlsZS1tdWx0aXBsZS1zZWxlY3Rpb25zLmApO1xuICB9XG5cbiAgcmV0dXJuIGZpbGU7XG59XG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG5jb25zdCByZWdpc3RlcmVkTG9ja3MgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuZXhwb3J0IGNvbnN0IE5hdmlnYXRpb25Mb2NrID0ge1xuICBlbmFibGVOYXZpZ2F0aW9uUHJvbXB0LFxuICBkaXNhYmxlTmF2aWdhdGlvblByb21wdCxcbn07XG5cbmZ1bmN0aW9uIG9uQmVmb3JlVW5sb2FkKGV2ZW50OiBCZWZvcmVVbmxvYWRFdmVudCkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAvLyBNb2Rlcm4gYnJvd3NlcnMgZGlzcGxheSBhIGNvbmZpcm1hdGlvbiBwcm9tcHQgd2hlbiByZXR1cm5WYWx1ZSBpcyBzb21lIHZhbHVlIG90aGVyIHRoYW5cbiAgLy8gbnVsbCBvciB1bmRlZmluZWQuXG4gIC8vIFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvdy9iZWZvcmV1bmxvYWRfZXZlbnQjY29tcGF0aWJpbGl0eV9ub3Rlc1xuICBldmVudC5yZXR1cm5WYWx1ZSA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIGVuYWJsZU5hdmlnYXRpb25Qcm9tcHQoaWQ6IHN0cmluZykge1xuICBpZiAocmVnaXN0ZXJlZExvY2tzLnNpemUgPT09IDApIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgb25CZWZvcmVVbmxvYWQpO1xuICB9XG5cbiAgcmVnaXN0ZXJlZExvY2tzLmFkZChpZCk7XG59XG5cbmZ1bmN0aW9uIGRpc2FibGVOYXZpZ2F0aW9uUHJvbXB0KGlkOiBzdHJpbmcpIHtcbiAgcmVnaXN0ZXJlZExvY2tzLmRlbGV0ZShpZCk7XG5cbiAgaWYgKHJlZ2lzdGVyZWRMb2Nrcy5zaXplID09PSAwKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIG9uQmVmb3JlVW5sb2FkKTtcbiAgfVxufVxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuaW1wb3J0IHsgRG90TmV0IH0gZnJvbSAnQG1pY3Jvc29mdC9kb3RuZXQtanMtaW50ZXJvcCc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXROZXh0Q2h1bmsoZGF0YTogQXJyYXlCdWZmZXJWaWV3IHwgQmxvYiwgcG9zaXRpb246IG51bWJlciwgbmV4dENodW5rU2l6ZTogbnVtYmVyKTogUHJvbWlzZTxVaW50OEFycmF5PiB7XG4gIGlmIChkYXRhIGluc3RhbmNlb2YgQmxvYikge1xuICAgIHJldHVybiBhd2FpdCBnZXRDaHVua0Zyb21CbG9iKGRhdGEsIHBvc2l0aW9uLCBuZXh0Q2h1bmtTaXplKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0Q2h1bmtGcm9tQXJyYXlCdWZmZXJWaWV3KGRhdGEsIHBvc2l0aW9uLCBuZXh0Q2h1bmtTaXplKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRDaHVua0Zyb21CbG9iKGRhdGE6IEJsb2IsIHBvc2l0aW9uOiBudW1iZXIsIG5leHRDaHVua1NpemU6IG51bWJlcik6IFByb21pc2U8VWludDhBcnJheT4ge1xuICBjb25zdCBjaHVua0Jsb2IgPSBkYXRhLnNsaWNlKHBvc2l0aW9uLCBwb3NpdGlvbiArIG5leHRDaHVua1NpemUpO1xuICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGNodW5rQmxvYi5hcnJheUJ1ZmZlcigpO1xuICBjb25zdCBuZXh0Q2h1bmtEYXRhID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xuICByZXR1cm4gbmV4dENodW5rRGF0YTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2h1bmtGcm9tQXJyYXlCdWZmZXJWaWV3KGRhdGE6IEFycmF5QnVmZmVyVmlldywgcG9zaXRpb246IG51bWJlciwgbmV4dENodW5rU2l6ZTogbnVtYmVyKTogVWludDhBcnJheSB7XG4gIGNvbnN0IG5leHRDaHVua0RhdGEgPSBuZXcgVWludDhBcnJheShkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0ICsgcG9zaXRpb24sIG5leHRDaHVua1NpemUpO1xuICByZXR1cm4gbmV4dENodW5rRGF0YTtcbn1cblxuY29uc3QgdHJhbnNtaXR0aW5nRG90TmV0VG9KU1N0cmVhbXMgPSBuZXcgTWFwPG51bWJlciwgUmVhZGFibGVTdHJlYW1Db250cm9sbGVyPGFueT4+KCk7XG5leHBvcnQgZnVuY3Rpb24gcmVjZWl2ZURvdE5ldERhdGFTdHJlYW0oZGlzcGF0Y2hlcjogRG90TmV0LklDYWxsRGlzcGF0Y2hlciwgc3RyZWFtSWQ6IG51bWJlciwgZGF0YTogVWludDhBcnJheSwgYnl0ZXNSZWFkOiBudW1iZXIsIGVycm9yTWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gIGxldCBzdHJlYW1Db250cm9sbGVyID0gdHJhbnNtaXR0aW5nRG90TmV0VG9KU1N0cmVhbXMuZ2V0KHN0cmVhbUlkKTtcbiAgaWYgKCFzdHJlYW1Db250cm9sbGVyKSB7XG4gICAgY29uc3QgcmVhZGFibGVTdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICB0cmFuc21pdHRpbmdEb3ROZXRUb0pTU3RyZWFtcy5zZXQoc3RyZWFtSWQsIGNvbnRyb2xsZXIpO1xuICAgICAgICBzdHJlYW1Db250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBkaXNwYXRjaGVyLnN1cHBseURvdE5ldFN0cmVhbShzdHJlYW1JZCwgcmVhZGFibGVTdHJlYW0pO1xuICB9XG5cbiAgaWYgKGVycm9yTWVzc2FnZSkge1xuICAgIHN0cmVhbUNvbnRyb2xsZXIhLmVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgdHJhbnNtaXR0aW5nRG90TmV0VG9KU1N0cmVhbXMuZGVsZXRlKHN0cmVhbUlkKTtcbiAgfSBlbHNlIGlmIChieXRlc1JlYWQgPT09IDApIHtcbiAgICBzdHJlYW1Db250cm9sbGVyIS5jbG9zZSgpO1xuICAgIHRyYW5zbWl0dGluZ0RvdE5ldFRvSlNTdHJlYW1zLmRlbGV0ZShzdHJlYW1JZCk7XG4gIH0gZWxzZSB7XG4gICAgc3RyZWFtQ29udHJvbGxlciEuZW5xdWV1ZShkYXRhLmxlbmd0aCA9PT0gYnl0ZXNSZWFkID8gZGF0YSA6IGRhdGEuc3ViYXJyYXkoMCwgYnl0ZXNSZWFkKSk7XG4gIH1cbn1cbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbmltcG9ydCB7IG5hdmlnYXRlVG8sIGludGVybmFsRnVuY3Rpb25zIGFzIG5hdmlnYXRpb25NYW5hZ2VySW50ZXJuYWxGdW5jdGlvbnMsIE5hdmlnYXRpb25PcHRpb25zIH0gZnJvbSAnLi9TZXJ2aWNlcy9OYXZpZ2F0aW9uTWFuYWdlcic7XG5pbXBvcnQgeyBkb21GdW5jdGlvbnMgfSBmcm9tICcuL0RvbVdyYXBwZXInO1xuaW1wb3J0IHsgVmlydHVhbGl6ZSB9IGZyb20gJy4vVmlydHVhbGl6ZSc7XG5pbXBvcnQgeyBQYWdlVGl0bGUgfSBmcm9tICcuL1BhZ2VUaXRsZSc7XG5pbXBvcnQgeyByZWdpc3RlckN1c3RvbUV2ZW50VHlwZSwgRXZlbnRUeXBlT3B0aW9ucyB9IGZyb20gJy4vUmVuZGVyaW5nL0V2ZW50cy9FdmVudFR5cGVzJztcbmltcG9ydCB7IEh1YkNvbm5lY3Rpb24gfSBmcm9tICdAbWljcm9zb2Z0L3NpZ25hbHInO1xuaW1wb3J0IHsgSW5wdXRGaWxlIH0gZnJvbSAnLi9JbnB1dEZpbGUnO1xuaW1wb3J0IHsgTmF2aWdhdGlvbkxvY2sgfSBmcm9tICcuL05hdmlnYXRpb25Mb2NrJztcbmltcG9ydCB7IERlZmF1bHRSZWNvbm5lY3Rpb25IYW5kbGVyIH0gZnJvbSAnLi9QbGF0Zm9ybS9DaXJjdWl0cy9EZWZhdWx0UmVjb25uZWN0aW9uSGFuZGxlcic7XG5pbXBvcnQgeyBDaXJjdWl0U3RhcnRPcHRpb25zIH0gZnJvbSAnLi9QbGF0Zm9ybS9DaXJjdWl0cy9DaXJjdWl0U3RhcnRPcHRpb25zJztcbmltcG9ydCB7IFdlYkFzc2VtYmx5U3RhcnRPcHRpb25zIH0gZnJvbSAnLi9QbGF0Zm9ybS9XZWJBc3NlbWJseVN0YXJ0T3B0aW9ucyc7XG5pbXBvcnQgeyBQbGF0Zm9ybSwgUG9pbnRlciB9IGZyb20gJy4vUGxhdGZvcm0vUGxhdGZvcm0nO1xuaW1wb3J0IHsgZ2V0TmV4dENodW5rIH0gZnJvbSAnLi9TdHJlYW1pbmdJbnRlcm9wJztcbmltcG9ydCB7IFJvb3RDb21wb25lbnRzRnVuY3Rpb25zIH0gZnJvbSAnLi9SZW5kZXJpbmcvSlNSb290Q29tcG9uZW50cyc7XG5pbXBvcnQgeyBhdHRhY2hXZWJSZW5kZXJlckludGVyb3AgfSBmcm9tICcuL1JlbmRlcmluZy9XZWJSZW5kZXJlckludGVyb3BNZXRob2RzJztcbmltcG9ydCB7IFdlYlN0YXJ0T3B0aW9ucyB9IGZyb20gJy4vUGxhdGZvcm0vV2ViU3RhcnRPcHRpb25zJztcblxuLy8gVE9ETzogSXQncyBraW5kIG9mIGhhcmQgdG8gdGVsbCB3aGljaCAuTkVUIHBsYXRmb3JtKHMpIHNvbWUgb2YgdGhlc2UgQVBJcyBhcmUgcmVsZXZhbnQgdG8uXG4vLyBJdCdzIGltcG9ydGFudCB0byBrbm93IHRoaXMgaW5mb3JtYXRpb24gd2hlbiBkZWFsaW5nIHdpdGggdGhlIHBvc3NpYmlsaXR5IG9mIG11bGl0cGxlIC5ORVQgcGxhdGZvcm1zIGJlaW5nIGF2YWlsYWJsZS5cbi8vIGUuZy4sIHdoaWNoIG9mIHRoZXNlIEFQSXMgbmVlZCB0byBhY2NvdW50IGZvciB0aGVyZSBiZWluZyBtdWx0aXBsZSAuTkVUIHJ1bnRpbWVzLCBhbmQgd2hpY2ggZG9uJ3Q/XG5cbi8vIFdlIHNob3VsZCBjb25zaWRlciBzZXBhcmF0aW5nIGl0IGFsbCBvdXQgc28gdGhhdCB3ZSBjYW4gZWFzaWx5IGlkZW50aWZ5IHRoZSBwbGF0Zm9ybSByZXF1aXJlbWVudHMgb2YgZWFjaCBBUEkuXG4vLyBGb3IgZXhhbXBsZTpcbi8vICogQmxhem9yLntmb299OiBwdWJsaWMgQmxhem9yIEFQSXNcbi8vICogQmxhem9yLl9pbnRlcm5hbC57Zm9vfTogaW50ZXJuYWwsIHBsYXRmb3JtLWFnbm9zdGljIEJsYXpvciBBUElzXG4vLyAqIEJsYXpvci5wbGF0Zm9ybS57c29tZVBsYXRmb3JtTmFtZX0ue2Zvb306IHB1YmxpYywgcGxhdGZvcm0tc3BlY2lmaWMgQmxhem9yIEFQSXMgKHdvdWxkIGJlIGVtcHR5IGF0IGZpcnN0LCBzbyBubyBpbml0aWFsIGJyZWFraW5nIGNoYW5nZXMpXG4vLyAqIEJsYXpvci5wbGF0Zm9ybS57c29tZVBsYXRmb3JtTmFtZX0ue19pbnRlcm5hbH0ue2Zvb306IGludGVybmFsLCBwbGF0Zm9ybS1zcGVjaWZpYyBCbGF6b3IgQVBJc1xuaW50ZXJmYWNlIElCbGF6b3Ige1xuICBuYXZpZ2F0ZVRvOiAodXJpOiBzdHJpbmcsIG9wdGlvbnM6IE5hdmlnYXRpb25PcHRpb25zKSA9PiB2b2lkO1xuICByZWdpc3RlckN1c3RvbUV2ZW50VHlwZTogKGV2ZW50TmFtZTogc3RyaW5nLCBvcHRpb25zOiBFdmVudFR5cGVPcHRpb25zKSA9PiB2b2lkO1xuXG4gIGRpc2Nvbm5lY3Q/OiAoKSA9PiB2b2lkO1xuICByZWNvbm5lY3Q/OiAoZXhpc3RpbmdDb25uZWN0aW9uPzogSHViQ29ubmVjdGlvbikgPT4gUHJvbWlzZTxib29sZWFuPjtcbiAgZGVmYXVsdFJlY29ubmVjdGlvbkhhbmRsZXI/OiBEZWZhdWx0UmVjb25uZWN0aW9uSGFuZGxlcjtcbiAgc3RhcnQ/OiAoKHVzZXJPcHRpb25zPzogUGFydGlhbDxDaXJjdWl0U3RhcnRPcHRpb25zPikgPT4gUHJvbWlzZTx2b2lkPikgfCAoKG9wdGlvbnM/OiBQYXJ0aWFsPFdlYkFzc2VtYmx5U3RhcnRPcHRpb25zPikgPT4gUHJvbWlzZTx2b2lkPikgfCAoKG9wdGlvbnM/OiBQYXJ0aWFsPFdlYlN0YXJ0T3B0aW9ucz4pID0+IFByb21pc2U8dm9pZD4pO1xuICBwbGF0Zm9ybT86IFBsYXRmb3JtO1xuICByb290Q29tcG9uZW50czogdHlwZW9mIFJvb3RDb21wb25lbnRzRnVuY3Rpb25zO1xuXG4gIF9pbnRlcm5hbDoge1xuICAgIG5hdmlnYXRpb25NYW5hZ2VyOiB0eXBlb2YgbmF2aWdhdGlvbk1hbmFnZXJJbnRlcm5hbEZ1bmN0aW9ucyB8IGFueTtcbiAgICBkb21XcmFwcGVyOiB0eXBlb2YgZG9tRnVuY3Rpb25zO1xuICAgIFZpcnR1YWxpemU6IHR5cGVvZiBWaXJ0dWFsaXplO1xuICAgIFBhZ2VUaXRsZTogdHlwZW9mIFBhZ2VUaXRsZTtcbiAgICBmb3JjZUNsb3NlQ29ubmVjdGlvbj86ICgpID0+IFByb21pc2U8dm9pZD47XG4gICAgSW5wdXRGaWxlPzogdHlwZW9mIElucHV0RmlsZTtcbiAgICBOYXZpZ2F0aW9uTG9jazogdHlwZW9mIE5hdmlnYXRpb25Mb2NrO1xuICAgIGludm9rZUpTRnJvbURvdE5ldD86IChjYWxsSW5mbzogUG9pbnRlciwgYXJnMDogYW55LCBhcmcxOiBhbnksIGFyZzI6IGFueSkgPT4gYW55O1xuICAgIGludm9rZUpTSnNvbj86IChpZGVudGlmaWVyOiBzdHJpbmcsIHRhcmdldEluc3RhbmNlSWQ6IG51bWJlciwgcmVzdWx0VHlwZTogbnVtYmVyLCBhcmdzSnNvbjogc3RyaW5nLCBhc3luY0hhbmRsZTogbnVtYmVyKSA9PiBzdHJpbmcgfCBudWxsO1xuICAgIGVuZEludm9rZURvdE5ldEZyb21KUz86IChjYWxsSWQ6IHN0cmluZywgc3VjY2VzczogYm9vbGVhbiwgcmVzdWx0SnNvbk9yRXJyb3JNZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgcmVjZWl2ZUJ5dGVBcnJheT86IChpZDogbnVtYmVyLCBkYXRhOiBVaW50OEFycmF5KSA9PiB2b2lkO1xuICAgIGdldFBlcnNpc3RlZFN0YXRlPzogKCkgPT4gc3RyaW5nO1xuICAgIGF0dGFjaFJvb3RDb21wb25lbnRUb0VsZW1lbnQ/OiAoYXJnMDogYW55LCBhcmcxOiBhbnksIGFyZzI6IGFueSwgYXJnMzogYW55KSA9PiB2b2lkO1xuICAgIHJlZ2lzdGVyZWRDb21wb25lbnRzPzoge1xuICAgICAgZ2V0UmVnaXN0ZXJlZENvbXBvbmVudHNDb3VudDogKCkgPT4gbnVtYmVyO1xuICAgICAgZ2V0SWQ6IChpbmRleCkgPT4gbnVtYmVyO1xuICAgICAgZ2V0QXNzZW1ibHk6IChpZCkgPT4gc3RyaW5nO1xuICAgICAgZ2V0VHlwZU5hbWU6IChpZCkgPT4gc3RyaW5nO1xuICAgICAgZ2V0UGFyYW1ldGVyRGVmaW5pdGlvbnM6IChpZCkgPT4gc3RyaW5nO1xuICAgICAgZ2V0UGFyYW1ldGVyVmFsdWVzOiAoaWQpID0+IGFueTtcbiAgICB9O1xuICAgIHJlbmRlckJhdGNoPzogKGJyb3dzZXJSZW5kZXJlcklkOiBudW1iZXIsIGJhdGNoQWRkcmVzczogUG9pbnRlcikgPT4gdm9pZDtcbiAgICBnZXRDb25maWc/OiAoZmlsZU5hbWU6IHN0cmluZykgPT4gVWludDhBcnJheSB8IHVuZGVmaW5lZDtcbiAgICBnZXRBcHBsaWNhdGlvbkVudmlyb25tZW50PzogKCkgPT4gc3RyaW5nO1xuICAgIGRvdE5ldENyaXRpY2FsRXJyb3I/OiBhbnk7XG4gICAgbG9hZExhenlBc3NlbWJseT86IGFueTtcbiAgICBsb2FkU2F0ZWxsaXRlQXNzZW1ibGllcz86IGFueTtcbiAgICBzZW5kSlNEYXRhU3RyZWFtPzogKGRhdGE6IGFueSwgc3RyZWFtSWQ6IG51bWJlciwgY2h1bmtTaXplOiBudW1iZXIpID0+IHZvaWQ7XG4gICAgZ2V0SlNEYXRhU3RyZWFtQ2h1bms/OiAoZGF0YTogYW55LCBwb3NpdGlvbjogbnVtYmVyLCBjaHVua1NpemU6IG51bWJlcikgPT4gUHJvbWlzZTxVaW50OEFycmF5PjtcbiAgICByZWNlaXZlV2ViQXNzZW1ibHlEb3ROZXREYXRhU3RyZWFtPzogKHN0cmVhbUlkOiBudW1iZXIsIGRhdGE6IGFueSwgYnl0ZXNSZWFkOiBudW1iZXIsIGVycm9yTWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xuICAgIHJlY2VpdmVXZWJWaWV3RG90TmV0RGF0YVN0cmVhbT86IChzdHJlYW1JZDogbnVtYmVyLCBkYXRhOiBhbnksIGJ5dGVzUmVhZDogbnVtYmVyLCBlcnJvck1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZDtcbiAgICBhdHRhY2hXZWJSZW5kZXJlckludGVyb3A/OiB0eXBlb2YgYXR0YWNoV2ViUmVuZGVyZXJJbnRlcm9wO1xuXG4gICAgLy8gSlNFeHBvcnQgQVBJc1xuICAgIGRvdE5ldEV4cG9ydHM/OiB7XG4gICAgICBJbnZva2VEb3ROZXQ6IChhc3NlbWJseU5hbWU6IHN0cmluZyB8IG51bGwsIG1ldGhvZElkZW50aWZpZXI6IHN0cmluZywgZG90TmV0T2JqZWN0SWQ6IG51bWJlciwgYXJnc0pzb246IHN0cmluZykgPT4gc3RyaW5nIHwgbnVsbDtcbiAgICAgIEVuZEludm9rZUpTOiAoYXJnc0pzb246IHN0cmluZykgPT4gdm9pZDtcbiAgICAgIEJlZ2luSW52b2tlRG90TmV0OiAoY2FsbElkOiBzdHJpbmcgfCBudWxsLCBhc3NlbWJseU5hbWVPckRvdE5ldE9iamVjdElkOiBzdHJpbmcsIG1ldGhvZElkZW50aWZpZXI6IHN0cmluZywgYXJnc0pzb246IHN0cmluZykgPT4gdm9pZDtcbiAgICAgIFJlY2VpdmVCeXRlQXJyYXlGcm9tSlM6IChpZDogbnVtYmVyLCBkYXRhOiBVaW50OEFycmF5KSA9PiB2b2lkO1xuICAgIH1cblxuICAgIC8vIEFQSXMgaW52b2tlZCBieSBob3QgcmVsb2FkXG4gICAgYXBwbHlIb3RSZWxvYWQ/OiAoaWQ6IHN0cmluZywgbWV0YWRhdGFEZWx0YTogc3RyaW5nLCBpbERlbHRhOiBzdHJpbmcsIHBkYkRlbHRhOiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IHZvaWQ7XG4gICAgZ2V0QXBwbHlVcGRhdGVDYXBhYmlsaXRpZXM/OiAoKSA9PiBzdHJpbmc7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IEJsYXpvcjogSUJsYXpvciA9IHtcbiAgbmF2aWdhdGVUbyxcbiAgcmVnaXN0ZXJDdXN0b21FdmVudFR5cGUsXG4gIHJvb3RDb21wb25lbnRzOiBSb290Q29tcG9uZW50c0Z1bmN0aW9ucyxcblxuICBfaW50ZXJuYWw6IHtcbiAgICBuYXZpZ2F0aW9uTWFuYWdlcjogbmF2aWdhdGlvbk1hbmFnZXJJbnRlcm5hbEZ1bmN0aW9ucyxcbiAgICBkb21XcmFwcGVyOiBkb21GdW5jdGlvbnMsXG4gICAgVmlydHVhbGl6ZSxcbiAgICBQYWdlVGl0bGUsXG4gICAgSW5wdXRGaWxlLFxuICAgIE5hdmlnYXRpb25Mb2NrLFxuICAgIGdldEpTRGF0YVN0cmVhbUNodW5rOiBnZXROZXh0Q2h1bmssXG4gICAgYXR0YWNoV2ViUmVuZGVyZXJJbnRlcm9wLFxuICB9LFxufTtcblxuLy8gTWFrZSB0aGUgZm9sbG93aW5nIEFQSXMgYXZhaWxhYmxlIGluIGdsb2JhbCBzY29wZSBmb3IgaW52b2NhdGlvbiBmcm9tIEpTXG53aW5kb3dbJ0JsYXpvciddID0gQmxhem9yO1xuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxubGV0IGhhc0ZhaWxlZCA9IGZhbHNlO1xuXG5leHBvcnQgZnVuY3Rpb24gc2hvd0Vycm9yTm90aWZpY2F0aW9uKCk6IHZvaWQge1xuICBjb25zdCBlcnJvclVpID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2JsYXpvci1lcnJvci11aScpIGFzIEhUTUxFbGVtZW50O1xuICBpZiAoZXJyb3JVaSkge1xuICAgIGVycm9yVWkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIH1cblxuICBpZiAoIWhhc0ZhaWxlZCkge1xuICAgIGhhc0ZhaWxlZCA9IHRydWU7XG4gICAgY29uc3QgZXJyb3JVaVJlbG9hZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxFbGVtZW50PignI2JsYXpvci1lcnJvci11aSAucmVsb2FkJyk7XG4gICAgZXJyb3JVaVJlbG9hZHMuZm9yRWFjaChyZWxvYWQgPT4ge1xuICAgICAgcmVsb2FkLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgY29uc3QgZXJyb3JVaURpc21pc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxFbGVtZW50PignI2JsYXpvci1lcnJvci11aSAuZGlzbWlzcycpO1xuICAgIGVycm9yVWlEaXNtaXNzLmZvckVhY2goZGlzbWlzcyA9PiB7XG4gICAgICBkaXNtaXNzLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGNvbnN0IGVycm9yVWkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxFbGVtZW50PignI2JsYXpvci1lcnJvci11aScpO1xuICAgICAgICBpZiAoZXJyb3JVaSkge1xuICAgICAgICAgIGVycm9yVWkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG59XG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG5jb25zdCBuYXRpdmVEZWNvZGVyID0gdHlwZW9mIFRleHREZWNvZGVyID09PSAnZnVuY3Rpb24nXG4gID8gbmV3IFRleHREZWNvZGVyKCd1dGYtOCcpXG4gIDogbnVsbDtcblxuZXhwb3J0IGNvbnN0IGRlY29kZVV0Zjg6IChieXRlczogVWludDhBcnJheSkgPT4gc3RyaW5nXG4gID0gbmF0aXZlRGVjb2RlciA/IG5hdGl2ZURlY29kZXIuZGVjb2RlLmJpbmQobmF0aXZlRGVjb2RlcikgOiBkZWNvZGVJbXBsO1xuXG4vKiAhXG5Mb2dpYyBpbiBkZWNvZGVJbXBsIGlzIGRlcml2ZWQgZnJvbSBmYXN0LXRleHQtZW5jb2Rpbmdcbmh0dHBzOi8vZ2l0aHViLmNvbS9zYW10aG9yL2Zhc3QtdGV4dC1lbmNvZGluZ1xuXG5MaWNlbnNlIGZvciBmYXN0LXRleHQtZW5jb2Rpbmc6IEFwYWNoZSAyLjBcbmh0dHBzOi8vZ2l0aHViLmNvbS9zYW10aG9yL2Zhc3QtdGV4dC1lbmNvZGluZy9ibG9iL21hc3Rlci9MSUNFTlNFXG4qL1xuXG5mdW5jdGlvbiBkZWNvZGVJbXBsKGJ5dGVzOiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgbGV0IHBvcyA9IDA7XG4gIGNvbnN0IGxlbiA9IGJ5dGVzLmxlbmd0aDtcbiAgY29uc3Qgb3V0OiBudW1iZXJbXSA9IFtdO1xuICBjb25zdCBzdWJzdHJpbmdzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIHdoaWxlIChwb3MgPCBsZW4pIHtcbiAgICBjb25zdCBieXRlMSA9IGJ5dGVzW3BvcysrXTtcbiAgICBpZiAoYnl0ZTEgPT09IDApIHtcbiAgICAgIGJyZWFrOyAvLyBOVUxMXG4gICAgfVxuXG4gICAgaWYgKChieXRlMSAmIDB4ODApID09PSAwKSB7IC8vIDEtYnl0ZVxuICAgICAgb3V0LnB1c2goYnl0ZTEpO1xuICAgIH0gZWxzZSBpZiAoKGJ5dGUxICYgMHhlMCkgPT09IDB4YzApIHsgLy8gMi1ieXRlXG4gICAgICBjb25zdCBieXRlMiA9IGJ5dGVzW3BvcysrXSAmIDB4M2Y7XG4gICAgICBvdXQucHVzaCgoKGJ5dGUxICYgMHgxZikgPDwgNikgfCBieXRlMik7XG4gICAgfSBlbHNlIGlmICgoYnl0ZTEgJiAweGYwKSA9PT0gMHhlMCkge1xuICAgICAgY29uc3QgYnl0ZTIgPSBieXRlc1twb3MrK10gJiAweDNmO1xuICAgICAgY29uc3QgYnl0ZTMgPSBieXRlc1twb3MrK10gJiAweDNmO1xuICAgICAgb3V0LnB1c2goKChieXRlMSAmIDB4MWYpIDw8IDEyKSB8IChieXRlMiA8PCA2KSB8IGJ5dGUzKTtcbiAgICB9IGVsc2UgaWYgKChieXRlMSAmIDB4ZjgpID09PSAweGYwKSB7XG4gICAgICBjb25zdCBieXRlMiA9IGJ5dGVzW3BvcysrXSAmIDB4M2Y7XG4gICAgICBjb25zdCBieXRlMyA9IGJ5dGVzW3BvcysrXSAmIDB4M2Y7XG4gICAgICBjb25zdCBieXRlNCA9IGJ5dGVzW3BvcysrXSAmIDB4M2Y7XG5cbiAgICAgIC8vIHRoaXMgY2FuIGJlID4gMHhmZmZmLCBzbyBwb3NzaWJseSBnZW5lcmF0ZSBzdXJyb2dhdGVzXG4gICAgICBsZXQgY29kZXBvaW50ID0gKChieXRlMSAmIDB4MDcpIDw8IDB4MTIpIHwgKGJ5dGUyIDw8IDB4MGMpIHwgKGJ5dGUzIDw8IDB4MDYpIHwgYnl0ZTQ7XG4gICAgICBpZiAoY29kZXBvaW50ID4gMHhmZmZmKSB7XG4gICAgICAgIC8vIGNvZGVwb2ludCAmPSB+MHgxMDAwMDtcbiAgICAgICAgY29kZXBvaW50IC09IDB4MTAwMDA7XG4gICAgICAgIG91dC5wdXNoKChjb2RlcG9pbnQgPj4+IDEwKSAmIDB4M2ZmIHwgMHhkODAwKTtcbiAgICAgICAgY29kZXBvaW50ID0gMHhkYzAwIHwgY29kZXBvaW50ICYgMHgzZmY7XG4gICAgICB9XG4gICAgICBvdXQucHVzaChjb2RlcG9pbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGSVhNRTogd2UncmUgaWdub3JpbmcgdGhpc1xuICAgIH1cblxuICAgIC8vIEFzIGEgd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL3NhbXRob3IvZmFzdC10ZXh0LWVuY29kaW5nL2lzc3Vlcy8xLFxuICAgIC8vIG1ha2Ugc3VyZSB0aGUgJ291dCcgYXJyYXkgbmV2ZXIgZ2V0cyB0b28gbG9uZy4gV2hlbiBpdCByZWFjaGVzIGEgbGltaXQsIHdlXG4gICAgLy8gc3RyaW5naWZ5IHdoYXQgd2UgaGF2ZSBzbyBmYXIgYW5kIGFwcGVuZCB0byBhIGxpc3Qgb2Ygb3V0cHV0cy5cbiAgICBpZiAob3V0Lmxlbmd0aCA+IDEwMjQpIHtcbiAgICAgIHN1YnN0cmluZ3MucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG91dCkpO1xuICAgICAgb3V0Lmxlbmd0aCA9IDA7XG4gICAgfVxuICB9XG5cbiAgc3Vic3RyaW5ncy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgb3V0KSk7XG4gIHJldHVybiBzdWJzdHJpbmdzLmpvaW4oJycpO1xufVxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuY29uc3QgdWludDY0SGlnaFBhcnRTaGlmdCA9IE1hdGgucG93KDIsIDMyKTtcbmNvbnN0IG1heFNhZmVOdW1iZXJIaWdoUGFydCA9IE1hdGgucG93KDIsIDIxKSAtIDE7IC8vIFRoZSBoaWdoLW9yZGVyIGludDMyIGZyb20gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJcblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRJbnQzMkxFKGJ1ZmZlcjogVWludDhBcnJheSwgcG9zaXRpb246IG51bWJlcik6IGFueSB7XG4gIHJldHVybiAoYnVmZmVyW3Bvc2l0aW9uXSlcbiAgICAgICAgfCAoYnVmZmVyW3Bvc2l0aW9uICsgMV0gPDwgOClcbiAgICAgICAgfCAoYnVmZmVyW3Bvc2l0aW9uICsgMl0gPDwgMTYpXG4gICAgICAgIHwgKGJ1ZmZlcltwb3NpdGlvbiArIDNdIDw8IDI0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRVaW50MzJMRShidWZmZXI6IFVpbnQ4QXJyYXksIHBvc2l0aW9uOiBudW1iZXIpOiBhbnkge1xuICByZXR1cm4gKGJ1ZmZlcltwb3NpdGlvbl0pXG4gICAgICAgICsgKGJ1ZmZlcltwb3NpdGlvbiArIDFdIDw8IDgpXG4gICAgICAgICsgKGJ1ZmZlcltwb3NpdGlvbiArIDJdIDw8IDE2KVxuICAgICAgICArICgoYnVmZmVyW3Bvc2l0aW9uICsgM10gPDwgMjQpID4+PiAwKTsgLy8gVGhlID4+PiAwIGNvZXJjZXMgdGhlIHZhbHVlIHRvIHVuc2lnbmVkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWFkVWludDY0TEUoYnVmZmVyOiBVaW50OEFycmF5LCBwb3NpdGlvbjogbnVtYmVyKTogYW55IHtcbiAgLy8gVGhpcyBjYW5ub3QgYmUgZG9uZSB1c2luZyBiaXQtc2hpZnQgb3BlcmF0b3JzIGluIEphdmFTY3JpcHQsIGJlY2F1c2VcbiAgLy8gdGhvc2UgYWxsIGltcGxpY2l0bHkgY29udmVydCB0byBpbnQzMlxuICBjb25zdCBoaWdoUGFydCA9IHJlYWRVaW50MzJMRShidWZmZXIsIHBvc2l0aW9uICsgNCk7XG4gIGlmIChoaWdoUGFydCA+IG1heFNhZmVOdW1iZXJIaWdoUGFydCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHJlYWQgdWludDY0IHdpdGggaGlnaCBvcmRlciBwYXJ0ICR7aGlnaFBhcnR9LCBiZWNhdXNlIHRoZSByZXN1bHQgd291bGQgZXhjZWVkIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLmApO1xuICB9XG5cbiAgcmV0dXJuIChoaWdoUGFydCAqIHVpbnQ2NEhpZ2hQYXJ0U2hpZnQpICsgcmVhZFVpbnQzMkxFKGJ1ZmZlciwgcG9zaXRpb24pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZExFQjEyOChidWZmZXI6IFVpbnQ4QXJyYXksIHBvc2l0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuICBsZXQgcmVzdWx0ID0gMDtcbiAgbGV0IHNoaWZ0ID0gMDtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IDQ7IGluZGV4KyspIHtcbiAgICBjb25zdCBieXRlID0gYnVmZmVyW3Bvc2l0aW9uICsgaW5kZXhdO1xuICAgIHJlc3VsdCB8PSAoYnl0ZSAmIDEyNykgPDwgc2hpZnQ7XG4gICAgaWYgKGJ5dGUgPCAxMjgpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBzaGlmdCArPSA3O1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBudW1MRUIxMjhCeXRlcyh2YWx1ZTogbnVtYmVyKTogMSB8IDIgfCAzIHwgNCB7XG4gIHJldHVybiB2YWx1ZSA8IDEyOCA/IDFcbiAgICA6IHZhbHVlIDwgMTYzODQgPyAyXG4gICAgICA6IHZhbHVlIDwgMjA5NzE1MiA/IDMgOiA0O1xufVxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuaW1wb3J0IHsgUmVuZGVyQmF0Y2gsIEFycmF5UmFuZ2UsIFJlbmRlclRyZWVEaWZmLCBBcnJheVZhbHVlcywgUmVuZGVyVHJlZUVkaXQsIFJlbmRlclRyZWVGcmFtZSwgUmVuZGVyVHJlZURpZmZSZWFkZXIsIFJlbmRlclRyZWVGcmFtZVJlYWRlciwgUmVuZGVyVHJlZUVkaXRSZWFkZXIsIEFycmF5UmFuZ2VSZWFkZXIsIEFycmF5QnVpbGRlclNlZ21lbnRSZWFkZXIsIEFycmF5QnVpbGRlclNlZ21lbnQgfSBmcm9tICcuL1JlbmRlckJhdGNoJztcbmltcG9ydCB7IGRlY29kZVV0ZjggfSBmcm9tICcuLi8uLi9VdGY4RGVjb2Rlcic7XG5pbXBvcnQgeyByZWFkSW50MzJMRSwgcmVhZFVpbnQ2NExFLCByZWFkTEVCMTI4LCBudW1MRUIxMjhCeXRlcyB9IGZyb20gJy4uLy4uL0JpbmFyeURlY29kZXInO1xuXG5jb25zdCB1cGRhdGVkQ29tcG9uZW50c0VudHJ5TGVuZ3RoID0gNDsgLy8gRWFjaCBpcyBhIHNpbmdsZSBpbnQzMiBnaXZpbmcgdGhlIGxvY2F0aW9uIG9mIHRoZSBkYXRhXG5jb25zdCByZWZlcmVuY2VGcmFtZXNFbnRyeUxlbmd0aCA9IDIwOyAvLyAxIGludCBmb3IgZnJhbWUgdHlwZSwgdGhlbiAxNiBieXRlcyBmb3IgdHlwZS1zcGVjaWZpYyBkYXRhXG5jb25zdCBkaXNwb3NlZENvbXBvbmVudElkc0VudHJ5TGVuZ3RoID0gNDsgLy8gRWFjaCBpcyBhbiBpbnQzMiBnaXZpbmcgdGhlIElEXG5jb25zdCBkaXNwb3NlZEV2ZW50SGFuZGxlcklkc0VudHJ5TGVuZ3RoID0gODsgLy8gRWFjaCBpcyBhbiBpbnQ2NCBnaXZpbmcgdGhlIElEXG5jb25zdCBlZGl0c0VudHJ5TGVuZ3RoID0gMTY7IC8vIDQgaW50c1xuY29uc3Qgc3RyaW5nVGFibGVFbnRyeUxlbmd0aCA9IDQ7IC8vIEVhY2ggaXMgYW4gaW50MzIgZ2l2aW5nIHRoZSBzdHJpbmcgZGF0YSBsb2NhdGlvbiwgb3IgLTEgZm9yIG51bGxcblxuZXhwb3J0IGNsYXNzIE91dE9mUHJvY2Vzc1JlbmRlckJhdGNoIGltcGxlbWVudHMgUmVuZGVyQmF0Y2gge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGJhdGNoRGF0YTogVWludDhBcnJheSkge1xuICAgIGNvbnN0IHN0cmluZ1JlYWRlciA9IG5ldyBPdXRPZlByb2Nlc3NTdHJpbmdSZWFkZXIoYmF0Y2hEYXRhKTtcblxuICAgIHRoaXMuYXJyYXlSYW5nZVJlYWRlciA9IG5ldyBPdXRPZlByb2Nlc3NBcnJheVJhbmdlUmVhZGVyKGJhdGNoRGF0YSk7XG4gICAgdGhpcy5hcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyID0gbmV3IE91dE9mUHJvY2Vzc0FycmF5QnVpbGRlclNlZ21lbnRSZWFkZXIoYmF0Y2hEYXRhKTtcbiAgICB0aGlzLmRpZmZSZWFkZXIgPSBuZXcgT3V0T2ZQcm9jZXNzUmVuZGVyVHJlZURpZmZSZWFkZXIoYmF0Y2hEYXRhKTtcbiAgICB0aGlzLmVkaXRSZWFkZXIgPSBuZXcgT3V0T2ZQcm9jZXNzUmVuZGVyVHJlZUVkaXRSZWFkZXIoYmF0Y2hEYXRhLCBzdHJpbmdSZWFkZXIpO1xuICAgIHRoaXMuZnJhbWVSZWFkZXIgPSBuZXcgT3V0T2ZQcm9jZXNzUmVuZGVyVHJlZUZyYW1lUmVhZGVyKGJhdGNoRGF0YSwgc3RyaW5nUmVhZGVyKTtcbiAgfVxuXG4gIHVwZGF0ZWRDb21wb25lbnRzKCk6IEFycmF5UmFuZ2U8UmVuZGVyVHJlZURpZmY+IHtcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGEsIHRoaXMuYmF0Y2hEYXRhLmxlbmd0aCAtIDIwKTsgLy8gNXRoLWZyb20tbGFzdCBpbnQzMlxuICB9XG5cbiAgcmVmZXJlbmNlRnJhbWVzKCk6IEFycmF5UmFuZ2U8UmVuZGVyVHJlZUZyYW1lPiB7XG4gICAgcmV0dXJuIHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhLCB0aGlzLmJhdGNoRGF0YS5sZW5ndGggLSAxNik7IC8vIDR0aC1mcm9tLWxhc3QgaW50MzJcbiAgfVxuXG4gIGRpc3Bvc2VkQ29tcG9uZW50SWRzKCk6IEFycmF5UmFuZ2U8bnVtYmVyPiB7XG4gICAgcmV0dXJuIHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhLCB0aGlzLmJhdGNoRGF0YS5sZW5ndGggLSAxMik7IC8vIDNyZC1mcm9tLWxhc3QgaW50MzJcbiAgfVxuXG4gIGRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzKCk6IEFycmF5UmFuZ2U8bnVtYmVyPiB7XG4gICAgcmV0dXJuIHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhLCB0aGlzLmJhdGNoRGF0YS5sZW5ndGggLSA4KTsgLy8gMnRoLWZyb20tbGFzdCBpbnQzMlxuICB9XG5cbiAgdXBkYXRlZENvbXBvbmVudHNFbnRyeSh2YWx1ZXM6IEFycmF5VmFsdWVzPFJlbmRlclRyZWVEaWZmPiwgaW5kZXg6IG51bWJlcik6IFJlbmRlclRyZWVEaWZmIHtcbiAgICBjb25zdCB0YWJsZUVudHJ5UG9zID0gKHZhbHVlcyBhcyBhbnkpICsgaW5kZXggKiB1cGRhdGVkQ29tcG9uZW50c0VudHJ5TGVuZ3RoO1xuICAgIHJldHVybiByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YSwgdGFibGVFbnRyeVBvcyk7XG4gIH1cblxuICByZWZlcmVuY2VGcmFtZXNFbnRyeSh2YWx1ZXM6IEFycmF5VmFsdWVzPFJlbmRlclRyZWVGcmFtZT4sIGluZGV4OiBudW1iZXIpOiBSZW5kZXJUcmVlRnJhbWUge1xuICAgIHJldHVybiAodmFsdWVzIGFzIGFueSkgKyBpbmRleCAqIHJlZmVyZW5jZUZyYW1lc0VudHJ5TGVuZ3RoIGFzIGFueTtcbiAgfVxuXG4gIGRpc3Bvc2VkQ29tcG9uZW50SWRzRW50cnkodmFsdWVzOiBBcnJheVZhbHVlczxudW1iZXI+LCBpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCBlbnRyeVBvcyA9ICh2YWx1ZXMgYXMgYW55KSArIGluZGV4ICogZGlzcG9zZWRDb21wb25lbnRJZHNFbnRyeUxlbmd0aDtcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGEsIGVudHJ5UG9zKTtcbiAgfVxuXG4gIGRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzRW50cnkodmFsdWVzOiBBcnJheVZhbHVlczxudW1iZXI+LCBpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCBlbnRyeVBvcyA9ICh2YWx1ZXMgYXMgYW55KSArIGluZGV4ICogZGlzcG9zZWRFdmVudEhhbmRsZXJJZHNFbnRyeUxlbmd0aDtcbiAgICByZXR1cm4gcmVhZFVpbnQ2NExFKHRoaXMuYmF0Y2hEYXRhLCBlbnRyeVBvcyk7XG4gIH1cblxuICBkaWZmUmVhZGVyOiBSZW5kZXJUcmVlRGlmZlJlYWRlcjtcblxuICBlZGl0UmVhZGVyOiBSZW5kZXJUcmVlRWRpdFJlYWRlcjtcblxuICBmcmFtZVJlYWRlcjogUmVuZGVyVHJlZUZyYW1lUmVhZGVyO1xuXG4gIGFycmF5UmFuZ2VSZWFkZXI6IEFycmF5UmFuZ2VSZWFkZXI7XG5cbiAgYXJyYXlCdWlsZGVyU2VnbWVudFJlYWRlcjogQXJyYXlCdWlsZGVyU2VnbWVudFJlYWRlcjtcbn1cblxuY2xhc3MgT3V0T2ZQcm9jZXNzUmVuZGVyVHJlZURpZmZSZWFkZXIgaW1wbGVtZW50cyBSZW5kZXJUcmVlRGlmZlJlYWRlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgYmF0Y2hEYXRhVWludDg6IFVpbnQ4QXJyYXkpIHtcbiAgfVxuXG4gIGNvbXBvbmVudElkKGRpZmY6IFJlbmRlclRyZWVEaWZmKSB7XG4gICAgLy8gRmlyc3QgaW50MzIgaXMgY29tcG9uZW50SWRcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZGlmZiBhcyBhbnkpO1xuICB9XG5cbiAgZWRpdHMoZGlmZjogUmVuZGVyVHJlZURpZmYpIHtcbiAgICAvLyBFbnRyaWVzIGRhdGEgc3RhcnRzIGFmdGVyIHRoZSBjb21wb25lbnRJZCAod2hpY2ggaXMgYSA0LWJ5dGUgaW50KVxuICAgIHJldHVybiAoZGlmZiBhcyBhbnkgKyA0KTtcbiAgfVxuXG4gIGVkaXRzRW50cnkodmFsdWVzOiBBcnJheVZhbHVlczxSZW5kZXJUcmVlRWRpdD4sIGluZGV4OiBudW1iZXIpIHtcbiAgICByZXR1cm4gKHZhbHVlcyBhcyBhbnkpICsgaW5kZXggKiBlZGl0c0VudHJ5TGVuZ3RoO1xuICB9XG59XG5cbmNsYXNzIE91dE9mUHJvY2Vzc1JlbmRlclRyZWVFZGl0UmVhZGVyIGltcGxlbWVudHMgUmVuZGVyVHJlZUVkaXRSZWFkZXIge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGJhdGNoRGF0YVVpbnQ4OiBVaW50OEFycmF5LCBwcml2YXRlIHN0cmluZ1JlYWRlcjogT3V0T2ZQcm9jZXNzU3RyaW5nUmVhZGVyKSB7XG4gIH1cblxuICBlZGl0VHlwZShlZGl0OiBSZW5kZXJUcmVlRWRpdCkge1xuICAgIHJldHVybiByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YVVpbnQ4LCBlZGl0IGFzIGFueSk7IC8vIDFzdCBpbnRcbiAgfVxuXG4gIHNpYmxpbmdJbmRleChlZGl0OiBSZW5kZXJUcmVlRWRpdCkge1xuICAgIHJldHVybiByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YVVpbnQ4LCBlZGl0IGFzIGFueSArIDQpOyAvLyAybmQgaW50XG4gIH1cblxuICBuZXdUcmVlSW5kZXgoZWRpdDogUmVuZGVyVHJlZUVkaXQpIHtcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZWRpdCBhcyBhbnkgKyA4KTsgLy8gM3JkIGludFxuICB9XG5cbiAgbW92ZVRvU2libGluZ0luZGV4KGVkaXQ6IFJlbmRlclRyZWVFZGl0KSB7XG4gICAgcmV0dXJuIHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhVWludDgsIGVkaXQgYXMgYW55ICsgOCk7IC8vIDNyZCBpbnRcbiAgfVxuXG4gIHJlbW92ZWRBdHRyaWJ1dGVOYW1lKGVkaXQ6IFJlbmRlclRyZWVFZGl0KSB7XG4gICAgY29uc3Qgc3RyaW5nSW5kZXggPSByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YVVpbnQ4LCBlZGl0IGFzIGFueSArIDEyKTsgLy8gNHRoIGludFxuICAgIHJldHVybiB0aGlzLnN0cmluZ1JlYWRlci5yZWFkU3RyaW5nKHN0cmluZ0luZGV4KTtcbiAgfVxufVxuXG5jbGFzcyBPdXRPZlByb2Nlc3NSZW5kZXJUcmVlRnJhbWVSZWFkZXIgaW1wbGVtZW50cyBSZW5kZXJUcmVlRnJhbWVSZWFkZXIge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGJhdGNoRGF0YVVpbnQ4OiBVaW50OEFycmF5LCBwcml2YXRlIHN0cmluZ1JlYWRlcjogT3V0T2ZQcm9jZXNzU3RyaW5nUmVhZGVyKSB7XG4gIH1cblxuICAvLyBGb3IgcmVuZGVyIGZyYW1lcywgdGhlIDJuZC00dGggaW50cyBoYXZlIGRpZmZlcmVudCBtZWFuaW5ncyBkZXBlbmRpbmcgb24gZnJhbWVUeXBlLlxuICAvLyBJdCdzIHRoZSBjYWxsZXIncyByZXNwb25zaWJpbGl0eSBub3QgdG8gZXZhbHVhdGUgcHJvcGVydGllcyB0aGF0IGFyZW4ndCBhcHBsaWNhYmxlIHRvIHRoZSBmcmFtZVR5cGUuXG5cbiAgZnJhbWVUeXBlKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpIHtcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZnJhbWUgYXMgYW55KTsgLy8gMXN0IGludFxuICB9XG5cbiAgc3VidHJlZUxlbmd0aChmcmFtZTogUmVuZGVyVHJlZUZyYW1lKSB7XG4gICAgcmV0dXJuIHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhVWludDgsIGZyYW1lIGFzIGFueSArIDQpOyAvLyAybmQgaW50XG4gIH1cblxuICBlbGVtZW50UmVmZXJlbmNlQ2FwdHVyZUlkKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpIHtcbiAgICBjb25zdCBzdHJpbmdJbmRleCA9IHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhVWludDgsIGZyYW1lIGFzIGFueSArIDQpOyAvLyAybmQgaW50XG4gICAgcmV0dXJuIHRoaXMuc3RyaW5nUmVhZGVyLnJlYWRTdHJpbmcoc3RyaW5nSW5kZXgpO1xuICB9XG5cbiAgY29tcG9uZW50SWQoZnJhbWU6IFJlbmRlclRyZWVGcmFtZSkge1xuICAgIHJldHVybiByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YVVpbnQ4LCBmcmFtZSBhcyBhbnkgKyA4KTsgLy8gM3JkIGludFxuICB9XG5cbiAgZWxlbWVudE5hbWUoZnJhbWU6IFJlbmRlclRyZWVGcmFtZSkge1xuICAgIGNvbnN0IHN0cmluZ0luZGV4ID0gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZnJhbWUgYXMgYW55ICsgOCk7IC8vIDNyZCBpbnRcbiAgICByZXR1cm4gdGhpcy5zdHJpbmdSZWFkZXIucmVhZFN0cmluZyhzdHJpbmdJbmRleCk7XG4gIH1cblxuICB0ZXh0Q29udGVudChmcmFtZTogUmVuZGVyVHJlZUZyYW1lKSB7XG4gICAgY29uc3Qgc3RyaW5nSW5kZXggPSByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YVVpbnQ4LCBmcmFtZSBhcyBhbnkgKyA0KTsgLy8gMm5kIGludFxuICAgIHJldHVybiB0aGlzLnN0cmluZ1JlYWRlci5yZWFkU3RyaW5nKHN0cmluZ0luZGV4KTtcbiAgfVxuXG4gIG1hcmt1cENvbnRlbnQoZnJhbWU6IFJlbmRlclRyZWVGcmFtZSkge1xuICAgIGNvbnN0IHN0cmluZ0luZGV4ID0gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZnJhbWUgYXMgYW55ICsgNCk7IC8vIDJuZCBpbnRcbiAgICByZXR1cm4gdGhpcy5zdHJpbmdSZWFkZXIucmVhZFN0cmluZyhzdHJpbmdJbmRleCkhO1xuICB9XG5cbiAgYXR0cmlidXRlTmFtZShmcmFtZTogUmVuZGVyVHJlZUZyYW1lKSB7XG4gICAgY29uc3Qgc3RyaW5nSW5kZXggPSByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YVVpbnQ4LCBmcmFtZSBhcyBhbnkgKyA0KTsgLy8gMm5kIGludFxuICAgIHJldHVybiB0aGlzLnN0cmluZ1JlYWRlci5yZWFkU3RyaW5nKHN0cmluZ0luZGV4KTtcbiAgfVxuXG4gIGF0dHJpYnV0ZVZhbHVlKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpIHtcbiAgICBjb25zdCBzdHJpbmdJbmRleCA9IHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhVWludDgsIGZyYW1lIGFzIGFueSArIDgpOyAvLyAzcmQgaW50XG4gICAgcmV0dXJuIHRoaXMuc3RyaW5nUmVhZGVyLnJlYWRTdHJpbmcoc3RyaW5nSW5kZXgpO1xuICB9XG5cbiAgYXR0cmlidXRlRXZlbnRIYW5kbGVySWQoZnJhbWU6IFJlbmRlclRyZWVGcmFtZSkge1xuICAgIHJldHVybiByZWFkVWludDY0TEUodGhpcy5iYXRjaERhdGFVaW50OCwgZnJhbWUgYXMgYW55ICsgMTIpOyAvLyBCeXRlcyAxMi0xOVxuICB9XG59XG5cbmNsYXNzIE91dE9mUHJvY2Vzc1N0cmluZ1JlYWRlciB7XG4gIHByaXZhdGUgc3RyaW5nVGFibGVTdGFydEluZGV4OiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBiYXRjaERhdGFVaW50ODogVWludDhBcnJheSkge1xuICAgIC8vIEZpbmFsIGludCBnaXZlcyBzdGFydCBwb3NpdGlvbiBvZiB0aGUgc3RyaW5nIHRhYmxlXG4gICAgdGhpcy5zdHJpbmdUYWJsZVN0YXJ0SW5kZXggPSByZWFkSW50MzJMRShiYXRjaERhdGFVaW50OCwgYmF0Y2hEYXRhVWludDgubGVuZ3RoIC0gNCk7XG4gIH1cblxuICByZWFkU3RyaW5nKGluZGV4OiBudW1iZXIpOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7IC8vIFNwZWNpYWwgdmFsdWUgZW5jb2RlcyAnbnVsbCdcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzdHJpbmdUYWJsZUVudHJ5UG9zID0gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgdGhpcy5zdHJpbmdUYWJsZVN0YXJ0SW5kZXggKyBpbmRleCAqIHN0cmluZ1RhYmxlRW50cnlMZW5ndGgpO1xuXG4gICAgICAvLyBCeSBkZWZhdWx0LCAuTkVUJ3MgQmluYXJ5V3JpdGVyIGdpdmVzIExFQjEyOC1sZW5ndGgtcHJlZml4ZWQgVVRGLTggZGF0YS5cbiAgICAgIC8vIFRoaXMgaXMgY29udmVuaWVudCBlbm91Z2ggdG8gZGVjb2RlIGluIEphdmFTY3JpcHQuXG4gICAgICBjb25zdCBudW1VdGY4Qnl0ZXMgPSByZWFkTEVCMTI4KHRoaXMuYmF0Y2hEYXRhVWludDgsIHN0cmluZ1RhYmxlRW50cnlQb3MpO1xuICAgICAgY29uc3QgY2hhcnNTdGFydCA9IHN0cmluZ1RhYmxlRW50cnlQb3MgKyBudW1MRUIxMjhCeXRlcyhudW1VdGY4Qnl0ZXMpO1xuICAgICAgY29uc3QgdXRmOERhdGEgPSBuZXcgVWludDhBcnJheShcbiAgICAgICAgdGhpcy5iYXRjaERhdGFVaW50OC5idWZmZXIsXG4gICAgICAgIHRoaXMuYmF0Y2hEYXRhVWludDguYnl0ZU9mZnNldCArIGNoYXJzU3RhcnQsXG4gICAgICAgIG51bVV0ZjhCeXRlc1xuICAgICAgKTtcbiAgICAgIHJldHVybiBkZWNvZGVVdGY4KHV0ZjhEYXRhKTtcbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgT3V0T2ZQcm9jZXNzQXJyYXlSYW5nZVJlYWRlciBpbXBsZW1lbnRzIEFycmF5UmFuZ2VSZWFkZXIge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGJhdGNoRGF0YVVpbnQ4OiBVaW50OEFycmF5KSB7XG4gIH1cblxuICBjb3VudDxUPihhcnJheVJhbmdlOiBBcnJheVJhbmdlPFQ+KSB7XG4gICAgLy8gRmlyc3QgaW50IGlzIGNvdW50XG4gICAgcmV0dXJuIHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhVWludDgsIGFycmF5UmFuZ2UgYXMgYW55KTtcbiAgfVxuXG4gIHZhbHVlczxUPihhcnJheVJhbmdlOiBBcnJheVJhbmdlPFQ+KSB7XG4gICAgLy8gRW50cmllcyBkYXRhIHN0YXJ0cyBhZnRlciB0aGUgJ2NvdW50JyBpbnQgKGkuZS4sIGFmdGVyIDQgYnl0ZXMpXG4gICAgcmV0dXJuIGFycmF5UmFuZ2UgYXMgYW55ICsgNDtcbiAgfVxufVxuXG5jbGFzcyBPdXRPZlByb2Nlc3NBcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyIGltcGxlbWVudHMgQXJyYXlCdWlsZGVyU2VnbWVudFJlYWRlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgYmF0Y2hEYXRhVWludDg6IFVpbnQ4QXJyYXkpIHtcbiAgfVxuXG4gIG9mZnNldDxUPihfYXJyYXlCdWlsZGVyU2VnbWVudDogQXJyYXlCdWlsZGVyU2VnbWVudDxUPik6IG51bWJlciB7XG4gICAgLy8gTm90IHVzZWQgYnkgdGhlIG91dC1vZi1wcm9jZXNzIHJlcHJlc2VudGF0aW9uIG9mIFJlbmRlckJhdGNoIGRhdGEuXG4gICAgLy8gVGhpcyBvbmx5IGV4aXN0cyBvbiB0aGUgQXJyYXlCdWlsZGVyU2VnbWVudFJlYWRlciBmb3IgdGhlIHNoYXJlZC1tZW1vcnkgcmVwcmVzZW50YXRpb24uXG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBjb3VudDxUPihhcnJheUJ1aWxkZXJTZWdtZW50OiBBcnJheUJ1aWxkZXJTZWdtZW50PFQ+KSB7XG4gICAgLy8gRmlyc3QgaW50IGlzIGNvdW50XG4gICAgcmV0dXJuIHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhVWludDgsIGFycmF5QnVpbGRlclNlZ21lbnQgYXMgYW55KTtcbiAgfVxuXG4gIHZhbHVlczxUPihhcnJheUJ1aWxkZXJTZWdtZW50OiBBcnJheUJ1aWxkZXJTZWdtZW50PFQ+KTogQXJyYXlWYWx1ZXM8VD4ge1xuICAgIC8vIEVudHJpZXMgZGF0YSBzdGFydHMgYWZ0ZXIgdGhlICdjb3VudCcgaW50IChpLmUuLCBhZnRlciA0IGJ5dGVzKVxuICAgIHJldHVybiBhcnJheUJ1aWxkZXJTZWdtZW50IGFzIGFueSArIDQ7XG4gIH1cbn1cblxuXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG5jb25zdCBpcGNNZXNzYWdlUHJlZml4ID0gJ19fYnd2Oic7XG5sZXQgYXBwbGljYXRpb25Jc1Rlcm1pbmF0ZWQgPSBmYWxzZTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRyeVNlcmlhbGl6ZU1lc3NhZ2UobWVzc2FnZVR5cGU6IHN0cmluZywgYXJnczogYW55W10pOiBzdHJpbmcgfCBudWxsIHtcbiAgcmV0dXJuIGFwcGxpY2F0aW9uSXNUZXJtaW5hdGVkXG4gICAgPyBudWxsXG4gICAgOiBgJHtpcGNNZXNzYWdlUHJlZml4fSR7SlNPTi5zdHJpbmdpZnkoW21lc3NhZ2VUeXBlLCAuLi5hcmdzXSl9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyeURlc2VyaWFsaXplTWVzc2FnZShtZXNzYWdlOiBzdHJpbmcpOiBJcGNNZXNzYWdlIHwgbnVsbCB7XG4gIGlmIChhcHBsaWNhdGlvbklzVGVybWluYXRlZCB8fCAhbWVzc2FnZSB8fCAhbWVzc2FnZS5zdGFydHNXaXRoKGlwY01lc3NhZ2VQcmVmaXgpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBtZXNzYWdlQWZ0ZXJQcmVmaXggPSBtZXNzYWdlLnN1YnN0cmluZyhpcGNNZXNzYWdlUHJlZml4Lmxlbmd0aCk7XG4gIGNvbnN0IFttZXNzYWdlVHlwZSwgLi4uYXJnc10gPSBKU09OLnBhcnNlKG1lc3NhZ2VBZnRlclByZWZpeCk7XG4gIHJldHVybiB7IG1lc3NhZ2VUeXBlLCBhcmdzIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRBcHBsaWNhdGlvbklzVGVybWluYXRlZCgpOiB2b2lkIHtcbiAgLy8gSWYgdGhlcmUncyBhbiB1bmhhbmRsZWQgZXhjZXB0aW9uLCB3ZSdsbCBwcmV2ZW50IHRoZSB3ZWJ2aWV3IGZyb20gZG9pbmcgYW55dGhpbmcgZWxzZSB1bnRpbFxuICAvLyBpdCByZWxvYWRzIHRoZSBwYWdlLiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gd2hhdCBoYXBwZW5zIGluIEJsYXpvciBTZXJ2ZXIsIGFuZCBhdm9pZHMgYW55b25lXG4gIC8vIHRha2luZyBhIGRlcGVuZGVuY3kgb24gYmVpbmcgYWJsZSB0byBjb250aW51ZSBpbnRlcmFjdGluZyBhZnRlciBhIGZhdGFsIGVycm9yLlxuICBhcHBsaWNhdGlvbklzVGVybWluYXRlZCA9IHRydWU7XG59XG5cbmludGVyZmFjZSBJcGNNZXNzYWdlIHtcbiAgbWVzc2FnZVR5cGU6IHN0cmluZztcbiAgYXJnczogdW5rbm93bltdO1xufVxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuaW1wb3J0IHsgdHJ5U2VyaWFsaXplTWVzc2FnZSB9IGZyb20gJy4vV2ViVmlld0lwY0NvbW1vbic7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZW5kQXR0YWNoUGFnZShiYXNlVXJsOiBzdHJpbmcsIHN0YXJ0VXJsOiBzdHJpbmcpOiB2b2lkIHtcbiAgc2VuZCgnQXR0YWNoUGFnZScsIGJhc2VVcmwsIHN0YXJ0VXJsKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRSZW5kZXJDb21wbGV0ZWQoYmF0Y2hJZDogbnVtYmVyLCBlcnJvck9yTnVsbDogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xuICBzZW5kKCdPblJlbmRlckNvbXBsZXRlZCcsIGJhdGNoSWQsIGVycm9yT3JOdWxsKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRCZWdpbkludm9rZURvdE5ldEZyb21KUyhjYWxsSWQ6IG51bWJlciwgYXNzZW1ibHlOYW1lOiBzdHJpbmcgfCBudWxsLCBtZXRob2RJZGVudGlmaWVyOiBzdHJpbmcsIGRvdE5ldE9iamVjdElkOiBudW1iZXIgfCBudWxsLCBhcmdzSnNvbjogc3RyaW5nKTogdm9pZCB7XG4gIHNlbmQoJ0JlZ2luSW52b2tlRG90TmV0JywgY2FsbElkID8gY2FsbElkLnRvU3RyaW5nKCkgOiBudWxsLCBhc3NlbWJseU5hbWUsIG1ldGhvZElkZW50aWZpZXIsIGRvdE5ldE9iamVjdElkIHx8IDAsIGFyZ3NKc29uKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRFbmRJbnZva2VKU0Zyb21Eb3ROZXQoYXN5bmNIYW5kbGU6IG51bWJlciwgc3VjY2VlZGVkOiBib29sZWFuLCBhcmdzSnNvbjogYW55KTogdm9pZCB7XG4gIHNlbmQoJ0VuZEludm9rZUpTJywgYXN5bmNIYW5kbGUsIHN1Y2NlZWRlZCwgYXJnc0pzb24pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VuZEJ5dGVBcnJheShpZDogbnVtYmVyLCBkYXRhOiBVaW50OEFycmF5KTogdm9pZCB7XG4gIGNvbnN0IGRhdGFCYXNlNjRFbmNvZGVkID0gYmFzZTY0RW5jb2RlQnl0ZUFycmF5KGRhdGEpO1xuICBzZW5kKCdSZWNlaXZlQnl0ZUFycmF5RnJvbUpTJywgaWQsIGRhdGFCYXNlNjRFbmNvZGVkKTtcbn1cblxuZnVuY3Rpb24gYmFzZTY0RW5jb2RlQnl0ZUFycmF5KGRhdGE6IFVpbnQ4QXJyYXkpIHtcbiAgLy8gQmFzZTY0IGVuY29kZSBhIChsYXJnZSkgYnl0ZSBhcnJheVxuICAvLyBOb3RlIGBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgZGF0YSBhcyB1bmtub3duIGFzIG51bWJlcltdKSk7YFxuICAvLyBpc24ndCBzdWZmaWNpZW50IGFzIHRoZSBgYXBwbHlgIG92ZXIgYSBsYXJnZSBhcnJheSBvdmVyZmxvd3MgdGhlIHN0YWNrLlxuICBjb25zdCBjaGFyQnl0ZXMgPSBuZXcgQXJyYXkoZGF0YS5sZW5ndGgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBjaGFyQnl0ZXNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGRhdGFbaV0pO1xuICB9XG4gIGNvbnN0IGRhdGFCYXNlNjRFbmNvZGVkID0gYnRvYShjaGFyQnl0ZXMuam9pbignJykpO1xuICByZXR1cm4gZGF0YUJhc2U2NEVuY29kZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZW5kTG9jYXRpb25DaGFuZ2VkKHVyaTogc3RyaW5nLCBzdGF0ZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBpbnRlcmNlcHRlZDogYm9vbGVhbik6IFByb21pc2U8dm9pZD4ge1xuICBzZW5kKCdPbkxvY2F0aW9uQ2hhbmdlZCcsIHVyaSwgc3RhdGUsIGludGVyY2VwdGVkKTtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpOyAvLyBMaWtlIGluIEJsYXpvciBTZXJ2ZXIsIHdlIG9ubHkgaXNzdWUgdGhlIG5vdGlmaWNhdGlvbiBoZXJlIC0gdGhlcmUncyBubyBuZWVkIHRvIHdhaXQgZm9yIGEgcmVzcG9uc2Vcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRMb2NhdGlvbkNoYW5naW5nKGNhbGxJZDogbnVtYmVyLCB1cmk6IHN0cmluZywgc3RhdGU6IHN0cmluZyB8IHVuZGVmaW5lZCwgaW50ZXJjZXB0ZWQ6IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgc2VuZCgnT25Mb2NhdGlvbkNoYW5naW5nJywgY2FsbElkLCB1cmksIHN0YXRlLCBpbnRlcmNlcHRlZCk7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsgLy8gTGlrZSBpbiBCbGF6b3IgU2VydmVyLCB3ZSBvbmx5IGlzc3VlIHRoZSBub3RpZmljYXRpb24gaGVyZSAtIHRoZXJlJ3Mgbm8gbmVlZCB0byB3YWl0IGZvciBhIHJlc3BvbnNlXG59XG5cbmZ1bmN0aW9uIHNlbmQobWVzc2FnZVR5cGU6IHN0cmluZywgLi4uYXJnczogdW5rbm93bltdKSB7XG4gIGNvbnN0IHNlcmlhbGl6ZWRNZXNzYWdlID0gdHJ5U2VyaWFsaXplTWVzc2FnZShtZXNzYWdlVHlwZSwgYXJncyk7XG4gIGlmIChzZXJpYWxpemVkTWVzc2FnZSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgKHdpbmRvdy5leHRlcm5hbCBhcyBhbnkpLnNlbmRNZXNzYWdlKHNlcmlhbGl6ZWRNZXNzYWdlKTtcbiAgfVxufVxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuaW1wb3J0IHsgRG90TmV0IH0gZnJvbSAnQG1pY3Jvc29mdC9kb3RuZXQtanMtaW50ZXJvcCc7XG5pbXBvcnQgeyBzaG93RXJyb3JOb3RpZmljYXRpb24gfSBmcm9tICcuLi8uLi9Cb290RXJyb3JzJztcbmltcG9ydCB7IE91dE9mUHJvY2Vzc1JlbmRlckJhdGNoIH0gZnJvbSAnLi4vLi4vUmVuZGVyaW5nL1JlbmRlckJhdGNoL091dE9mUHJvY2Vzc1JlbmRlckJhdGNoJztcbmltcG9ydCB7IGF0dGFjaFJvb3RDb21wb25lbnRUb0VsZW1lbnQsIHJlbmRlckJhdGNoIH0gZnJvbSAnLi4vLi4vUmVuZGVyaW5nL1JlbmRlcmVyJztcbmltcG9ydCB7IHNldEFwcGxpY2F0aW9uSXNUZXJtaW5hdGVkLCB0cnlEZXNlcmlhbGl6ZU1lc3NhZ2UgfSBmcm9tICcuL1dlYlZpZXdJcGNDb21tb24nO1xuaW1wb3J0IHsgc2VuZFJlbmRlckNvbXBsZXRlZCB9IGZyb20gJy4vV2ViVmlld0lwY1NlbmRlcic7XG5pbXBvcnQgeyBpbnRlcm5hbEZ1bmN0aW9ucyBhcyBuYXZpZ2F0aW9uTWFuYWdlckZ1bmN0aW9ucyB9IGZyb20gJy4uLy4uL1NlcnZpY2VzL05hdmlnYXRpb25NYW5hZ2VyJztcbmltcG9ydCB7IGRpc3BhdGNoZXIgfSBmcm9tICcuLi8uLi9Cb290LldlYlZpZXcnO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRJcGNSZWNlaXZlcigpOiB2b2lkIHtcbiAgY29uc3QgbWVzc2FnZUhhbmRsZXJzID0ge1xuXG4gICAgJ0F0dGFjaFRvRG9jdW1lbnQnOiAoY29tcG9uZW50SWQ6IG51bWJlciwgZWxlbWVudFNlbGVjdG9yOiBzdHJpbmcpID0+IHtcbiAgICAgIGF0dGFjaFJvb3RDb21wb25lbnRUb0VsZW1lbnQoZWxlbWVudFNlbGVjdG9yLCBjb21wb25lbnRJZCk7XG4gICAgfSxcblxuICAgICdSZW5kZXJCYXRjaCc6IChiYXRjaElkOiBudW1iZXIsIGJhdGNoRGF0YUJhc2U2NDogc3RyaW5nKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBiYXRjaERhdGEgPSBiYXNlNjRUb0FycmF5QnVmZmVyKGJhdGNoRGF0YUJhc2U2NCk7XG4gICAgICAgIHJlbmRlckJhdGNoKDAsIG5ldyBPdXRPZlByb2Nlc3NSZW5kZXJCYXRjaChiYXRjaERhdGEpKTtcbiAgICAgICAgc2VuZFJlbmRlckNvbXBsZXRlZChiYXRjaElkLCBudWxsKTtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIHNlbmRSZW5kZXJDb21wbGV0ZWQoYmF0Y2hJZCwgKGV4IGFzIEVycm9yKS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgJ05vdGlmeVVuaGFuZGxlZEV4Y2VwdGlvbic6IChtZXNzYWdlOiBzdHJpbmcsIHN0YWNrVHJhY2U6IHN0cmluZykgPT4ge1xuICAgICAgc2V0QXBwbGljYXRpb25Jc1Rlcm1pbmF0ZWQoKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYCR7bWVzc2FnZX1cXG4ke3N0YWNrVHJhY2V9YCk7XG4gICAgICBzaG93RXJyb3JOb3RpZmljYXRpb24oKTtcbiAgICB9LFxuXG4gICAgJ0JlZ2luSW52b2tlSlMnOiBkaXNwYXRjaGVyLmJlZ2luSW52b2tlSlNGcm9tRG90TmV0LmJpbmQoZGlzcGF0Y2hlciksXG5cbiAgICAnRW5kSW52b2tlRG90TmV0JzogZGlzcGF0Y2hlci5lbmRJbnZva2VEb3ROZXRGcm9tSlMuYmluZChkaXNwYXRjaGVyKSxcblxuICAgICdTZW5kQnl0ZUFycmF5VG9KUyc6IHJlY2VpdmVCYXNlNjRCeXRlQXJyYXksXG5cbiAgICAnTmF2aWdhdGUnOiBuYXZpZ2F0aW9uTWFuYWdlckZ1bmN0aW9ucy5uYXZpZ2F0ZVRvLFxuXG4gICAgJ1NldEhhc0xvY2F0aW9uQ2hhbmdpbmdMaXN0ZW5lcnMnOiBuYXZpZ2F0aW9uTWFuYWdlckZ1bmN0aW9ucy5zZXRIYXNMb2NhdGlvbkNoYW5naW5nTGlzdGVuZXJzLFxuXG4gICAgJ0VuZExvY2F0aW9uQ2hhbmdpbmcnOiBuYXZpZ2F0aW9uTWFuYWdlckZ1bmN0aW9ucy5lbmRMb2NhdGlvbkNoYW5naW5nLFxuICB9O1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICh3aW5kb3cuZXh0ZXJuYWwgYXMgYW55KS5yZWNlaXZlTWVzc2FnZSgobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgcGFyc2VkTWVzc2FnZSA9IHRyeURlc2VyaWFsaXplTWVzc2FnZShtZXNzYWdlKTtcbiAgICBpZiAocGFyc2VkTWVzc2FnZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtZXNzYWdlSGFuZGxlcnMsIHBhcnNlZE1lc3NhZ2UubWVzc2FnZVR5cGUpKSB7XG4gICAgICAgIG1lc3NhZ2VIYW5kbGVyc1twYXJzZWRNZXNzYWdlLm1lc3NhZ2VUeXBlXS5hcHBseShudWxsLCBwYXJzZWRNZXNzYWdlLmFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBJUEMgbWVzc2FnZSB0eXBlICcke3BhcnNlZE1lc3NhZ2UubWVzc2FnZVR5cGV9J2ApO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlY2VpdmVCYXNlNjRCeXRlQXJyYXkoaWQ6IG51bWJlciwgYmFzZTY0RGF0YTogc3RyaW5nKSB7XG4gIGNvbnN0IGRhdGEgPSBiYXNlNjRUb0FycmF5QnVmZmVyKGJhc2U2NERhdGEpO1xuICBkaXNwYXRjaGVyLnJlY2VpdmVCeXRlQXJyYXkoaWQsIGRhdGEpO1xufVxuXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjE3OTczODFcbi8vIFRPRE86IElmIHRoZSBkYXRhIGlzIGxhcmdlLCBjb25zaWRlciBzd2l0Y2hpbmcgb3ZlciB0byB0aGUgbmF0aXZlIGRlY29kZXIgYXMgaW4gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzU0MTIzMjc1XG4vLyBCdXQgZG9uJ3QgZm9yY2UgaXQgdG8gYmUgYXN5bmMgYWxsIHRoZSB0aW1lLiBZaWVsZGluZyBleGVjdXRpb24gbGVhZHMgdG8gcGVyY2VwdGlibGUgbGFnLlxuZnVuY3Rpb24gYmFzZTY0VG9BcnJheUJ1ZmZlcihiYXNlNjQ6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuICBjb25zdCBiaW5hcnlTdHJpbmcgPSBhdG9iKGJhc2U2NCk7XG4gIGNvbnN0IGxlbmd0aCA9IGJpbmFyeVN0cmluZy5sZW5ndGg7XG4gIGNvbnN0IHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHRbaV0gPSBiaW5hcnlTdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuaW1wb3J0IHsgQmxhem9yIH0gZnJvbSAnLi4vR2xvYmFsRXhwb3J0cyc7XG5pbXBvcnQgeyByZW5kZXJlckF0dGFjaGVkIH0gZnJvbSBcIi4uL1JlbmRlcmluZy9XZWJSZW5kZXJlckludGVyb3BNZXRob2RzXCI7XG5cbnR5cGUgQmVmb3JlQmxhem9yU3RhcnRlZENhbGxiYWNrID0gKC4uLmFyZ3M6IHVua25vd25bXSkgPT4gUHJvbWlzZTx2b2lkPjtcbmV4cG9ydCB0eXBlIEFmdGVyQmxhem9yU3RhcnRlZENhbGxiYWNrID0gKGJsYXpvcjogdHlwZW9mIEJsYXpvcikgPT4gUHJvbWlzZTx2b2lkPjtcbnR5cGUgQmxhem9ySW5pdGlhbGl6ZXIgPSB7IGJlZm9yZVN0YXJ0OiBCZWZvcmVCbGF6b3JTdGFydGVkQ2FsbGJhY2ssIGFmdGVyU3RhcnRlZDogQWZ0ZXJCbGF6b3JTdGFydGVkQ2FsbGJhY2sgfTtcblxuZXhwb3J0IGNsYXNzIEpTSW5pdGlhbGl6ZXIge1xuICBwcml2YXRlIGFmdGVyU3RhcnRlZENhbGxiYWNrczogQWZ0ZXJCbGF6b3JTdGFydGVkQ2FsbGJhY2tbXSA9IFtdO1xuXG4gIGFzeW5jIGltcG9ydEluaXRpYWxpemVyc0FzeW5jKGluaXRpYWxpemVyRmlsZXM6IHN0cmluZ1tdLCBpbml0aWFsaXplckFyZ3VtZW50czogdW5rbm93bltdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoaW5pdGlhbGl6ZXJGaWxlcy5tYXAoZiA9PiBpbXBvcnRBbmRJbnZva2VJbml0aWFsaXplcih0aGlzLCBmKSkpO1xuXG4gICAgZnVuY3Rpb24gYWRqdXN0UGF0aChwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgLy8gVGhpcyBpcyB0aGUgc2FtZSB3ZSBkbyBpbiBKUyBpbnRlcm9wIHdpdGggdGhlIGltcG9ydCBjYWxsYmFja1xuICAgICAgY29uc3QgYmFzZSA9IGRvY3VtZW50LmJhc2VVUkk7XG4gICAgICBwYXRoID0gYmFzZS5lbmRzV2l0aCgnLycpID8gYCR7YmFzZX0ke3BhdGh9YCA6IGAke2Jhc2V9LyR7cGF0aH1gO1xuICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gaW1wb3J0QW5kSW52b2tlSW5pdGlhbGl6ZXIoanNJbml0aWFsaXplcjogSlNJbml0aWFsaXplciwgcGF0aDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICBjb25zdCBhZGp1c3RlZFBhdGggPSBhZGp1c3RQYXRoKHBhdGgpO1xuICAgICAgY29uc3QgaW5pdGlhbGl6ZXIgPSBhd2FpdCBpbXBvcnQoLyogd2VicGFja0lnbm9yZTogdHJ1ZSAqLyBhZGp1c3RlZFBhdGgpIGFzIFBhcnRpYWw8Qmxhem9ySW5pdGlhbGl6ZXI+O1xuICAgICAgaWYgKGluaXRpYWxpemVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBiZWZvcmVTdGFydDogYmVmb3JlU3RhcnQsIGFmdGVyU3RhcnRlZDogYWZ0ZXJTdGFydGVkIH0gPSBpbml0aWFsaXplcjtcbiAgICAgIGlmIChhZnRlclN0YXJ0ZWQpIHtcbiAgICAgICAganNJbml0aWFsaXplci5hZnRlclN0YXJ0ZWRDYWxsYmFja3MucHVzaChhZnRlclN0YXJ0ZWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYmVmb3JlU3RhcnQpIHtcbiAgICAgICAgcmV0dXJuIGJlZm9yZVN0YXJ0KC4uLmluaXRpYWxpemVyQXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBpbnZva2VBZnRlclN0YXJ0ZWRDYWxsYmFja3MoYmxhem9yOiB0eXBlb2YgQmxhem9yKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgcmVuZGVyZXJBdHRhY2hlZDtcbiAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmFmdGVyU3RhcnRlZENhbGxiYWNrcy5tYXAoY2FsbGJhY2sgPT4gY2FsbGJhY2soYmxhem9yKSkpO1xuICB9XG59XG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG5pbXBvcnQgeyBEb3ROZXQgfSBmcm9tICdAbWljcm9zb2Z0L2RvdG5ldC1qcy1pbnRlcm9wJztcbmltcG9ydCB7IEJsYXpvciB9IGZyb20gJy4vR2xvYmFsRXhwb3J0cyc7XG5pbXBvcnQgeyBzaG91bGRBdXRvU3RhcnQgfSBmcm9tICcuL0Jvb3RDb21tb24nO1xuaW1wb3J0IHsgaW50ZXJuYWxGdW5jdGlvbnMgYXMgbmF2aWdhdGlvbk1hbmFnZXJGdW5jdGlvbnMgfSBmcm9tICcuL1NlcnZpY2VzL05hdmlnYXRpb25NYW5hZ2VyJztcbmltcG9ydCB7IHN0YXJ0SXBjUmVjZWl2ZXIgfSBmcm9tICcuL1BsYXRmb3JtL1dlYlZpZXcvV2ViVmlld0lwY1JlY2VpdmVyJztcbmltcG9ydCB7IHNlbmRBdHRhY2hQYWdlLCBzZW5kQmVnaW5JbnZva2VEb3ROZXRGcm9tSlMsIHNlbmRFbmRJbnZva2VKU0Zyb21Eb3ROZXQsIHNlbmRCeXRlQXJyYXksIHNlbmRMb2NhdGlvbkNoYW5nZWQsIHNlbmRMb2NhdGlvbkNoYW5naW5nIH0gZnJvbSAnLi9QbGF0Zm9ybS9XZWJWaWV3L1dlYlZpZXdJcGNTZW5kZXInO1xuaW1wb3J0IHsgZmV0Y2hBbmRJbnZva2VJbml0aWFsaXplcnMgfSBmcm9tICcuL0pTSW5pdGlhbGl6ZXJzL0pTSW5pdGlhbGl6ZXJzLldlYlZpZXcnO1xuaW1wb3J0IHsgcmVjZWl2ZURvdE5ldERhdGFTdHJlYW0gfSBmcm9tICcuL1N0cmVhbWluZ0ludGVyb3AnO1xuXG5sZXQgc3RhcnRlZCA9IGZhbHNlO1xuXG5leHBvcnQgbGV0IGRpc3BhdGNoZXI6IERvdE5ldC5JQ2FsbERpc3BhdGNoZXI7XG5cbmFzeW5jIGZ1bmN0aW9uIGJvb3QoKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmIChzdGFydGVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdCbGF6b3IgaGFzIGFscmVhZHkgc3RhcnRlZC4nKTtcbiAgfVxuICBzdGFydGVkID0gdHJ1ZTtcblxuICBkaXNwYXRjaGVyID0gRG90TmV0LmF0dGFjaERpc3BhdGNoZXIoe1xuICAgIGJlZ2luSW52b2tlRG90TmV0RnJvbUpTOiBzZW5kQmVnaW5JbnZva2VEb3ROZXRGcm9tSlMsXG4gICAgZW5kSW52b2tlSlNGcm9tRG90TmV0OiBzZW5kRW5kSW52b2tlSlNGcm9tRG90TmV0LFxuICAgIHNlbmRCeXRlQXJyYXk6IHNlbmRCeXRlQXJyYXksXG4gIH0pO1xuXG4gIGNvbnN0IGpzSW5pdGlhbGl6ZXIgPSBhd2FpdCBmZXRjaEFuZEludm9rZUluaXRpYWxpemVycygpO1xuXG4gIHN0YXJ0SXBjUmVjZWl2ZXIoKTtcblxuICBCbGF6b3IuX2ludGVybmFsLnJlY2VpdmVXZWJWaWV3RG90TmV0RGF0YVN0cmVhbSA9IHJlY2VpdmVXZWJWaWV3RG90TmV0RGF0YVN0cmVhbTtcblxuICBuYXZpZ2F0aW9uTWFuYWdlckZ1bmN0aW9ucy5lbmFibGVOYXZpZ2F0aW9uSW50ZXJjZXB0aW9uKCk7XG4gIG5hdmlnYXRpb25NYW5hZ2VyRnVuY3Rpb25zLmxpc3RlbkZvck5hdmlnYXRpb25FdmVudHMoc2VuZExvY2F0aW9uQ2hhbmdlZCwgc2VuZExvY2F0aW9uQ2hhbmdpbmcpO1xuXG4gIHNlbmRBdHRhY2hQYWdlKG5hdmlnYXRpb25NYW5hZ2VyRnVuY3Rpb25zLmdldEJhc2VVUkkoKSwgbmF2aWdhdGlvbk1hbmFnZXJGdW5jdGlvbnMuZ2V0TG9jYXRpb25IcmVmKCkpO1xuICBhd2FpdCBqc0luaXRpYWxpemVyLmludm9rZUFmdGVyU3RhcnRlZENhbGxiYWNrcyhCbGF6b3IpO1xufVxuXG5mdW5jdGlvbiByZWNlaXZlV2ViVmlld0RvdE5ldERhdGFTdHJlYW0oc3RyZWFtSWQ6IG51bWJlciwgZGF0YTogYW55LCBieXRlc1JlYWQ6IG51bWJlciwgZXJyb3JNZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgcmVjZWl2ZURvdE5ldERhdGFTdHJlYW0oZGlzcGF0Y2hlciwgc3RyZWFtSWQsIGRhdGEsIGJ5dGVzUmVhZCwgZXJyb3JNZXNzYWdlKTtcbn1cblxuQmxhem9yLnN0YXJ0ID0gYm9vdDtcbndpbmRvd1snRG90TmV0J10gPSBEb3ROZXQ7XG5cbmlmIChzaG91bGRBdXRvU3RhcnQoKSkge1xuICBib290KCk7XG59XG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG5pbXBvcnQgeyBKU0luaXRpYWxpemVyIH0gZnJvbSAnLi9KU0luaXRpYWxpemVycyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaEFuZEludm9rZUluaXRpYWxpemVycygpIDogUHJvbWlzZTxKU0luaXRpYWxpemVyPiB7XG4gIGNvbnN0IGpzSW5pdGlhbGl6ZXJzUmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnX2ZyYW1ld29yay9ibGF6b3IubW9kdWxlcy5qc29uJywge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICBjYWNoZTogJ25vLWNhY2hlJyxcbiAgfSk7XG5cbiAgY29uc3QgaW5pdGlhbGl6ZXJzOiBzdHJpbmdbXSA9IGF3YWl0IGpzSW5pdGlhbGl6ZXJzUmVzcG9uc2UuanNvbigpO1xuICBjb25zdCBqc0luaXRpYWxpemVyID0gbmV3IEpTSW5pdGlhbGl6ZXIoKTtcbiAgYXdhaXQganNJbml0aWFsaXplci5pbXBvcnRJbml0aWFsaXplcnNBc3luYyhpbml0aWFsaXplcnMsIFtdKTtcbiAgcmV0dXJuIGpzSW5pdGlhbGl6ZXI7XG59XG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG4vLyBUZWxscyB5b3UgaWYgdGhlIHNjcmlwdCB3YXMgYWRkZWQgd2l0aG91dCA8c2NyaXB0IHNyYz1cIi4uLlwiIGF1dG9zdGFydD1cImZhbHNlXCI+PC9zY3JpcHQ+XG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkQXV0b1N0YXJ0KCk6IGJvb2xlYW4ge1xuICByZXR1cm4gISEoZG9jdW1lbnQgJiZcbiAgICBkb2N1bWVudC5jdXJyZW50U2NyaXB0ICYmXG4gICAgZG9jdW1lbnQuY3VycmVudFNjcmlwdC5nZXRBdHRyaWJ1dGUoJ2F1dG9zdGFydCcpICE9PSAnZmFsc2UnKTtcbn1cbiJdLCJuYW1lcyI6WyJEb3ROZXQiLCJFZGl0VHlwZSIsIkZyYW1lVHlwZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwianNvblJldml2ZXJzIiwianNPYmplY3RJZEtleSIsImRvdE5ldE9iamVjdFJlZktleSIsImJ5dGVBcnJheVJlZktleSIsImRvdE5ldFN0cmVhbVJlZktleSIsImpzU3RyZWFtUmVmZXJlbmNlTGVuZ3RoS2V5IiwiZGVmYXVsdENhbGxEaXNwYXRjaGVyIiwiY3VycmVudENhbGxEaXNwYXRjaGVyIiwiSlNPYmplY3QiLCJjb25zdHJ1Y3RvciIsIl9qc09iamVjdCIsInRoaXMiLCJfY2FjaGVkRnVuY3Rpb25zIiwiTWFwIiwiZmluZEZ1bmN0aW9uIiwiaWRlbnRpZmllciIsImNhY2hlZEZ1bmN0aW9uIiwibGFzdFNlZ21lbnRWYWx1ZSIsInJlc3VsdCIsInNwbGl0IiwiZm9yRWFjaCIsInNlZ21lbnQiLCJFcnJvciIsIkZ1bmN0aW9uIiwiYmluZCIsInNldCIsImdldFdyYXBwZWRPYmplY3QiLCJjYWNoZWRKU09iamVjdHNCeUlkIiwid2luZG93IiwidXJsIiwic3RhcnRzV2l0aCIsIlVSTCIsInN1YnN0ciIsImRvY3VtZW50IiwiYmFzZVVSSSIsInRvU3RyaW5nIiwiaW1wb3J0IiwiSlNDYWxsUmVzdWx0VHlwZSIsIm5leHRKc09iamVjdElkIiwiYXR0YWNoUmV2aXZlciIsInJldml2ZXIiLCJwdXNoIiwiY3JlYXRlSlNPYmplY3RSZWZlcmVuY2UiLCJqc09iamVjdCIsImNyZWF0ZUpTU3RyZWFtUmVmZXJlbmNlIiwic3RyZWFtUmVmZXJlbmNlIiwibGVuZ3RoIiwiQXJyYXlCdWZmZXIiLCJVaW50OEFycmF5IiwiQmxvYiIsInNpemUiLCJidWZmZXIiLCJ1bmRlZmluZWQiLCJieXRlTGVuZ3RoIiwianNPYmplY3RSZWZlcmVuY2UiLCJlcnJvciIsInBhcnNlSnNvbldpdGhSZXZpdmVycyIsImNhbGxEaXNwYXRjaGVyIiwianNvbiIsIkpTT04iLCJwYXJzZSIsImluaXRpYWxWYWx1ZSIsInJlZHVjZSIsImxhdGVzdFZhbHVlIiwiZ2V0RGVmYXVsdENhbGxEaXNwYXRjaGVyIiwiYXR0YWNoRGlzcGF0Y2hlciIsImRvdE5ldENhbGxEaXNwYXRjaGVyIiwiQ2FsbERpc3BhdGNoZXIiLCJpbnZva2VNZXRob2QiLCJhc3NlbWJseU5hbWUiLCJtZXRob2RJZGVudGlmaWVyIiwiYXJncyIsImludm9rZURvdE5ldFN0YXRpY01ldGhvZCIsImludm9rZU1ldGhvZEFzeW5jIiwiaW52b2tlRG90TmV0U3RhdGljTWV0aG9kQXN5bmMiLCJkaXNwb3NlSlNPYmplY3RSZWZlcmVuY2UiLCJpZCIsImRpc3Bvc2VKU09iamVjdFJlZmVyZW5jZUJ5SWQiLCJfZG90TmV0Q2FsbERpc3BhdGNoZXIiLCJfYnl0ZUFycmF5c1RvQmVSZXZpdmVkIiwiX3BlbmRpbmdEb3ROZXRUb0pTU3RyZWFtcyIsIl9wZW5kaW5nQXN5bmNDYWxscyIsIl9uZXh0QXN5bmNDYWxsSWQiLCJnZXREb3ROZXRDYWxsRGlzcGF0Y2hlciIsImludm9rZUpTRnJvbURvdE5ldCIsImFyZ3NKc29uIiwicmVzdWx0VHlwZSIsInRhcmdldEluc3RhbmNlSWQiLCJjcmVhdGVKU0NhbGxSZXN1bHQiLCJmaW5kSlNGdW5jdGlvbiIsImpzRnVuY3Rpb24iLCJzdHJpbmdpZnlBcmdzIiwiYmVnaW5JbnZva2VKU0Zyb21Eb3ROZXQiLCJhc3luY0hhbmRsZSIsInByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJlbmRJbnZva2VKU0Zyb21Eb3ROZXQiLCJzdHJpbmdpZnkiLCJmb3JtYXRFcnJvciIsImVuZEludm9rZURvdE5ldEZyb21KUyIsImFzeW5jQ2FsbElkIiwic3VjY2VzcyIsInJlc3VsdEpzb25PckV4Y2VwdGlvbk1lc3NhZ2UiLCJyZXN1bHRPckVycm9yIiwiY29tcGxldGVQZW5kaW5nQ2FsbCIsInBhcnNlSW50IiwiaW52b2tlRG90TmV0TWV0aG9kIiwiaW52b2tlRG90TmV0TWV0aG9kQXN5bmMiLCJkb3ROZXRPYmplY3RJZCIsImludm9rZURvdE5ldEZyb21KUyIsInJlc3VsdEpzb24iLCJyZXN1bHRQcm9taXNlIiwicmVqZWN0IiwiYmVnaW5JbnZva2VEb3ROZXRGcm9tSlMiLCJleCIsInJlY2VpdmVCeXRlQXJyYXkiLCJkYXRhIiwicHJvY2Vzc0J5dGVBcnJheSIsImRlbGV0ZSIsInN1cHBseURvdE5ldFN0cmVhbSIsInN0cmVhbUlkIiwic3RyZWFtIiwiaGFzIiwicGVuZGluZ1N0cmVhbSIsIlBlbmRpbmdTdHJlYW0iLCJnZXREb3ROZXRTdHJlYW1Qcm9taXNlIiwic3RyZWFtUHJvbWlzZSIsImFzeW5jQ2FsbCIsIm1lc3NhZ2UiLCJzdGFjayIsInRhcmdldEluc3RhbmNlIiwiRG90TmV0T2JqZWN0IiwiX2lkIiwiX2NhbGxEaXNwYXRjaGVyIiwiZGlzcG9zZSIsImNhdGNoIiwiY29uc29sZSIsInNlcmlhbGl6ZUFzQXJnIiwidmFsdWUiLCJpbmRleCIsImJ5dGVBcnJheSIsIkRvdE5ldFN0cmVhbSIsIl9zdHJlYW1Qcm9taXNlIiwiYXN5bmMiLCJSZXNwb25zZSIsImFycmF5QnVmZmVyIiwicmV0dXJuVmFsdWUiLCJEZWZhdWx0IiwiSlNPYmplY3RSZWZlcmVuY2UiLCJKU1N0cmVhbVJlZmVyZW5jZSIsIkpTVm9pZFJlc3VsdCIsIm5leHRCeXRlQXJyYXlJbmRleCIsImFyZ1JlcGxhY2VyIiwic2VuZEJ5dGVBcnJheSIsImpzb25WYWx1ZSIsIkV2ZW50RmllbGRJbmZvIiwiY29tcG9uZW50SWQiLCJmaWVsZFZhbHVlIiwic3RhdGljIiwiZXZlbnQiLCJlbGVtIiwidGFyZ2V0IiwiRWxlbWVudCIsImZpZWxkRGF0YSIsIkhUTUxJbnB1dEVsZW1lbnQiLCJ0eXBlIiwidG9Mb3dlckNhc2UiLCJjaGVja2VkIiwiSFRNTFNlbGVjdEVsZW1lbnQiLCJIVE1MVGV4dEFyZWFFbGVtZW50IiwiZ2V0Rm9ybUZpZWxkRGF0YSIsImV2ZW50VHlwZVJlZ2lzdHJ5IiwiYnJvd3NlckV2ZW50TmFtZXNUb0FsaWFzZXMiLCJldmVudE5hbWVBbGlhc1JlZ2lzdGVyZWRDYWxsYmFja3MiLCJnZXRFdmVudFR5cGVPcHRpb25zIiwiZXZlbnROYW1lIiwiZ2V0QnJvd3NlckV2ZW50TmFtZSIsInBvc3NpYmxlQWxpYXNFdmVudE5hbWUiLCJldmVudE9wdGlvbnMiLCJicm93c2VyRXZlbnROYW1lIiwicmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlIiwiZXZlbnROYW1lcyIsIm9wdGlvbnMiLCJwYXJzZVRvdWNoIiwidG91Y2hMaXN0IiwidG91Y2hlcyIsImkiLCJ0b3VjaCIsImNsaWVudFgiLCJjbGllbnRZIiwic2NyZWVuWCIsInNjcmVlblkiLCJwYWdlWCIsInBhZ2VZIiwicGFyc2VNb3VzZUV2ZW50IiwiZGV0YWlsIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJidXR0b24iLCJidXR0b25zIiwiY3RybEtleSIsInNoaWZ0S2V5IiwiYWx0S2V5IiwibWV0YUtleSIsImNyZWF0ZUV2ZW50QXJncyIsImVsZW1lbnQiLCJ0aW1lQmFzZWRJbnB1dHMiLCJpbmRleE9mIiwiZ2V0QXR0cmlidXRlIiwiaXNUaW1lQmFzZWRJbnB1dCIsIm5vcm1hbGl6ZWRWYWx1ZSIsIm5vcm1hbGl6ZVRpbWVCYXNlZFZhbHVlIiwiaXNNdWx0aXBsZVNlbGVjdElucHV0Iiwic2VsZWN0RWxlbWVudCIsIkFycmF5IiwiZnJvbSIsImZpbHRlciIsIm9wdGlvbiIsInNlbGVjdGVkIiwibWFwIiwidGFyZ2V0SXNDaGVja2JveCIsInRhZ05hbWUiLCJpc0NoZWNrYm94IiwiZSIsInBhcnNlRHJhZ0V2ZW50IiwiZGF0YVRyYW5zZmVyIiwiZHJvcEVmZmVjdCIsImVmZmVjdEFsbG93ZWQiLCJmaWxlcyIsImYiLCJuYW1lIiwiaXRlbXMiLCJraW5kIiwidHlwZXMiLCJwYXJzZUtleWJvYXJkRXZlbnQiLCJjb2RlIiwibG9jYXRpb24iLCJyZXBlYXQiLCJwYXJzZUVycm9yRXZlbnQiLCJmaWxlbmFtZSIsImxpbmVubyIsImNvbG5vIiwicGFyc2VQcm9ncmVzc0V2ZW50IiwibGVuZ3RoQ29tcHV0YWJsZSIsImxvYWRlZCIsInRvdGFsIiwicGFyc2VUb3VjaEV2ZW50IiwidGFyZ2V0VG91Y2hlcyIsImNoYW5nZWRUb3VjaGVzIiwicGFyc2VQb2ludGVyRXZlbnQiLCJwb2ludGVySWQiLCJ3aWR0aCIsImhlaWdodCIsInByZXNzdXJlIiwidGlsdFgiLCJ0aWx0WSIsInBvaW50ZXJUeXBlIiwiaXNQcmltYXJ5IiwicGFyc2VXaGVlbEV2ZW50IiwiZGVsdGFYIiwiZGVsdGFZIiwiZGVsdGFaIiwiZGVsdGFNb2RlIiwicGVuZGluZ1Jvb3RDb21wb25lbnRDb250YWluZXJzIiwibWFuYWdlciIsImpzQ29tcG9uZW50UGFyYW1ldGVyc0J5SWRlbnRpZmllciIsIm5leHRQZW5kaW5nRHluYW1pY1Jvb3RDb21wb25lbnRJZGVudGlmaWVyIiwiUm9vdENvbXBvbmVudHNGdW5jdGlvbnMiLCJ0b0VsZW1lbnQiLCJjb21wb25lbnRJZGVudGlmaWVyIiwiaW5pdGlhbFBhcmFtZXRlcnMiLCJjb250YWluZXJJZGVudGlmaWVyIiwiZ2V0UmVxdWlyZWRNYW5hZ2VyIiwiY29tcG9uZW50IiwiRHluYW1pY1Jvb3RDb21wb25lbnQiLCJzZXRQYXJhbWV0ZXJzIiwiRXZlbnRDYWxsYmFja1dyYXBwZXIiLCJpbnZva2UiLCJhcmciLCJfY2FsbGJhY2siLCJzZXRDYWxsYmFjayIsImNhbGxiYWNrIiwiX3NlbGZKU09iamVjdFJlZmVyZW5jZSIsImdldEpTT2JqZWN0UmVmZXJlbmNlIiwicGFyYW1ldGVycyIsIl9qc0V2ZW50Q2FsbGJhY2tXcmFwcGVycyIsIl9jb21wb25lbnRJZCIsInBhcmFtZXRlciIsIm1hcHBlZFBhcmFtZXRlcnMiLCJlbnRyaWVzIiwicGFyYW1ldGVyQ291bnQiLCJjYWxsYmFja1dyYXBwZXIiLCJqc0V2ZW50Q2FsbGJhY2tXcmFwcGVyIiwidmFsdWVzIiwiaW50ZXJvcE1ldGhvZHNCeVJlbmRlcmVySWQiLCJyZXNvbHZlUmVuZGVyZXJBdHRhY2hlZCIsInJlbmRlcmVyQXR0YWNoZWQiLCJkaXNwYXRjaEV2ZW50IiwiYnJvd3NlclJlbmRlcmVySWQiLCJldmVudERlc2NyaXB0b3IiLCJldmVudEFyZ3MiLCJkaXNwYXRjaEV2ZW50TWlkZGxld2FyZSIsImV2ZW50SGFuZGxlcklkIiwiZ2V0SW50ZXJvcE1ldGhvZHMiLCJyZW5kZXJlcklkIiwiaW50ZXJvcE1ldGhvZHMiLCJjb250aW51YXRpb24iLCJub25CdWJibGluZ0V2ZW50cyIsInRvTG9va3VwIiwiYWx3YXlzUHJldmVudERlZmF1bHRFdmVudHMiLCJzdWJtaXQiLCJkaXNhYmxlYWJsZUV2ZW50TmFtZXMiLCJFdmVudERlbGVnYXRvciIsImFmdGVyQ2xpY2tDYWxsYmFja3MiLCJldmVudERlbGVnYXRvcklkIiwibmV4dEV2ZW50RGVsZWdhdG9ySWQiLCJldmVudHNDb2xsZWN0aW9uS2V5IiwiZXZlbnRJbmZvU3RvcmUiLCJFdmVudEluZm9TdG9yZSIsIm9uR2xvYmFsRXZlbnQiLCJzZXRMaXN0ZW5lciIsInJlbmRlcmluZ0NvbXBvbmVudElkIiwiaW5mb0ZvckVsZW1lbnQiLCJnZXRFdmVudEhhbmRsZXJJbmZvc0ZvckVsZW1lbnQiLCJleGlzdGluZ0hhbmRsZXIiLCJnZXRIYW5kbGVyIiwidXBkYXRlIiwibmV3SW5mbyIsImFkZCIsInNldEhhbmRsZXIiLCJyZW1vdmVMaXN0ZW5lciIsImluZm8iLCJyZW1vdmUiLCJlbGVtZW50RXZlbnRJbmZvcyIsInJlbW92ZUhhbmRsZXIiLCJub3RpZnlBZnRlckNsaWNrIiwiYWRkR2xvYmFsTGlzdGVuZXIiLCJzZXRTdG9wUHJvcGFnYXRpb24iLCJzdG9wUHJvcGFnYXRpb24iLCJzZXRQcmV2ZW50RGVmYXVsdCIsInByZXZlbnREZWZhdWx0IiwiZXZ0IiwiZGlzcGF0Y2hHbG9iYWxFdmVudFRvQWxsRWxlbWVudHMiLCJldmVudE5hbWVBbGlhc2VzIiwiYWxpYXMiLCJicm93c2VyRXZlbnQiLCJwYXRoIiwiY29tcG9zZWRQYXRoIiwiY2FuZGlkYXRlRXZlbnRUYXJnZXQiLCJzaGlmdCIsImV2ZW50QXJnc0lzUG9wdWxhdGVkIiwiZXZlbnRJc05vbkJ1YmJsaW5nIiwic3RvcFByb3BhZ2F0aW9uV2FzUmVxdWVzdGVkIiwiY2FuZGlkYXRlRWxlbWVudCIsImhhbmRsZXJJbmZvcyIsImhhbmRsZXJJbmZvIiwicmF3QnJvd3NlckV2ZW50TmFtZSIsIkhUTUxCdXR0b25FbGVtZW50IiwiZGlzYWJsZWQiLCJldmVudE9wdGlvbnNJZlJlZ2lzdGVyZWQiLCJldmVudEZpZWxkSW5mbyIsImZyb21FdmVudCIsImNyZWF0ZUlmTmVlZGVkIiwiRXZlbnRIYW5kbGVySW5mb3NGb3JFbGVtZW50IiwiZ2xvYmFsTGlzdGVuZXIiLCJpbmZvc0J5RXZlbnRIYW5kbGVySWQiLCJjb3VudEJ5RXZlbnROYW1lIiwiaGFuZGxlRXZlbnROYW1lQWxpYXNBZGRlZCIsInVzZUNhcHR1cmUiLCJhZGRFdmVudExpc3RlbmVyIiwib2xkRXZlbnRIYW5kbGVySWQiLCJuZXdFdmVudEhhbmRsZXJJZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhbGlhc0V2ZW50TmFtZSIsImNvdW50QnlBbGlhc0V2ZW50TmFtZSIsImhhbmRsZXJzIiwicHJldmVudERlZmF1bHRGbGFncyIsInN0b3BQcm9wYWdhdGlvbkZsYWdzIiwiaGFuZGxlciIsInNldFZhbHVlIiwibG9naWNhbENoaWxkcmVuUHJvcG5hbWUiLCJjcmVhdGVTeW1ib2xPckZhbGxiYWNrIiwibG9naWNhbFBhcmVudFByb3BuYW1lIiwibG9naWNhbEVuZFNpYmxpbmdQcm9wbmFtZSIsInRvTG9naWNhbEVsZW1lbnQiLCJhbGxvd0V4aXN0aW5nQ29udGVudHMiLCJjaGlsZE5vZGVzIiwiY3JlYXRlQW5kSW5zZXJ0TG9naWNhbENvbnRhaW5lciIsInBhcmVudCIsImNoaWxkSW5kZXgiLCJjb250YWluZXJFbGVtZW50IiwiY3JlYXRlQ29tbWVudCIsImluc2VydExvZ2ljYWxDaGlsZCIsImNoaWxkIiwiY2hpbGRBc0xvZ2ljYWxFbGVtZW50IiwiQ29tbWVudCIsImdldExvZ2ljYWxDaGlsZHJlbkFycmF5IiwiZ2V0TG9naWNhbFBhcmVudCIsIm5ld1NpYmxpbmdzIiwibmV4dFNpYmxpbmciLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwic3BsaWNlIiwiYXBwZW5kRG9tTm9kZSIsInJlbW92ZUxvZ2ljYWxDaGlsZCIsImNoaWxkVG9SZW1vdmUiLCJncmFuZGNoaWxkcmVuQXJyYXkiLCJkb21Ob2RlVG9SZW1vdmUiLCJyZW1vdmVDaGlsZCIsImdldExvZ2ljYWxDaGlsZCIsImlzU3ZnRWxlbWVudCIsImNsb3Nlc3RFbGVtZW50IiwiZ2V0Q2xvc2VzdERvbUVsZW1lbnQiLCJuYW1lc3BhY2VVUkkiLCJwZXJtdXRlTG9naWNhbENoaWxkcmVuIiwicGVybXV0YXRpb25MaXN0Iiwic2libGluZ3MiLCJsaXN0RW50cnkiLCJtb3ZlUmFuZ2VTdGFydCIsImZyb21TaWJsaW5nSW5kZXgiLCJtb3ZlUmFuZ2VFbmQiLCJmaW5kTGFzdERvbU5vZGVJblJhbmdlIiwibWFya2VyIiwibW92ZVRvQmVmb3JlTWFya2VyIiwiaW5zZXJ0QmVmb3JlTm9kZSIsInRvU2libGluZ0luZGV4IiwicGFyZW50RG9tTm9kZSIsImVsZW1lbnRUb01vdmUiLCJtb3ZlRW5kTm9kZSIsIm5leHRUb01vdmUiLCJuZXh0TmV4dCIsImxvZ2ljYWxFbGVtZW50IiwiRG9jdW1lbnRGcmFnbWVudCIsImdldExvZ2ljYWxOZXh0U2libGluZyIsImFwcGVuZENoaWxkIiwicGFyZW50TG9naWNhbE5leHRTaWJsaW5nIiwicHJldmlvdXNTaWJsaW5nIiwibG9naWNhbFBhcmVudCIsImxhc3RDaGlsZCIsImZhbGxiYWNrIiwiU3ltYm9sIiwiZ2V0Q2FwdHVyZUlkQXR0cmlidXRlTmFtZSIsInJlZmVyZW5jZUNhcHR1cmVJZCIsImVsZW1lbnRSZWZLZXkiLCJzZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRFbGVtZW50QnlDYXB0dXJlSWQiLCJkZWZlcnJlZFZhbHVlUHJvcG5hbWUiLCJzaGFyZWRUZW1wbGF0ZUVsZW1Gb3JQYXJzaW5nIiwiY3JlYXRlRWxlbWVudCIsInNoYXJlZFN2Z0VsZW1Gb3JQYXJzaW5nIiwiY3JlYXRlRWxlbWVudE5TIiwiZWxlbWVudHNUb0NsZWFyT25Sb290Q29tcG9uZW50UmVuZGVyIiwiaW50ZXJuYWxBdHRyaWJ1dGVOYW1lUHJlZml4IiwiZXZlbnRQcmV2ZW50RGVmYXVsdEF0dHJpYnV0ZU5hbWVQcmVmaXgiLCJldmVudFN0b3BQcm9wYWdhdGlvbkF0dHJpYnV0ZU5hbWVQcmVmaXgiLCJCcm93c2VyUmVuZGVyZXIiLCJyb290Q29tcG9uZW50SWRzIiwiU2V0IiwiY2hpbGRDb21wb25lbnRMb2NhdGlvbnMiLCJldmVudERlbGVnYXRvciIsImhhc0VuYWJsZWROYXZpZ2F0aW9uSW50ZXJjZXB0aW9uIiwiZXZlbnRIYXNTcGVjaWFsS2V5IiwiZGVmYXVsdFByZXZlbnRlZCIsImFuY2hvclRhcmdldCIsImNhbmRpZGF0ZSIsImZpbmRDbG9zZXN0QW5jaG9yQW5jZXN0b3JMZWdhY3kiLCJmaW5kQW5jaG9yVGFyZ2V0IiwidGFyZ2V0QXR0cmlidXRlVmFsdWUiLCJoYXNBdHRyaWJ1dGUiLCJjYW5Qcm9jZXNzQW5jaG9yIiwiYWJzb2x1dGVIcmVmIiwidG9BYnNvbHV0ZVVyaSIsImlzV2l0aGluQmFzZVVyaVNwYWNlIiwicGVyZm9ybUludGVybmFsTmF2aWdhdGlvbiIsImF0dGFjaFJvb3RDb21wb25lbnRUb0xvZ2ljYWxFbGVtZW50IiwiYXBwZW5kQ29udGVudCIsImF0dGFjaENvbXBvbmVudFRvRWxlbWVudCIsInVwZGF0ZUNvbXBvbmVudCIsImJhdGNoIiwiZWRpdHMiLCJyZWZlcmVuY2VGcmFtZXMiLCJyb290RWxlbWVudFRvQ2xlYXIiLCJyb290RWxlbWVudFRvQ2xlYXJFbmQiLCJnZXRMb2dpY2FsU2libGluZ0VuZCIsInN0YXJ0IiwiZW5kIiwiY2hpbGRyZW4iLCJyZW1vdmVTdGFydCIsImVuZEluZGV4IiwidGV4dENvbnRlbnQiLCJjbGVhckJldHdlZW4iLCJjaGlsZE5vZGUiLCJmaXJzdENoaWxkIiwiY2xlYXJFbGVtZW50Iiwib3duZXJEb2N1bWVudCIsImdldFJvb3ROb2RlIiwiYWN0aXZlRWxlbWVudEJlZm9yZSIsImFjdGl2ZUVsZW1lbnQiLCJhcHBseUVkaXRzIiwiSFRNTEVsZW1lbnQiLCJmb2N1cyIsImRpc3Bvc2VDb21wb25lbnQiLCJjaGlsZHJlbkFycmF5IiwiZW1wdHlMb2dpY2FsRWxlbWVudCIsImRpc3Bvc2VFdmVudEhhbmRsZXIiLCJjdXJyZW50RGVwdGgiLCJjaGlsZEluZGV4QXRDdXJyZW50RGVwdGgiLCJhcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyIiwiZWRpdFJlYWRlciIsImZyYW1lUmVhZGVyIiwiZWRpdHNWYWx1ZXMiLCJlZGl0c09mZnNldCIsIm9mZnNldCIsIm1heEVkaXRJbmRleEV4Y2wiLCJjb3VudCIsImVkaXRJbmRleCIsImVkaXQiLCJkaWZmUmVhZGVyIiwiZWRpdHNFbnRyeSIsImVkaXRUeXBlIiwicHJlcGVuZEZyYW1lIiwiZnJhbWVJbmRleCIsIm5ld1RyZWVJbmRleCIsImZyYW1lIiwicmVmZXJlbmNlRnJhbWVzRW50cnkiLCJzaWJsaW5nSW5kZXgiLCJpbnNlcnRGcmFtZSIsInJlbW92ZUZyYW1lIiwic2V0QXR0cmlidXRlIiwiYXBwbHlBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJhdHRyaWJ1dGVOYW1lIiwicmVtb3ZlZEF0dHJpYnV0ZU5hbWUiLCJ0cnlBcHBseVNwZWNpYWxQcm9wZXJ0eSIsInVwZGF0ZVRleHQiLCJ0ZXh0Tm9kZSIsIlRleHQiLCJ1cGRhdGVNYXJrdXAiLCJpbnNlcnRNYXJrdXAiLCJzdGVwSW4iLCJzdGVwT3V0IiwicGVybXV0YXRpb25MaXN0RW50cnkiLCJtb3ZlVG9TaWJsaW5nSW5kZXgiLCJwZXJtdXRhdGlvbkxpc3RFbmQiLCJmcmFtZXMiLCJmcmFtZVR5cGUiLCJpbnNlcnRFbGVtZW50IiwidGV4dCIsImluc2VydFRleHQiLCJhdHRyaWJ1dGUiLCJpbnNlcnRDb21wb25lbnQiLCJyZWdpb24iLCJpbnNlcnRGcmFtZVJhbmdlIiwic3VidHJlZUxlbmd0aCIsImVsZW1lbnRSZWZlcmVuY2VDYXB0dXJlIiwiZWxlbWVudFJlZmVyZW5jZUNhcHR1cmVJZCIsIm1hcmt1cCIsImVsZW1lbnROYW1lIiwibmV3RG9tRWxlbWVudFJhdyIsIm5ld0VsZW1lbnQiLCJpbnNlcnRlZCIsImRlc2NlbmRhbnRzRW5kSW5kZXhFeGNsIiwiZGVzY2VuZGFudEluZGV4IiwiZGVzY2VuZGFudEZyYW1lIiwiSFRNTE9wdGlvbkVsZW1lbnQiLCJ0cnlTZXRTZWxlY3RWYWx1ZUZyb21PcHRpb25FbGVtZW50Iiwic2V0RGVmZXJyZWRFbGVtZW50VmFsdWUiLCJvcHRpb25FbGVtZW50Iiwic2VsZWN0RWxlbSIsImZpbmRDbG9zZXN0QW5jZXN0b3JTZWxlY3RFbGVtZW50IiwiaXNCbGF6b3JTZWxlY3RFbGVtZW50IiwiaXNNdWx0aXBsZVNlbGVjdEVsZW1lbnQiLCJfYmxhem9yRGVmZXJyZWRWYWx1ZSIsInNldFNpbmdsZVNlbGVjdEVsZW1lbnRWYWx1ZSIsImNoaWxkQ29tcG9uZW50SWQiLCJ0ZXh0RnJhbWUiLCJjcmVhdGVUZXh0Tm9kZSIsIm1hcmt1cEZyYW1lIiwibWFya3VwQ29udGFpbmVyIiwicGFyc2VkTWFya3VwIiwibWFya3VwQ29udGVudCIsImlubmVySFRNTCIsImNvbnRlbnQiLCJsb2dpY2FsU2libGluZ0luZGV4IiwidG9Eb21FbGVtZW50IiwiYXR0cmlidXRlRnJhbWUiLCJhdHRyaWJ1dGVFdmVudEhhbmRsZXJJZCIsInN0cmlwT25QcmVmaXgiLCJhdHRyaWJ1dGVWYWx1ZSIsInRyeUFwcGx5VmFsdWVQcm9wZXJ0eSIsInRyeUFwcGx5Q2hlY2tlZFByb3BlcnR5IiwiYXBwbHlJbnRlcm5hbEF0dHJpYnV0ZSIsInN1YnN0cmluZyIsImludGVybmFsQXR0cmlidXRlTmFtZSIsImVuZHNXaXRoIiwibm9ybWFsaXplSW5wdXRWYWx1ZSIsInBhcmVudEVsZW1lbnQiLCJzdGFydEluZGV4IiwiZW5kSW5kZXhFeGNsIiwib3JpZ0NoaWxkSW5kZXgiLCJjb3VudERlc2NlbmRhbnRGcmFtZXMiLCJzZXRNdWx0aXBsZVNlbGVjdEVsZW1lbnRWYWx1ZSIsImJyb3dzZXJSZW5kZXJlcnMiLCJzaG91bGRSZXNldFNjcm9sbEFmdGVyTmV4dEJhdGNoIiwiaGFzUmVnaXN0ZXJlZE5hdmlnYXRpb25FdmVudExpc3RlbmVycyIsImhhc0xvY2F0aW9uQ2hhbmdpbmdFdmVudExpc3RlbmVycyIsImN1cnJlbnRIaXN0b3J5SW5kZXgiLCJjdXJyZW50TG9jYXRpb25DaGFuZ2luZ0NhbGxJZCIsIm5vdGlmeUxvY2F0aW9uQ2hhbmdlZENhbGxiYWNrIiwibm90aWZ5TG9jYXRpb25DaGFuZ2luZ0NhbGxiYWNrIiwicG9wU3RhdGVDYWxsYmFjayIsInN0YXRlIiwiaWdub3JlUGVuZGluZ05hdmlnYXRpb24iLCJfaW5kZXgiLCJ1c2VyU3RhdGUiLCJkZWx0YSIsInVyaSIsImhyZWYiLCJuYXZpZ2F0ZUhpc3RvcnlXaXRob3V0UG9wU3RhdGVDYWxsYmFjayIsIm5vdGlmeUxvY2F0aW9uQ2hhbmdpbmciLCJub3RpZnlMb2NhdGlvbkNoYW5nZWQiLCJyZXNvbHZlQ3VycmVudE5hdmlnYXRpb24iLCJpbnRlcm5hbEZ1bmN0aW9ucyIsImxpc3RlbkZvck5hdmlnYXRpb25FdmVudHMiLCJsb2NhdGlvbkNoYW5nZWRDYWxsYmFjayIsImxvY2F0aW9uQ2hhbmdpbmdDYWxsYmFjayIsIm9uUG9wU3RhdGUiLCJoaXN0b3J5IiwiZW5hYmxlTmF2aWdhdGlvbkludGVyY2VwdGlvbiIsInNldEhhc0xvY2F0aW9uQ2hhbmdpbmdMaXN0ZW5lcnMiLCJoYXNMaXN0ZW5lcnMiLCJlbmRMb2NhdGlvbkNoYW5naW5nIiwiY2FsbElkIiwic2hvdWxkQ29udGludWVOYXZpZ2F0aW9uIiwibmF2aWdhdGVUbyIsIm5hdmlnYXRlVG9Db3JlIiwiZ2V0QmFzZVVSSSIsImdldExvY2F0aW9uSHJlZiIsInNjcm9sbFRvRWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwic2Nyb2xsSW50b1ZpZXciLCJza2lwTG9jYXRpb25DaGFuZ2luZ0NhbGxiYWNrIiwiYWJzb2x1dGVVcmkiLCJmb3JjZUxvYWQiLCJyZXBsYWNlSGlzdG9yeUVudHJ5IiwiaGlzdG9yeUVudHJ5U3RhdGUiLCJyZXBsYWNlIiwidGVtcG9yYXJ5VXJpIiwicmVwbGFjZVN0YXRlIiwicGVyZm9ybUV4dGVybmFsTmF2aWdhdGlvbiIsImFic29sdXRlSW50ZXJuYWxIcmVmIiwiaW50ZXJjZXB0ZWRMaW5rIiwiaGFzaEluZGV4IiwiaGFzaCIsImlzU2FtZVBhZ2VXaXRoSGFzaCIsInNhdmVUb0Jyb3dzZXJIaXN0b3J5IiwicGVyZm9ybVNjcm9sbFRvRWxlbWVudE9uVGhlU2FtZVBhZ2UiLCJwdXNoU3RhdGUiLCJvbGRQb3BTdGF0ZUNhbGxiYWNrIiwiZ28iLCJpbnRlcmNlcHRlZCIsInRlc3RBbmNob3IiLCJyZWxhdGl2ZVVyaSIsImJhc2VVcmlXaXRob3V0VHJhaWxpbmdTbGFzaCIsImJhc2VVcmkiLCJsYXN0SW5kZXhPZiIsIm5leHRDaGFyIiwiY2hhckF0IiwiZG9tRnVuY3Rpb25zIiwicHJldmVudFNjcm9sbCIsIlNWR0VsZW1lbnQiLCJmb2N1c0J5U2VsZWN0b3IiLCJ0YWJJbmRleCIsIlZpcnR1YWxpemUiLCJpbml0IiwiZG90TmV0SGVscGVyIiwic3BhY2VyQmVmb3JlIiwic3BhY2VyQWZ0ZXIiLCJyb290TWFyZ2luIiwic2Nyb2xsQ29udGFpbmVyIiwiZmluZENsb3Nlc3RTY3JvbGxDb250YWluZXIiLCJkb2N1bWVudEVsZW1lbnQiLCJzdHlsZSIsIm92ZXJmbG93QW5jaG9yIiwicmFuZ2VCZXR3ZWVuU3BhY2VycyIsImNyZWF0ZVJhbmdlIiwiaXNWYWxpZFRhYmxlRWxlbWVudCIsImRpc3BsYXkiLCJpbnRlcnNlY3Rpb25PYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsInNldFN0YXJ0QWZ0ZXIiLCJzZXRFbmRCZWZvcmUiLCJzcGFjZXJTZXBhcmF0aW9uIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY29udGFpbmVyU2l6ZSIsInJvb3RCb3VuZHMiLCJpbnRlcnNlY3Rpb25SZWN0IiwidG9wIiwiYm91bmRpbmdDbGllbnRSZWN0Iiwib2Zmc2V0SGVpZ2h0IiwiYm90dG9tIiwicm9vdCIsIm9ic2VydmUiLCJtdXRhdGlvbk9ic2VydmVyQmVmb3JlIiwiY3JlYXRlU3BhY2VyTXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9uT2JzZXJ2ZXJBZnRlciIsInNwYWNlciIsIm9ic2VydmVyT3B0aW9ucyIsImF0dHJpYnV0ZXMiLCJtdXRhdGlvbk9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9ucyIsIm9ic2VydmVyIiwiZGlzY29ubmVjdCIsInVub2JzZXJ2ZSIsIkhUTUxUYWJsZUVsZW1lbnQiLCJIVE1MVGFibGVTZWN0aW9uRWxlbWVudCIsIm9ic2VydmVyc0J5RG90TmV0SWQiLCJvYnNlcnZlcnMiLCJib2R5IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIm92ZXJmbG93WSIsIlBhZ2VUaXRsZSIsImdldEFuZFJlbW92ZUV4aXN0aW5nVGl0bGUiLCJ0aXRsZUVsZW1lbnRzIiwiaGVhZCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZXhpc3RpbmdUaXRsZSIsImN1cnJlbnRUaXRsZUVsZW1lbnQiLCJJbnB1dEZpbGUiLCJfYmxhem9ySW5wdXRGaWxlTmV4dEZpbGVJZCIsIl9ibGF6b3JGaWxlc0J5SWQiLCJmaWxlTGlzdCIsImZpbGUiLCJsYXN0TW9kaWZpZWQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJjb250ZW50VHlwZSIsInJlYWRQcm9taXNlIiwiYmxvYiIsInRvSW1hZ2VGaWxlIiwiZmlsZUlkIiwiZm9ybWF0IiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJvcmlnaW5hbEZpbGUiLCJnZXRGaWxlQnlJZCIsImxvYWRlZEltYWdlIiwib3JpZ2luYWxGaWxlSW1hZ2UiLCJJbWFnZSIsIm9ubG9hZCIsInJldm9rZU9iamVjdFVSTCIsInNyYyIsIm9uZXJyb3IiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXNpemVkSW1hZ2VCbG9iIiwiZGVzaXJlZFdpZHRoUmF0aW8iLCJNYXRoIiwibWluIiwiZGVzaXJlZEhlaWdodFJhdGlvIiwiY2hvc2VuU2l6ZVJhdGlvIiwiY2FudmFzIiwicm91bmQiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwidG9CbG9iIiwicmVhZEZpbGVEYXRhIiwicmVnaXN0ZXJlZExvY2tzIiwiTmF2aWdhdGlvbkxvY2siLCJlbmFibGVOYXZpZ2F0aW9uUHJvbXB0Iiwib25CZWZvcmVVbmxvYWQiLCJkaXNhYmxlTmF2aWdhdGlvblByb21wdCIsInRyYW5zbWl0dGluZ0RvdE5ldFRvSlNTdHJlYW1zIiwiQmxhem9yIiwiZm9yY2VMb2FkT3JPcHRpb25zIiwicmVwbGFjZUlmVXNpbmdPbGRPdmVybG9hZCIsInJlZ2lzdGVyQ3VzdG9tRXZlbnRUeXBlIiwiYWxpYXNHcm91cCIsInJvb3RDb21wb25lbnRzIiwiX2ludGVybmFsIiwibmF2aWdhdGlvbk1hbmFnZXIiLCJkb21XcmFwcGVyIiwiZ2V0SlNEYXRhU3RyZWFtQ2h1bmsiLCJwb3NpdGlvbiIsIm5leHRDaHVua1NpemUiLCJjaHVua0Jsb2IiLCJzbGljZSIsImdldENodW5rRnJvbUJsb2IiLCJieXRlT2Zmc2V0IiwiZ2V0Q2h1bmtGcm9tQXJyYXlCdWZmZXJWaWV3IiwiYXR0YWNoV2ViUmVuZGVyZXJJbnRlcm9wIiwianNDb21wb25lbnRQYXJhbWV0ZXJzIiwianNDb21wb25lbnRJbml0aWFsaXplcnMiLCJrZXlzIiwibWFuYWdlckluc3RhbmNlIiwiaW5pdGlhbGl6ZXJJZGVudGlmaWVyIiwiY29tcG9uZW50SWRlbnRpZmllcnMiLCJpbml0aWFsaXplckZ1bmMiLCJlbmFibGVKU1Jvb3RDb21wb25lbnRzIiwiaGFzRmFpbGVkIiwibmF0aXZlRGVjb2RlciIsIlRleHREZWNvZGVyIiwiZGVjb2RlVXRmOCIsImRlY29kZSIsImJ5dGVzIiwicG9zIiwibGVuIiwib3V0Iiwic3Vic3RyaW5ncyIsImJ5dGUxIiwiYnl0ZTIiLCJieXRlMyIsImNvZGVwb2ludCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImFwcGx5Iiwiam9pbiIsInVpbnQ2NEhpZ2hQYXJ0U2hpZnQiLCJwb3ciLCJtYXhTYWZlTnVtYmVySGlnaFBhcnQiLCJyZWFkSW50MzJMRSIsInJlYWRVaW50MzJMRSIsInJlYWRVaW50NjRMRSIsImhpZ2hQYXJ0IiwiT3V0T2ZQcm9jZXNzUmVuZGVyQmF0Y2giLCJiYXRjaERhdGEiLCJzdHJpbmdSZWFkZXIiLCJPdXRPZlByb2Nlc3NTdHJpbmdSZWFkZXIiLCJhcnJheVJhbmdlUmVhZGVyIiwiT3V0T2ZQcm9jZXNzQXJyYXlSYW5nZVJlYWRlciIsIk91dE9mUHJvY2Vzc0FycmF5QnVpbGRlclNlZ21lbnRSZWFkZXIiLCJPdXRPZlByb2Nlc3NSZW5kZXJUcmVlRGlmZlJlYWRlciIsIk91dE9mUHJvY2Vzc1JlbmRlclRyZWVFZGl0UmVhZGVyIiwiT3V0T2ZQcm9jZXNzUmVuZGVyVHJlZUZyYW1lUmVhZGVyIiwidXBkYXRlZENvbXBvbmVudHMiLCJkaXNwb3NlZENvbXBvbmVudElkcyIsImRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzIiwidXBkYXRlZENvbXBvbmVudHNFbnRyeSIsInRhYmxlRW50cnlQb3MiLCJkaXNwb3NlZENvbXBvbmVudElkc0VudHJ5IiwiZW50cnlQb3MiLCJkaXNwb3NlZEV2ZW50SGFuZGxlcklkc0VudHJ5IiwiYmF0Y2hEYXRhVWludDgiLCJkaWZmIiwic3RyaW5nSW5kZXgiLCJyZWFkU3RyaW5nIiwic3RyaW5nVGFibGVTdGFydEluZGV4Iiwic3RyaW5nVGFibGVFbnRyeVBvcyIsIm51bVV0ZjhCeXRlcyIsImJ5dGUiLCJyZWFkTEVCMTI4IiwiY2hhcnNTdGFydCIsInV0ZjhEYXRhIiwiYXJyYXlSYW5nZSIsIl9hcnJheUJ1aWxkZXJTZWdtZW50IiwiYXJyYXlCdWlsZGVyU2VnbWVudCIsImlwY01lc3NhZ2VQcmVmaXgiLCJhcHBsaWNhdGlvbklzVGVybWluYXRlZCIsInNlbmRSZW5kZXJDb21wbGV0ZWQiLCJiYXRjaElkIiwiZXJyb3JPck51bGwiLCJzZW5kIiwic2VuZEJlZ2luSW52b2tlRG90TmV0RnJvbUpTIiwic2VuZEVuZEludm9rZUpTRnJvbURvdE5ldCIsInN1Y2NlZWRlZCIsImRhdGFCYXNlNjRFbmNvZGVkIiwiY2hhckJ5dGVzIiwiYnRvYSIsImJhc2U2NEVuY29kZUJ5dGVBcnJheSIsInNlbmRMb2NhdGlvbkNoYW5nZWQiLCJzZW5kTG9jYXRpb25DaGFuZ2luZyIsIm1lc3NhZ2VUeXBlIiwic2VyaWFsaXplZE1lc3NhZ2UiLCJ0cnlTZXJpYWxpemVNZXNzYWdlIiwiZXh0ZXJuYWwiLCJzZW5kTWVzc2FnZSIsInJlY2VpdmVCYXNlNjRCeXRlQXJyYXkiLCJiYXNlNjREYXRhIiwiYmFzZTY0VG9BcnJheUJ1ZmZlciIsImRpc3BhdGNoZXIiLCJiYXNlNjQiLCJiaW5hcnlTdHJpbmciLCJhdG9iIiwiY2hhckNvZGVBdCIsIkpTSW5pdGlhbGl6ZXIiLCJhZnRlclN0YXJ0ZWRDYWxsYmFja3MiLCJpbml0aWFsaXplckZpbGVzIiwiaW5pdGlhbGl6ZXJBcmd1bWVudHMiLCJhbGwiLCJqc0luaXRpYWxpemVyIiwiYWRqdXN0ZWRQYXRoIiwiYmFzZSIsImFkanVzdFBhdGgiLCJpbml0aWFsaXplciIsImJlZm9yZVN0YXJ0IiwiYWZ0ZXJTdGFydGVkIiwiaW1wb3J0QW5kSW52b2tlSW5pdGlhbGl6ZXIiLCJibGF6b3IiLCJzdGFydGVkIiwiYm9vdCIsImpzSW5pdGlhbGl6ZXJzUmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImNyZWRlbnRpYWxzIiwiY2FjaGUiLCJpbml0aWFsaXplcnMiLCJpbXBvcnRJbml0aWFsaXplcnNBc3luYyIsImZldGNoQW5kSW52b2tlSW5pdGlhbGl6ZXJzIiwibWVzc2FnZUhhbmRsZXJzIiwiZWxlbWVudFNlbGVjdG9yIiwiYWZ0ZXJFbGVtZW50U2VsZWN0b3IiLCJiZWZvcmVFbGVtZW50U2VsZWN0b3IiLCJjb250YWluZXIiLCJnZXRBbmRSZW1vdmVQZW5kaW5nUm9vdENvbXBvbmVudENvbnRhaW5lciIsImJyb3dzZXJSZW5kZXJlciIsImF0dGFjaFJvb3RDb21wb25lbnRUb0VsZW1lbnQiLCJiYXRjaERhdGFCYXNlNjQiLCJ1cGRhdGVkQ29tcG9uZW50c1JhbmdlIiwidXBkYXRlZENvbXBvbmVudHNWYWx1ZXMiLCJ1cGRhdGVkQ29tcG9uZW50c0xlbmd0aCIsInJlZmVyZW5jZUZyYW1lc1ZhbHVlcyIsImRpc3Bvc2VkQ29tcG9uZW50SWRzUmFuZ2UiLCJkaXNwb3NlZENvbXBvbmVudElkc1ZhbHVlcyIsImRpc3Bvc2VkQ29tcG9uZW50SWRzTGVuZ3RoIiwiZGlzcG9zZWRFdmVudEhhbmRsZXJJZHNSYW5nZSIsImRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzVmFsdWVzIiwiZGlzcG9zZWRFdmVudEhhbmRsZXJJZHNMZW5ndGgiLCJzY3JvbGxUbyIsInJlbmRlckJhdGNoIiwic3RhY2tUcmFjZSIsImVycm9yVWkiLCJxdWVyeVNlbGVjdG9yQWxsIiwicmVsb2FkIiwib25jbGljayIsImRpc21pc3MiLCJzaG93RXJyb3JOb3RpZmljYXRpb24iLCJyZWNlaXZlTWVzc2FnZSIsInBhcnNlZE1lc3NhZ2UiLCJtZXNzYWdlQWZ0ZXJQcmVmaXgiLCJ0cnlEZXNlcmlhbGl6ZU1lc3NhZ2UiLCJzdGFydElwY1JlY2VpdmVyIiwicmVjZWl2ZVdlYlZpZXdEb3ROZXREYXRhU3RyZWFtIiwiaW52b2tlQWZ0ZXJTdGFydGVkQ2FsbGJhY2tzIiwiYnl0ZXNSZWFkIiwiZXJyb3JNZXNzYWdlIiwic3RyZWFtQ29udHJvbGxlciIsInJlYWRhYmxlU3RyZWFtIiwiUmVhZGFibGVTdHJlYW0iLCJjb250cm9sbGVyIiwiY2xvc2UiLCJlbnF1ZXVlIiwic3ViYXJyYXkiLCJyZWNlaXZlRG90TmV0RGF0YVN0cmVhbSIsImN1cnJlbnRTY3JpcHQiXSwic291cmNlUm9vdCI6IiJ9